<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Mon Feb 26 16:41:34 CET 2024 -->
<title>StateManager (Narayana: narayana-full 7.0.1.Final API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-02-26">
<meta name="description" content="declaration: package: com.arjuna.ats.arjuna, class: StateManager">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><b>Narayana: narayana-full 7.0.1.Final</b></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/StateManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.arjuna.ats.arjuna</a></div>
<h1 title="Class StateManager" class="title">Class StateManager</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.arjuna.ats.arjuna.StateManager</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a></code>, <code><a href="coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a></code>, <code><a href="../txoj/Lock.html" title="class in com.arjuna.ats.txoj">Lock</a></code>, <code><a href="../txoj/LockManager.html" title="class in com.arjuna.ats.txoj">LockManager</a></code>, <code><a href="../internal/txoj/recovery/RecoveredTransactionalObject.html" title="class in com.arjuna.ats.internal.txoj.recovery">RecoveredTransactionalObject</a></code>, <code><a href="tools/osb/mbean/StateManagerWrapper.html" title="class in com.arjuna.ats.arjuna.tools.osb.mbean">StateManagerWrapper</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">StateManager</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">The root of the Arjuna class hierarchy. This class provides state management
 facilities than can be automatically used by other classes by inheritance.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>JTS 1.0.</dd>
<dt>Version:</dt>
<dd>$Id: StateManager.java 2342 2006-03-30 13:06:17Z $</dd>
<dt>Author:</dt>
<dd>Mark Little (mark@arjuna.com)</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Hashtable.html" title="class or interface in java.util" class="external-link">Hashtable</a></code></div>
<div class="col-second even-row-color"><code><a href="#modifyingActions" class="member-name-link">modifyingActions</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected int</code></div>
<div class="col-second odd-row-color"><code><a href="#objectModel" class="member-name-link">objectModel</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final <a href="common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a></code></div>
<div class="col-second even-row-color"><code><a href="#objectUid" class="member-name-link">objectUid</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/locks/Lock.html" title="class or interface in java.util.concurrent.locks" class="external-link">Lock</a></code></div>
<div class="col-second odd-row-color"><code><a href="#synchronizationLock" class="member-name-link">synchronizationLock</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Hashtable.html" title="class or interface in java.util" class="external-link">Hashtable</a></code></div>
<div class="col-second even-row-color"><code><a href="#usingActions" class="member-name-link">usingActions</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">StateManager</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected </code></div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(int)" class="member-name-link">StateManager</a><wbr>(int&nbsp;ot)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(int,int)" class="member-name-link">StateManager</a><wbr>(int&nbsp;ot,
 int&nbsp;om)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected </code></div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(com.arjuna.ats.arjuna.common.Uid)" class="member-name-link">StateManager</a><wbr>(<a href="common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid)</code></div>
<div class="col-last odd-row-color">
<div class="block">Create object with specific uid.</div>
</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(com.arjuna.ats.arjuna.common.Uid,int)" class="member-name-link">StateManager</a><wbr>(<a href="common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
 int&nbsp;ot)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected </code></div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(com.arjuna.ats.arjuna.common.Uid,int,int)" class="member-name-link">StateManager</a><wbr>(<a href="common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
 int&nbsp;ot,
 int&nbsp;om)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#activate()" class="member-name-link">activate</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This operation activates an object.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#activate(java.lang.String)" class="member-name-link">activate</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rootName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This operation activates an object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cleanup(boolean)" class="member-name-link">cleanup</a><wbr>(boolean&nbsp;fromTerminate)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Object cleanup.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createLists()" class="member-name-link">createLists</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deactivate()" class="member-name-link">deactivate</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This operation deactivates a persistent object.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deactivate(java.lang.String)" class="member-name-link">deactivate</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rootName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This operation deactivates a persistent object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deactivate(java.lang.String,boolean)" class="member-name-link">deactivate</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rootName,
 boolean&nbsp;commit)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This operation deactivates a persistent object.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#destroy()" class="member-name-link">destroy</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Destroy the object (e.g., remove its state from the persistent store.)
 Calls to destroy for volatile objects (ones not maintained within the
 volatile object store) are ignored, and FALSE is returned.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#disable()" class="member-name-link">disable</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The following function disables recovery for an object by setting the
 ObjectType to NEITHER (RECOVERABLE or ANDPERSISTENT).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#forgetAction(com.arjuna.ats.arjuna.coordinator.BasicAction,boolean,int)" class="member-name-link">forgetAction</a><wbr>(<a href="coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;action,
 boolean&nbsp;committed,
 int&nbsp;recordType)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove action from list of using actions.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#get_uid()" class="member-name-link">get_uid</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCreationTimeMillis()" class="member-name-link">getCreationTimeMillis</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html" title="class or interface in java.util.concurrent.locks" class="external-link">ReentrantLock</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMutex()" class="member-name-link">getMutex</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getObjectModel()" class="member-name-link">getObjectModel</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="objectstore/ParticipantStore.html" title="interface in com.arjuna.ats.arjuna.objectstore">ParticipantStore</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getStore()" class="member-name-link">getStore</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getStoreRoot()" class="member-name-link">getStoreRoot</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#loadObjectState()" class="member-name-link">loadObjectState</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Do we need to load the object's state?</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#lockMutex()" class="member-name-link">lockMutex</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#modified()" class="member-name-link">modified</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The object's state is about to be modified, and StateManager should take
 a snapshot of the state if the object is being used within a transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#objectType()" class="member-name-link">objectType</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#packHeader(com.arjuna.ats.arjuna.state.OutputObjectState,com.arjuna.ats.internal.arjuna.Header)" class="member-name-link">packHeader</a><wbr>(<a href="state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;os,
 com.arjuna.ats.internal.arjuna.Header&nbsp;hdr)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Pack the necessary information for crash recovery.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#persist()" class="member-name-link">persist</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The persist function changes the type of the object from RECOVERABLE to
 ANDPERSISTENT.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#print(java.io.PrintWriter)" class="member-name-link">print</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/PrintWriter.html" title="class or interface in java.io" class="external-link">PrintWriter</a>&nbsp;strm)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Print out information about the object.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#rememberAction(com.arjuna.ats.arjuna.coordinator.BasicAction,int,int)" class="member-name-link">rememberAction</a><wbr>(<a href="coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;action,
 int&nbsp;recordType,
 int&nbsp;state)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remember that the specified transaction is using the object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#restore_state(com.arjuna.ats.arjuna.state.InputObjectState,int)" class="member-name-link">restore_state</a><wbr>(<a href="state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;os,
 int&nbsp;ot)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">These methods must be provided by a derived class.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#save_state(com.arjuna.ats.arjuna.state.OutputObjectState,int)" class="member-name-link">save_state</a><wbr>(<a href="state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;os,
 int&nbsp;ot)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">These methods must be used by a derived class.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setStatus(int)" class="member-name-link">setStatus</a><wbr>(int&nbsp;s)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setupStore()" class="member-name-link">setupStore</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Make sure the object store is set up, if required.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setupStore(java.lang.String)" class="member-name-link">setupStore</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rootName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setupStore(java.lang.String,java.lang.String)" class="member-name-link">setupStore</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rootName,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;objectStoreType)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Make sure the object store is set up, if required.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#status()" class="member-name-link">status</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#terminate()" class="member-name-link">terminate</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The following function checks to see if the object is going out of scope
 while an action is still running.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#tryLockMutex()" class="member-name-link">tryLockMutex</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#type()" class="member-name-link">type</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The object's type.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected final boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#unlockMutex()" class="member-name-link">unlockMutex</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#unpackHeader(com.arjuna.ats.arjuna.state.InputObjectState,com.arjuna.ats.internal.arjuna.Header)" class="member-name-link">unpackHeader</a><wbr>(<a href="state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;os,
 com.arjuna.ats.internal.arjuna.Header&nbsp;hdr)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Unpack the crash recovery state header information and return it.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="modifyingActions">
<h3>modifyingActions</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Hashtable.html" title="class or interface in java.util" class="external-link">Hashtable</a></span>&nbsp;<span class="element-name">modifyingActions</span></div>
</section>
</li>
<li>
<section class="detail" id="usingActions">
<h3>usingActions</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Hashtable.html" title="class or interface in java.util" class="external-link">Hashtable</a></span>&nbsp;<span class="element-name">usingActions</span></div>
</section>
</li>
<li>
<section class="detail" id="objectUid">
<h3>objectUid</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a></span>&nbsp;<span class="element-name">objectUid</span></div>
</section>
</li>
<li>
<section class="detail" id="objectModel">
<h3>objectModel</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">objectModel</span></div>
</section>
</li>
<li>
<section class="detail" id="synchronizationLock">
<h3>synchronizationLock</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/locks/Lock.html" title="class or interface in java.util.concurrent.locks" class="external-link">Lock</a></span>&nbsp;<span class="element-name">synchronizationLock</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(com.arjuna.ats.arjuna.common.Uid)">
<h3>StateManager</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">StateManager</span><wbr><span class="parameters">(<a href="common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid)</span></div>
<div class="block">Create object with specific uid. This constructor is primarily used when
 recreating an existing object. The object type is set to 'ANDPERSISTENT'
 this is equivalent to invoking persist in the object constructor.</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(com.arjuna.ats.arjuna.common.Uid,int)">
<h3>StateManager</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">StateManager</span><wbr><span class="parameters">(<a href="common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
 int&nbsp;ot)</span></div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(com.arjuna.ats.arjuna.common.Uid,int,int)">
<h3>StateManager</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">StateManager</span><wbr><span class="parameters">(<a href="common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
 int&nbsp;ot,
 int&nbsp;om)</span></div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>StateManager</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">StateManager</span>()</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(int)">
<h3>StateManager</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">StateManager</span><wbr><span class="parameters">(int&nbsp;ot)</span></div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(int,int)">
<h3>StateManager</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">StateManager</span><wbr><span class="parameters">(int&nbsp;ot,
 int&nbsp;om)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="save_state(com.arjuna.ats.arjuna.state.OutputObjectState,int)">
<h3>save_state</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">save_state</span><wbr><span class="parameters">(<a href="state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;os,
 int&nbsp;ot)</span></div>
<div class="block">These methods must be used by a derived class. They are responsible for
 packing and unpacking an object's state to/from a state buffer.
 StateManager calls them at appropriate times during the lifetime of the
 object, and may then pass the buffer to a persistent object store for
 saving.
 
 If a derived class calls super.save_state then it must be called before
 packing any other data item.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> on success, <code>false</code> otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="restore_state(com.arjuna.ats.arjuna.state.InputObjectState,int)">
<h3>restore_state</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">restore_state</span><wbr><span class="parameters">(<a href="state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;os,
 int&nbsp;ot)</span></div>
<div class="block">These methods must be provided by a derived class. They are responsible
 for packing and unpacking an object's state to/from a state buffer.
 StateManager calls them at appropriate times during the lifetime of the
 object, and may then pass the buffer to a persistent object store for
 saving.
 
 Data items must be unpacked in the same order that they were packed.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> on success, <code>false</code> otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="activate()">
<h3>activate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">activate</span>()</div>
<div class="block">This operation activates an object. Activation of an object may entail
 loading its passive state from the object store and unpacking it into the
 memory resident form, or it may simply be a no-op. Full activation is
 only necessary if the object is currently marked as being PASSIVE (that
 is, the object was constructed as being of type ANDPERSISTENT with an
 existing uid and has not already been activated). Objects that are not of
 type ANDPERSISTENT or are persistent but have not yet been saved in an
 object store (so-called new persistent objects) are unaffected by this
 function. Returns false if PASSIVE object cannot be loaded from object
 store, true otherwise. The root of the object store is taken as
 <code>null</code>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> on success, <code>false</code> otherwise.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="objectstore/ObjectStore.html" title="class in com.arjuna.ats.arjuna.objectstore"><code>ObjectStore</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="activate(java.lang.String)">
<h3>activate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">activate</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rootName)</span></div>
<div class="block">This operation activates an object. Activation of an object may entail
 loading its passive state from the object store and unpacking it into the
 memory resident form, or it may simply be a no-op. Full activation is
 only necessary if the object is currently marked as being PASSIVE (that
 is, the object was constructed as being of type ANDPERSISTENT with an
 existing uid and has not already been activated). Objects that are not of
 type ANDPERSISTENT or are persistent but have not yet been saved in an
 object store (so-called new persistent objects) are unaffected by this
 function. Returns false if PASSIVE object cannot be loaded from object
 store, true otherwise.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> on success, <code>false</code> otherwise.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="objectstore/ObjectStore.html" title="class in com.arjuna.ats.arjuna.objectstore"><code>ObjectStore</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deactivate()">
<h3>deactivate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">deactivate</span>()</div>
<div class="block">This operation deactivates a persistent object. It behaves in a similar
 manner to the activate operation, but has an extra argument which defines
 whether the object's state should be committed or written as a shadow.
 The root of the object store is <code>null</code>. It is assumed that
 this is being called during a transaction commit.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> on success, <code>false</code> otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deactivate(java.lang.String)">
<h3>deactivate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">deactivate</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rootName)</span></div>
<div class="block">This operation deactivates a persistent object. It behaves in a similar
 manner to the activate operation, but has an extra argument which defines
 whether the object's state should be commited now or not. It is assumed
 that this is being called during a transaction commit.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> on success, <code>false</code> otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deactivate(java.lang.String,boolean)">
<h3>deactivate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">deactivate</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rootName,
 boolean&nbsp;commit)</span></div>
<div class="block">This operation deactivates a persistent object. It behaves in a similar
 manner to the activate operation, but has an extra argument which defines
 whether the object's state should be commited now or not.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> on success, <code>false</code> otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="status()">
<h3>status</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">status</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the object's current status (active, passive, ...)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="objectType()">
<h3>objectType</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">objectType</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the type of the object (persistent, recoverable, ...)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getObjectModel()">
<h3>getObjectModel</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getObjectModel</span>()</div>
</section>
</li>
<li>
<section class="detail" id="get_uid()">
<h3>get_uid</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a></span>&nbsp;<span class="element-name">get_uid</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the object's unique identifier.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCreationTimeMillis()">
<h3>getCreationTimeMillis</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getCreationTimeMillis</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the time the object was created in milliseconds since midnight, January 1, 1970 UTC</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><code>System.currentTimeMillis</code></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="destroy()">
<h3>destroy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">destroy</span>()</div>
<div class="block">Destroy the object (e.g., remove its state from the persistent store.)
 Calls to destroy for volatile objects (ones not maintained within the
 volatile object store) are ignored, and FALSE is returned.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> on success, <code>false</code> otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="disable()">
<h3>disable</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">disable</span>()</div>
<div class="block">The following function disables recovery for an object by setting the
 ObjectType to NEITHER (RECOVERABLE or ANDPERSISTENT). The value of this
 variable is checked in the modified operation so that no recovery
 information is created if myType is set to NEITHER.</div>
</section>
</li>
<li>
<section class="detail" id="print(java.io.PrintWriter)">
<h3>print</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">print</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/PrintWriter.html" title="class or interface in java.io" class="external-link">PrintWriter</a>&nbsp;strm)</span></div>
<div class="block">Print out information about the object.</div>
</section>
</li>
<li>
<section class="detail" id="type()">
<h3>type</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">type</span>()</div>
<div class="block">The object's type. Derived classes should override this to reflect their
 type structure. Typically this string is used for locating the object
 state in an object store, and reflects the hierarchy structure of the
 object.</div>
</section>
</li>
<li>
<section class="detail" id="getStoreRoot()">
<h3>getStoreRoot</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getStoreRoot</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the root of the object store this instance will use if it has to
         save the state of the object to storage.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getStore()">
<h3>getStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="objectstore/ParticipantStore.html" title="interface in com.arjuna.ats.arjuna.objectstore">ParticipantStore</a></span>&nbsp;<span class="element-name">getStore</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the object store this instance will used if it has to save the
         state of the object to storage.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="packHeader(com.arjuna.ats.arjuna.state.OutputObjectState,com.arjuna.ats.internal.arjuna.Header)">
<h3>packHeader</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">packHeader</span><wbr><span class="parameters">(<a href="state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;os,
 com.arjuna.ats.internal.arjuna.Header&nbsp;hdr)</span>
                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Pack the necessary information for crash recovery.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dt>Since:</dt>
<dd>JTS 2.1.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="unpackHeader(com.arjuna.ats.arjuna.state.InputObjectState,com.arjuna.ats.internal.arjuna.Header)">
<h3>unpackHeader</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">unpackHeader</span><wbr><span class="parameters">(<a href="state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;os,
 com.arjuna.ats.internal.arjuna.Header&nbsp;hdr)</span>
                     throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Unpack the crash recovery state header information and return it.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>os</code> - the identity of the transaction that last caused the state to
            be written to the object store.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dt>Since:</dt>
<dd>JTS 2.1.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="terminate()">
<h3>terminate</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">terminate</span>()</div>
<div class="block">The following function checks to see if the object is going out of scope
 while an action is still running.</div>
</section>
</li>
<li>
<section class="detail" id="setStatus(int)">
<h3>setStatus</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setStatus</span><wbr><span class="parameters">(int&nbsp;s)</span></div>
</section>
</li>
<li>
<section class="detail" id="modified()">
<h3>modified</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">modified</span>()</div>
<div class="block">The object's state is about to be modified, and StateManager should take
 a snapshot of the state if the object is being used within a transaction.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> on success, <code>false</code> otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="persist()">
<h3>persist</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">persist</span>()</div>
<div class="block">The persist function changes the type of the object from RECOVERABLE to
 ANDPERSISTENT. No changes are made unless the status of the object is
 ACTIVE, so it is not possible to change the type of the object if it has
 been modified.</div>
</section>
</li>
<li>
<section class="detail" id="cleanup(boolean)">
<h3>cleanup</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">cleanup</span><wbr><span class="parameters">(boolean&nbsp;fromTerminate)</span></div>
<div class="block">Object cleanup. Attempt sane cleanup when object is deleted. Handle
 perverse cases where multiple actions are still active as object dies.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>fromTerminate</code> - indicates whether this method is being called from the
            <code>terminate</code> method, or from elsewhere.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#terminate()"><code>terminate()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setupStore()">
<h3>setupStore</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setupStore</span>()</div>
<div class="block">Make sure the object store is set up, if required. The root of the object
 store is assumed to be <code>null</code>.</div>
</section>
</li>
<li>
<section class="detail" id="setupStore(java.lang.String)">
<h3>setupStore</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setupStore</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rootName)</span></div>
</section>
</li>
<li>
<section class="detail" id="setupStore(java.lang.String,java.lang.String)">
<h3>setupStore</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setupStore</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rootName,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;objectStoreType)</span></div>
<div class="block">Make sure the object store is set up, if required.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rootName</code> - indicates the root of the object store.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="loadObjectState()">
<h3>loadObjectState</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">loadObjectState</span>()</div>
<div class="block">Do we need to load the object's state?</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> if the object state should be loaded,
         <code>false</code> otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="forgetAction(com.arjuna.ats.arjuna.coordinator.BasicAction,boolean,int)">
<h3>forgetAction</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">forgetAction</span><wbr><span class="parameters">(<a href="coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;action,
 boolean&nbsp;committed,
 int&nbsp;recordType)</span></div>
<div class="block">Remove action from list of using actions. If the action list empties
 reset state to PASSIVE. The second param tells why the action should be
 forgotten. This aids in resetting the state correctly.</div>
</section>
</li>
<li>
<section class="detail" id="rememberAction(com.arjuna.ats.arjuna.coordinator.BasicAction,int,int)">
<h3>rememberAction</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">rememberAction</span><wbr><span class="parameters">(<a href="coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;action,
 int&nbsp;recordType,
 int&nbsp;state)</span></div>
<div class="block">Remember that the specified transaction is using the object.</div>
</section>
</li>
<li>
<section class="detail" id="getMutex()">
<h3>getMutex</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html" title="class or interface in java.util.concurrent.locks" class="external-link">ReentrantLock</a></span>&nbsp;<span class="element-name">getMutex</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the mutex object used to lock this object.</dd>
<dt>Since:</dt>
<dd>JTS 2.1.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="lockMutex()">
<h3>lockMutex</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">lockMutex</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the result of the attempt to lock this object.</dd>
<dt>Since:</dt>
<dd>JTS 2.1.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="unlockMutex()">
<h3>unlockMutex</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">unlockMutex</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the result of the attempt to unlock this object.</dd>
<dt>Since:</dt>
<dd>JTS 2.1.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="tryLockMutex()">
<h3>tryLockMutex</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">tryLockMutex</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> if the object was locked, <code>false</code> if
         the attempt would cause the thread to block.</dd>
<dt>Since:</dt>
<dd>JTS 2.1.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createLists()">
<h3>createLists</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">createLists</span>()</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024 <a href="http://www.jboss.org">JBoss by Red Hat</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
