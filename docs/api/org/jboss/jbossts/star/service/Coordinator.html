<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html" charset="UTF-8"> <title>Coordinator (Narayana: narayana-full 5.0.4.Final-SNAPSHOT API)</title> <meta name="date" content="2014-11-19"> <link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style"> </head> <body> <script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Coordinator (Narayana: narayana-full 5.0.4.Final-SNAPSHOT API)";
    }
//-->
</script> <noscript> <div>JavaScript is disabled on your browser.</div> </noscript> <div class="topNav"><a name="navbar_top"> </a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow"> </a> <ul class="navList" title="Navigation"> <li><a href="../../../../../overview-summary.html">Overview</a></li> <li><a href="package-summary.html">Package</a></li> <li class="navBarCell1Rev">Class</li> <li><a href="class-use/Coordinator.html">Use</a></li> <li><a href="package-tree.html">Tree</a></li> <li><a href="../../../../../deprecated-list.html">Deprecated</a></li> <li><a href="../../../../../index-all.html">Index</a></li> <li><a href="../../../../../help-doc.html">Help</a></li> </ul> <div class="aboutLanguage"><em><b>Narayana: narayana-full 5.0.4.Final-SNAPSHOT</b></em></div> </div> <div class="subNav"> <ul class="navList"> <li><a href="../../../../../org/jboss/jbossts/star/service/ContextListener.html" title="class in org.jboss.jbossts.star.service"><span class="strong">Prev Class</span></a></li> <li><a href="../../../../../org/jboss/jbossts/star/service/TMApplication.html" title="class in org.jboss.jbossts.star.service"><span class="strong">Next Class</span></a></li> </ul> <ul class="navList"> <li><a href="../../../../../index.html?org/jboss/jbossts/star/service/Coordinator.html" target="_top">Frames</a></li> <li><a href="Coordinator.html" target="_top">No Frames</a></li> </ul> <ul class="navList" id="allclasses_navbar_top"> <li><a href="../../../../../allclasses-noframe.html">All Classes</a></li> </ul> <div> <script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script> </div> <div> <ul class="subNavList"> <li>Summary:&nbsp;</li> <li>Nested&nbsp;|&nbsp;</li> <li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li> <li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method_summary">Method</a></li> </ul> <ul class="subNavList"> <li>Detail:&nbsp;</li> <li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li> <li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method_detail">Method</a></li> </ul> </div> <a name="skip-navbar_top"> </a></div> <div class="header"> <div class="subTitle">org.jboss.jbossts.star.service</div> <h2 title="Class Coordinator" class="title">Class Coordinator</h2> </div> <div class="contentContainer"> <ul class="inheritance"> <li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li> <li> <ul class="inheritance"> <li>org.jboss.jbossts.star.service.Coordinator</li> </ul> </li> </ul> <div class="description"> <ul class="blockList"> <li class="blockList"> <hr> <br> <pre>@Path(value="/tx/")
public class <span class="strong">Coordinator</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre> </li> </ul> </div> <div class="summary"> <ul class="blockList"> <li class="blockList"> <ul class="blockList"> <li class="blockList"><a name="field_summary"> </a> <h3>Field Summary</h3> <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation"> <caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption> <tr> <th class="colFirst" scope="col">Modifier and Type</th> <th class="colLast" scope="col">Field and Description</th> </tr> <tr class="altColor"> <td class="colFirst"><code>protected static org.jboss.logging.Logger</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#log">log</a></strong></code>&nbsp;</td> </tr> </table> </li> </ul> <ul class="blockList"> <li class="blockList"><a name="constructor_summary"> </a> <h3>Constructor Summary</h3> <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation"> <caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption> <tr> <th class="colOne" scope="col">Constructor and Description</th> </tr> <tr class="altColor"> <td class="colOne"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#Coordinator()">Coordinator</a></strong>()</code>&nbsp;</td> </tr> </table> </li> </ul> <ul class="blockList"> <li class="blockList"><a name="method_summary"> </a> <h3>Method Summary</h3> <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation"> <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption> <tr> <th class="colFirst" scope="col">Modifier and Type</th> <th class="colLast" scope="col">Method and Description</th> </tr> <tr class="altColor"> <td class="colFirst"><code>javax.ws.rs.core.Response</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#beginTransaction(javax.ws.rs.core.UriInfo,%20javax.ws.rs.core.HttpHeaders,%20java.lang.String)">beginTransaction</a></strong>(javax.ws.rs.core.UriInfo&nbsp;info, javax.ws.rs.core.HttpHeaders&nbsp;headers, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;content)</code> <div class="block">Performing a POST on Transaction Manager URL @see TxSupport.TX_SEGMENT with no content as shown below will start a new transaction with a default timeout.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>javax.ws.rs.core.Response</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#deleteParticipant(java.lang.String)">deleteParticipant</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;enlistmentId)</code> <div class="block">Performing DELETE on participant's recovery URL removes participant from the transaction.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>javax.ws.rs.core.Response</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#deleteTransaction(java.lang.String)">deleteTransaction</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</code> <div class="block">Performing a DELETE on the transaction-coordinator URL will return a 403.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>javax.ws.rs.core.Response</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#enlistParticipant(java.lang.String,%20javax.ws.rs.core.UriInfo,%20java.lang.String,%20java.lang.String)">enlistParticipant</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;linkHeader, javax.ws.rs.core.UriInfo&nbsp;info, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;content)</code> <div class="block">Register a participant in a tx</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>javax.ws.rs.core.Response</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#enlistVolatileParticipant(java.lang.String,%20javax.ws.rs.core.UriInfo,%20java.lang.String)">enlistVolatileParticipant</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;linkHeader, javax.ws.rs.core.UriInfo&nbsp;info, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId)</code> <div class="block">Register a volatile participant in a tx</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>javax.ws.rs.core.Response</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#getAllTransactions(javax.ws.rs.core.UriInfo)">getAllTransactions</a></strong>(javax.ws.rs.core.UriInfo&nbsp;info)</code> <div class="block">Performing a GET on the transaction-manager returns a list of all transaction URIs known to the coordinator (active and in recovery) separated by the @see TxSupport.URI_SEPARATOR character</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>javax.ws.rs.core.Response</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#getTransactionExtStatus(javax.ws.rs.core.UriInfo,%20java.lang.String)">getTransactionExtStatus</a></strong>(javax.ws.rs.core.UriInfo&nbsp;info, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</code> <div class="block">Performing a GET on the transaction URL with media type application/txstatusext+xml returns extended information about the transaction, such as its status, number of participants, and their individual URIs.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>org.jboss.jbossts.star.util.media.txstatusext.TransactionManagerElement</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#getTransactionManagerInfo(javax.ws.rs.core.UriInfo)">getTransactionManagerInfo</a></strong>(javax.ws.rs.core.UriInfo&nbsp;info)</code> <div class="block">Performing a GET on the transaction-manager URI with media type application/txstatusext+xml returns extended information about the transaction-manager resource such as how long it has been up and all transaction-coordinator URIs.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>org.jboss.jbossts.star.util.media.txstatusext.TransactionStatisticsElement</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#getTransactionStatistics()">getTransactionStatistics</a></strong>()</code> <div class="block">Performing a GET on the transaction-manager URI sufficed with /statistics returns statistics of the transaction manager.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>javax.ws.rs.core.Response</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#getTransactionStatus(javax.ws.rs.core.UriInfo,%20java.lang.String)">getTransactionStatus</a></strong>(javax.ws.rs.core.UriInfo&nbsp;info, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</code> <div class="block">Performing a GET on the transaction url returns its status</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>javax.ws.rs.core.Response</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#getTransactionURIs(javax.ws.rs.core.UriInfo,%20java.lang.String)">getTransactionURIs</a></strong>(javax.ws.rs.core.UriInfo&nbsp;info, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</code> <div class="block">Obtain the transaction terminator and participant enlistment URIs for the specified transaction id.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>javax.ws.rs.core.Response</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#lookupParticipant(java.lang.String,%20java.lang.String)">lookupParticipant</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;enlistmentId)</code> <div class="block">Get the participant url (registered during enlistParticipant) corresponding to a resource reference if the coordinator crashes - the participant list will be empty but this is ok if commit hasn't been called since the TM uses presumed abort semantics.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>javax.ws.rs.core.Response</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#postParticipant(java.lang.String)">postParticipant</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;enlistmentId)</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#removeTxState(int,%20org.jboss.jbossts.star.resource.Transaction,%20java.util.Collection)">removeTxState</a></strong>(int&nbsp;status, <a href="../../../../../org/jboss/jbossts/star/resource/Transaction.html" title="class in org.jboss.jbossts.star.resource">Transaction</a>&nbsp;tx, <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;enlistmentIds)</code>&nbsp;</td> </tr> <tr class="altColor"> <td class="colFirst"><code>javax.ws.rs.core.Response</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#replaceParticipant(java.lang.String,%20java.lang.String,%20java.lang.String)">replaceParticipant</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;linkHeader, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;enlistmentId)</code> <div class="block">PUT /recovery-coordinator/<RecCoordId>/<new participant URL> - overwrite the old <participant URL> with <new participant URL> (as with JTS, this will also trigger off a recovery attempt on the associated transaction) A participant may use this url to notifiy the coordinator that he has moved to a new location.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>javax.ws.rs.core.Response</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#terminateTransaction(java.lang.String,%20java.lang.String,%20java.lang.String)">terminateTransaction</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fault, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;content)</code> <div class="block">The client can control the outcome of the transaction by by PUTing to the terminator URL returned as a response to the original transaction create request.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>javax.ws.rs.core.Response</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#tt1(java.lang.String)">tt1</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId)</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>javax.ws.rs.core.Response</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#tt2(java.lang.String)">tt2</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId)</code>&nbsp;</td> </tr> <tr class="altColor"> <td class="colFirst"><code>javax.ws.rs.core.Response</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#tt3(java.lang.String)">tt3</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId)</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>javax.ws.rs.core.Response</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#tt4(java.lang.String)">tt4</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId)</code>&nbsp;</td> </tr> <tr class="altColor"> <td class="colFirst"><code>javax.ws.rs.core.Response</code></td> <td class="colLast"><code><strong><a href="../../../../../org/jboss/jbossts/star/service/Coordinator.html#tt5(java.lang.String)">tt5</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId)</code>&nbsp;</td> </tr> </table> <ul class="blockList"> <li class="blockList"><a name="methods_inherited_from_class_java.lang.Object"> </a> <h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3> <code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li> </ul> </li> </ul> </li> </ul> </div> <div class="details"> <ul class="blockList"> <li class="blockList"> <ul class="blockList"> <li class="blockList"><a name="field_detail"> </a> <h3>Field Detail</h3> <a name="log"> </a> <ul class="blockListLast"> <li class="blockList"> <h4>log</h4> <pre>protected static final&nbsp;org.jboss.logging.Logger log</pre> </li> </ul> </li> </ul> <ul class="blockList"> <li class="blockList"><a name="constructor_detail"> </a> <h3>Constructor Detail</h3> <a name="Coordinator()"> </a> <ul class="blockListLast"> <li class="blockList"> <h4>Coordinator</h4> <pre>public&nbsp;Coordinator()</pre> </li> </ul> </li> </ul> <ul class="blockList"> <li class="blockList"><a name="method_detail"> </a> <h3>Method Detail</h3> <a name="getAllTransactions(javax.ws.rs.core.UriInfo)"> </a> <ul class="blockList"> <li class="blockList"> <h4>getAllTransactions</h4> <pre>@GET
@Path(value="transaction-manager/")
@Produces(value="application/txlist")
public&nbsp;javax.ws.rs.core.Response&nbsp;getAllTransactions(@Context
                                                             javax.ws.rs.core.UriInfo&nbsp;info)</pre> <div class="block">Performing a GET on the transaction-manager returns a list of all transaction URIs known to the coordinator (active and in recovery) separated by the @see TxSupport.URI_SEPARATOR character</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>info</code> - http context of the request</dd> <dt><span class="strong">Returns:</span></dt><dd>JSON representation of active transactions and HTTP status code</dd></dl> </li> </ul> <a name="getTransactionManagerInfo(javax.ws.rs.core.UriInfo)"> </a> <ul class="blockList"> <li class="blockList"> <h4>getTransactionManagerInfo</h4> <pre>@GET
@Path(value="transaction-manager/")
@Produces(value="application/txstatusext+xml")
public&nbsp;org.jboss.jbossts.star.util.media.txstatusext.TransactionManagerElement&nbsp;getTransactionManagerInfo(@Context
                                                                                                                  javax.ws.rs.core.UriInfo&nbsp;info)</pre> <div class="block">Performing a GET on the transaction-manager URI with media type application/txstatusext+xml returns extended information about the transaction-manager resource such as how long it has been up and all transaction-coordinator URIs.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>info</code> - Request context</dd> <dt><span class="strong">Returns:</span></dt><dd>TransactionManagerElement</dd></dl> </li> </ul> <a name="getTransactionStatistics()"> </a> <ul class="blockList"> <li class="blockList"> <h4>getTransactionStatistics</h4> <pre>@GET
@Path(value="transaction-manager/statistics")
@Produces(value="application/txstatusext+xml")
public&nbsp;org.jboss.jbossts.star.util.media.txstatusext.TransactionStatisticsElement&nbsp;getTransactionStatistics()</pre> <div class="block">Performing a GET on the transaction-manager URI sufficed with /statistics returns statistics of the transaction manager. Numbers of active, prepared, committed, and aborted transactions are returned.</div> <dl><dt><span class="strong">Returns:</span></dt><dd>TransactionStatisticsElement</dd></dl> </li> </ul> <a name="getTransactionURIs(javax.ws.rs.core.UriInfo, java.lang.String)"> </a> <ul class="blockList"> <li class="blockList"> <h4>getTransactionURIs</h4> <pre>@HEAD
@Path(value="transaction-manager/{id}")
@Produces(value="application/txlist")
public&nbsp;javax.ws.rs.core.Response&nbsp;getTransactionURIs(@Context
                                                              javax.ws.rs.core.UriInfo&nbsp;info,
                                                              @PathParam(value="id")
                                                              <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</pre> <div class="block">Obtain the transaction terminator and participant enlistment URIs for the specified transaction id. These are returned in link headers in the same way they were returned when the transaction was started @see Coordinator#beginTransaction</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>info</code> - request context</dd><dd><code>id</code> - URL template parameter for the transaction id</dd> <dt><span class="strong">Returns:</span></dt><dd>http response</dd></dl> </li> </ul> <a name="getTransactionStatus(javax.ws.rs.core.UriInfo, java.lang.String)"> </a> <ul class="blockList"> <li class="blockList"> <h4>getTransactionStatus</h4> <pre>@GET
@Path(value="transaction-manager/{id}")
@Produces(value="application/txstatus")
public&nbsp;javax.ws.rs.core.Response&nbsp;getTransactionStatus(@Context
                                                               javax.ws.rs.core.UriInfo&nbsp;info,
                                                               @PathParam(value="id")
                                                               <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</pre> <div class="block">Performing a GET on the transaction url returns its status</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>info</code> - request context</dd><dd><code>id</code> - URL template parameter for the id of the transaction</dd> <dt><span class="strong">Returns:</span></dt><dd>content representing the status of the transaction</dd><dt><span class="strong">See Also:</span></dt><dd><code>etc for the format of the returned content</code></dd></dl> </li> </ul> <a name="getTransactionExtStatus(javax.ws.rs.core.UriInfo, java.lang.String)"> </a> <ul class="blockList"> <li class="blockList"> <h4>getTransactionExtStatus</h4> <pre>@GET
@Path(value="transaction-manager/{id}")
@Produces(value="application/txstatusext+xml")
public&nbsp;javax.ws.rs.core.Response&nbsp;getTransactionExtStatus(@Context
                                                                  javax.ws.rs.core.UriInfo&nbsp;info,
                                                                  @PathParam(value="id")
                                                                  <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</pre> <div class="block">Performing a GET on the transaction URL with media type application/txstatusext+xml returns extended information about the transaction, such as its status, number of participants, and their individual URIs.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>info</code> - Request context</dd><dd><code>id</code> - URL template parameter for the id of the transaction</dd> <dt><span class="strong">Returns:</span></dt><dd>HTTP response representing extended transaction status information</dd></dl> </li> </ul> <a name="deleteTransaction(java.lang.String)"> </a> <ul class="blockList"> <li class="blockList"> <h4>deleteTransaction</h4> <pre>@DELETE
@Path(value="transaction-manager/{id}")
public&nbsp;javax.ws.rs.core.Response&nbsp;deleteTransaction(@PathParam(value="id")
                                                      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</pre> <div class="block">Performing a DELETE on the transaction-coordinator URL will return a 403.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - transaction id</dd> <dt><span class="strong">Returns:</span></dt><dd>403</dd></dl> </li> </ul> <a name="tt1(java.lang.String)"> </a> <ul class="blockList"> <li class="blockList"> <h4>tt1</h4> <pre>@HEAD
@Path(value="transaction-manager/{TxId}/terminator")
public&nbsp;javax.ws.rs.core.Response&nbsp;tt1(@PathParam(value="TxId")
                                      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId)</pre> </li> </ul> <a name="tt2(java.lang.String)"> </a> <ul class="blockList"> <li class="blockList"> <h4>tt2</h4> <pre>@GET
@Path(value="transaction-manager/{TxId}/terminator")
public&nbsp;javax.ws.rs.core.Response&nbsp;tt2(@PathParam(value="TxId")
                                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId)</pre> </li> </ul> <a name="tt3(java.lang.String)"> </a> <ul class="blockList"> <li class="blockList"> <h4>tt3</h4> <pre>@POST
@Path(value="transaction-manager/{TxId}/terminator")
public&nbsp;javax.ws.rs.core.Response&nbsp;tt3(@PathParam(value="TxId")
                                      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId)</pre> </li> </ul> <a name="tt4(java.lang.String)"> </a> <ul class="blockList"> <li class="blockList"> <h4>tt4</h4> <pre>@DELETE
@Path(value="transaction-manager/{TxId}/terminator")
public&nbsp;javax.ws.rs.core.Response&nbsp;tt4(@PathParam(value="TxId")
                                        <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId)</pre> </li> </ul> <a name="tt5(java.lang.String)"> </a> <ul class="blockList"> <li class="blockList"> <h4>tt5</h4> <pre>@OPTIONS
@Path(value="transaction-manager/{TxId}/terminator")
public&nbsp;javax.ws.rs.core.Response&nbsp;tt5(@PathParam(value="TxId")
                                         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId)</pre> </li> </ul> <a name="beginTransaction(javax.ws.rs.core.UriInfo, javax.ws.rs.core.HttpHeaders, java.lang.String)"> </a> <ul class="blockList"> <li class="blockList"> <h4>beginTransaction</h4> <pre>@POST
@Path(value="transaction-manager/")
@Consumes(value="application/x-www-form-urlencoded")
public&nbsp;javax.ws.rs.core.Response&nbsp;beginTransaction(@Context
                                                            javax.ws.rs.core.UriInfo&nbsp;info,
                                                            @Context
                                                            javax.ws.rs.core.HttpHeaders&nbsp;headers,
                                                            @DefaultValue(value="")
                                                            <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;content)</pre> <div class="block">Performing a POST on Transaction Manager URL @see TxSupport.TX_SEGMENT with no content as shown below will start a new transaction with a default timeout. A successful invocation will return 201 and the Location header MUST contain the URI of the newly created transaction resource, which we will refer to as the transaction-coordinator in the rest of this specification. Two related URLs MUST also be returned, one for use by the terminator of the transaction (typically referred to as the client) and one used for registering durable participation in the transaction (typically referred to as the server). These linked URLs can be of arbitrary format. The rel names for the links are:</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>info</code> - uri context</dd><dd><code>headers</code> - http headers</dd><dd><code>content</code> - empty if no transaction timeout is required otherwise the number of milliseconds after which the transaction is eligible for being timed out. The content should have the format</dd> <dt><span class="strong">Returns:</span></dt><dd>http status code</dd><dt><span class="strong">See Also:</span></dt><dd><code>and @see TxLinkNames#PARTICIPANT</code></dd></dl> </li> </ul> <a name="terminateTransaction(java.lang.String, java.lang.String, java.lang.String)"> </a> <ul class="blockList"> <li class="blockList"> <h4>terminateTransaction</h4> <pre>@PUT
@Path(value="transaction-manager/{TxId}/terminator")
public&nbsp;javax.ws.rs.core.Response&nbsp;terminateTransaction(@PathParam(value="TxId")
                                                      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId,
                                                      @QueryParam(value="fault")@DefaultValue(value="")
                                                      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fault,
                                                      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;content)</pre> <div class="block">The client can control the outcome of the transaction by by PUTing to the terminator URL returned as a response to the original transaction create request. Upon termination, the resource and all associated resources are implicitly deleted. For any subsequent invocation then an implementation MAY return 410 if the implementation records information about transactions that have completed, otherwise it should return 404 (not necessary for presumed rollback semantics) but at a minimum MUST return 401. The invoker can assume this was a rollback. In order for an interested party to know for sure the outcome of a transaction then it MUST be registered as a participant with the transaction coordinator.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>txId</code> - URL template component containing the transaction identifier</dd><dd><code>fault</code> - mechanism for injecting faults TODO use byteman instead</dd><dd><code>content</code> - body of the request indicating a commit or abort request</dd> <dt><span class="strong">Returns:</span></dt><dd>http response code</dd><dt><span class="strong">See Also:</span></dt><dd><code>etc</code></dd></dl> </li> </ul> <a name="removeTxState(int, org.jboss.jbossts.star.resource.Transaction, java.util.Collection)"> </a> <ul class="blockList"> <li class="blockList"> <h4>removeTxState</h4> <pre>public&nbsp;void&nbsp;removeTxState(int&nbsp;status,
                 <a href="../../../../../org/jboss/jbossts/star/resource/Transaction.html" title="class in org.jboss.jbossts.star.resource">Transaction</a>&nbsp;tx,
                 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;enlistmentIds)</pre> </li> </ul> <a name="enlistParticipant(java.lang.String, javax.ws.rs.core.UriInfo, java.lang.String, java.lang.String)"> </a> <ul class="blockList"> <li class="blockList"> <h4>enlistParticipant</h4> <pre>@POST
@Path(value="transaction-manager/{TxId}")
public&nbsp;javax.ws.rs.core.Response&nbsp;enlistParticipant(@HeaderParam(value="Link")
                                                    <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;linkHeader,
                                                    @Context
                                                    javax.ws.rs.core.UriInfo&nbsp;info,
                                                    @PathParam(value="TxId")
                                                    <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId,
                                                    <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;content)</pre> <div class="block">Register a participant in a tx</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>linkHeader</code> - link header</dd><dd><code>info</code> - URI info</dd><dd><code>txId</code> - id of transaction</dd><dd><code>content</code> - body of request containing URI for driving the participant through completion (the URI should be unique within the scope of txId)</dd> <dt><span class="strong">Returns:</span></dt><dd>unique resource ref for the participant</dd></dl> </li> </ul> <a name="enlistVolatileParticipant(java.lang.String, javax.ws.rs.core.UriInfo, java.lang.String)"> </a> <ul class="blockList"> <li class="blockList"> <h4>enlistVolatileParticipant</h4> <pre>@PUT
@Path(value="transaction-manager/{TxId}/volatile-participant")
public&nbsp;javax.ws.rs.core.Response&nbsp;enlistVolatileParticipant(@HeaderParam(value="Link")
                                                           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;linkHeader,
                                                           @Context
                                                           javax.ws.rs.core.UriInfo&nbsp;info,
                                                           @PathParam(value="TxId")
                                                           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId)</pre> <div class="block">Register a volatile participant in a tx</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>linkHeader</code> - link header</dd><dd><code>info</code> - URI info</dd><dd><code>txId</code> - id of transaction</dd> <dt><span class="strong">Returns:</span></dt><dd>HTTP status code</dd></dl> </li> </ul> <a name="lookupParticipant(java.lang.String, java.lang.String)"> </a> <ul class="blockList"> <li class="blockList"> <h4>lookupParticipant</h4> <pre>@GET
@Path(value="recovery-coordinator/{TxId}/{RecCoordId}")
public&nbsp;javax.ws.rs.core.Response&nbsp;lookupParticipant(@PathParam(value="TxId")
                                                   <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId,
                                                   @PathParam(value="RecCoordId")
                                                   <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;enlistmentId)</pre> <div class="block">Get the participant url (registered during enlistParticipant) corresponding to a resource reference if the coordinator crashes - the participant list will be empty but this is ok if commit hasn't been called since the TM uses presumed abort semantics.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>txId</code> - transaction id that this recovery url belongs to</dd><dd><code>enlistmentId</code> - the resource reference</dd> <dt><span class="strong">Returns:</span></dt><dd>the participant url</dd></dl> </li> </ul> <a name="replaceParticipant(java.lang.String, java.lang.String, java.lang.String)"> </a> <ul class="blockList"> <li class="blockList"> <h4>replaceParticipant</h4> <pre>@PUT
@Path(value="recovery-coordinator/{TxId}/{RecCoordId}")
public&nbsp;javax.ws.rs.core.Response&nbsp;replaceParticipant(@HeaderParam(value="Link")
                                                    <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;linkHeader,
                                                    @PathParam(value="TxId")
                                                    <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;txId,
                                                    @PathParam(value="RecCoordId")
                                                    <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;enlistmentId)</pre> <div class="block">PUT /recovery-coordinator/<RecCoordId>/<new participant URL> - overwrite the old <participant URL> with <new participant URL> (as with JTS, this will also trigger off a recovery attempt on the associated transaction) A participant may use this url to notifiy the coordinator that he has moved to a new location.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>linkHeader</code> - link header containing participant links</dd><dd><code>txId</code> - transaction id that this recovery url belongs to</dd><dd><code>enlistmentId</code> - id by the participant is known</dd> <dt><span class="strong">Returns:</span></dt><dd>http status code</dd></dl> </li> </ul> <a name="postParticipant(java.lang.String)"> </a> <ul class="blockList"> <li class="blockList"> <h4>postParticipant</h4> <pre>@POST
@Path(value="recovery-coordinator/{RecCoordId}")
public&nbsp;javax.ws.rs.core.Response&nbsp;postParticipant(@PathParam(value="RecCoordId")
                                                  <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;enlistmentId)</pre> </li> </ul> <a name="deleteParticipant(java.lang.String)"> </a> <ul class="blockListLast"> <li class="blockList"> <h4>deleteParticipant</h4> <pre>@DELETE
@Path(value="recovery-coordinator/{RecCoordId}")
public&nbsp;javax.ws.rs.core.Response&nbsp;deleteParticipant(@PathParam(value="RecCoordId")
                                                      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;enlistmentId)</pre> <div class="block">Performing DELETE on participant's recovery URL removes participant from the transaction.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>enlistmentId</code> - The resource reference</dd> <dt><span class="strong">Returns:</span></dt><dd>HTTP status code</dd></dl> </li> </ul> </li> </ul> </li> </ul> </div> </div> <div class="bottomNav"><a name="navbar_bottom"> </a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow"> </a> <ul class="navList" title="Navigation"> <li><a href="../../../../../overview-summary.html">Overview</a></li> <li><a href="package-summary.html">Package</a></li> <li class="navBarCell1Rev">Class</li> <li><a href="class-use/Coordinator.html">Use</a></li> <li><a href="package-tree.html">Tree</a></li> <li><a href="../../../../../deprecated-list.html">Deprecated</a></li> <li><a href="../../../../../index-all.html">Index</a></li> <li><a href="../../../../../help-doc.html">Help</a></li> </ul> <div class="aboutLanguage"><em><b>Narayana: narayana-full 5.0.4.Final-SNAPSHOT</b></em></div> </div> <div class="subNav"> <ul class="navList"> <li><a href="../../../../../org/jboss/jbossts/star/service/ContextListener.html" title="class in org.jboss.jbossts.star.service"><span class="strong">Prev Class</span></a></li> <li><a href="../../../../../org/jboss/jbossts/star/service/TMApplication.html" title="class in org.jboss.jbossts.star.service"><span class="strong">Next Class</span></a></li> </ul> <ul class="navList"> <li><a href="../../../../../index.html?org/jboss/jbossts/star/service/Coordinator.html" target="_top">Frames</a></li> <li><a href="Coordinator.html" target="_top">No Frames</a></li> </ul> <ul class="navList" id="allclasses_navbar_bottom"> <li><a href="../../../../../allclasses-noframe.html">All Classes</a></li> </ul> <div> <script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script> </div> <div> <ul class="subNavList"> <li>Summary:&nbsp;</li> <li>Nested&nbsp;|&nbsp;</li> <li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li> <li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method_summary">Method</a></li> </ul> <ul class="subNavList"> <li>Detail:&nbsp;</li> <li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li> <li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method_detail">Method</a></li> </ul> </div> <a name="skip-navbar_bottom"> </a></div> <p class="legalCopy"><small>Copyright &#169; 2014 <a href="http://www.jboss.org">JBoss by Red Hat</a>. All Rights Reserved.</small></p> </body> </html>