<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html" charset="UTF-8"> <title>RecoveryManager (Narayana: narayana-full 5.0.4.Final-SNAPSHOT API)</title> <meta name="date" content="2014-11-19"> <link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style"> </head> <body> <script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RecoveryManager (Narayana: narayana-full 5.0.4.Final-SNAPSHOT API)";
    }
//-->
</script> <noscript> <div>JavaScript is disabled on your browser.</div> </noscript> <div class="topNav"><a name="navbar_top"> </a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow"> </a> <ul class="navList" title="Navigation"> <li><a href="../../../../../overview-summary.html">Overview</a></li> <li><a href="package-summary.html">Package</a></li> <li class="navBarCell1Rev">Class</li> <li><a href="class-use/RecoveryManager.html">Use</a></li> <li><a href="package-tree.html">Tree</a></li> <li><a href="../../../../../deprecated-list.html">Deprecated</a></li> <li><a href="../../../../../index-all.html">Index</a></li> <li><a href="../../../../../help-doc.html">Help</a></li> </ul> <div class="aboutLanguage"><em><b>Narayana: narayana-full 5.0.4.Final-SNAPSHOT</b></em></div> </div> <div class="subNav"> <ul class="navList"> <li><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryDriver.html" title="class in com.arjuna.ats.arjuna.recovery"><span class="strong">Prev Class</span></a></li> <li><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryModule.html" title="interface in com.arjuna.ats.arjuna.recovery"><span class="strong">Next Class</span></a></li> </ul> <ul class="navList"> <li><a href="../../../../../index.html?com/arjuna/ats/arjuna/recovery/RecoveryManager.html" target="_top">Frames</a></li> <li><a href="RecoveryManager.html" target="_top">No Frames</a></li> </ul> <ul class="navList" id="allclasses_navbar_top"> <li><a href="../../../../../allclasses-noframe.html">All Classes</a></li> </ul> <div> <script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script> </div> <div> <ul class="subNavList"> <li>Summary:&nbsp;</li> <li>Nested&nbsp;|&nbsp;</li> <li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li> <li>Constr&nbsp;|&nbsp;</li> <li><a href="#method_summary">Method</a></li> </ul> <ul class="subNavList"> <li>Detail:&nbsp;</li> <li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li> <li>Constr&nbsp;|&nbsp;</li> <li><a href="#method_detail">Method</a></li> </ul> </div> <a name="skip-navbar_top"> </a></div> <div class="header"> <div class="subTitle">com.arjuna.ats.arjuna.recovery</div> <h2 title="Class RecoveryManager" class="title">Class RecoveryManager</h2> </div> <div class="contentContainer"> <ul class="inheritance"> <li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li> <li> <ul class="inheritance"> <li>com.arjuna.ats.arjuna.recovery.RecoveryManager</li> </ul> </li> </ul> <div class="description"> <ul class="blockList"> <li class="blockList"> <hr> <br> <pre>public class <span class="strong">RecoveryManager</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre> <div class="block">The RecoveryManager daemon.</div> </li> </ul> </div> <div class="summary"> <ul class="blockList"> <li class="blockList"> <ul class="blockList"> <li class="blockList"><a name="field_summary"> </a> <h3>Field Summary</h3> <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation"> <caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption> <tr> <th class="colFirst" scope="col">Modifier and Type</th> <th class="colLast" scope="col">Field and Description</th> </tr> <tr class="altColor"> <td class="colFirst"><code>static int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#DIRECT_MANAGEMENT">DIRECT_MANAGEMENT</a></strong></code> <div class="block">In this mode the recovery manager does not run periodically and will only work if driven through messages or via the scan operation if it is embedded.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>static int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#INDIRECT_MANAGEMENT">INDIRECT_MANAGEMENT</a></strong></code> <div class="block">In this mode the recovery manager runs periodically but may also be driven through messages or via the scan operation if it is embedded.</div> </td> </tr> </table> </li> </ul> <ul class="blockList"> <li class="blockList"><a name="method_summary"> </a> <h3>Method Summary</h3> <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation"> <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption> <tr> <th class="colFirst" scope="col">Modifier and Type</th> <th class="colLast" scope="col">Method and Description</th> </tr> <tr class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#addModule(com.arjuna.ats.arjuna.recovery.RecoveryModule)">addModule</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryModule.html" title="interface in com.arjuna.ats.arjuna.recovery">RecoveryModule</a>&nbsp;module)</code> <div class="block">Add a recovery module to the system.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>static void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#delayRecoveryManagerThread()">delayRecoveryManagerThread</a></strong>()</code> <div class="block">Delay the start of the recovery manager thread when creating an indirect recovery manager.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net">Socket</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#getClientSocket()">getClientSocket</a></strong>()</code> <div class="block">Obtain a client connection to the recovery manager</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Vector.html?is-external=true" title="class or interface in java.util">Vector</a>&lt;<a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryModule.html" title="interface in com.arjuna.ats.arjuna.recovery">RecoveryModule</a>&gt;</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#getModules()">getModules</a></strong>()</code> <div class="block">Obtain a snapshot list of available recovery modules.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html?is-external=true" title="class or interface in java.net">InetAddress</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#getRecoveryManagerHost()">getRecoveryManagerHost</a></strong>()</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>static int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#getRecoveryManagerPort()">getRecoveryManagerPort</a></strong>()</code>&nbsp;</td> </tr> <tr class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#initialize()">initialize</a></strong>()</code> <div class="block">If the recovery manager has been shutdown previously then recreate it in the same mode as before.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>static void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#main(java.lang.String[])">main</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)</code> <div class="block">Run the RecoveryManager.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>static <a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html" title="class in com.arjuna.ats.arjuna.recovery">RecoveryManager</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#manager()">manager</a></strong>()</code> <div class="block">Obtain a reference to the RecoveryManager singleton.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>static <a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html" title="class in com.arjuna.ats.arjuna.recovery">RecoveryManager</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#manager(int)">manager</a></strong>(int&nbsp;mode)</code> <div class="block">Obtain a reference to the RecoveryManager singleton.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#mode()">mode</a></strong>()</code> <div class="block">Indicates what mode (INDIRECT_MANAGEMENT or DIRECT_MANAGEMENT) the recovery manager is configured for.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#removeAllModules(boolean)">removeAllModules</a></strong>(boolean&nbsp;waitOnScan)</code> <div class="block">Remove all modules.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#removeModule(com.arjuna.ats.arjuna.recovery.RecoveryModule,%20boolean)">removeModule</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryModule.html" title="interface in com.arjuna.ats.arjuna.recovery">RecoveryModule</a>&nbsp;module, boolean&nbsp;waitOnScan)</code> <div class="block">Remove a recovery module from the system.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#resume()">resume</a></strong>()</code>&nbsp;</td> </tr> <tr class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#scan()">scan</a></strong>()</code> <div class="block">Force a recovery scan now.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#scan(com.arjuna.ats.arjuna.recovery.RecoveryScan)">scan</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryScan.html" title="interface in com.arjuna.ats.arjuna.recovery">RecoveryScan</a>&nbsp;callback)</code> <div class="block">Force a recovery scan now.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#startRecoveryManagerThread()">startRecoveryManagerThread</a></strong>()</code> <div class="block">Start the recovery manager thread.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#suspend(boolean)">suspend</a></strong>(boolean&nbsp;async)</code> <div class="block">Suspend the recovery manager.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#terminate()">terminate</a></strong>()</code> <div class="block">Terminate and cleanup the recovery manager.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#terminate(boolean)">terminate</a></strong>(boolean&nbsp;async)</code> <div class="block">Terminate and cleanup the recovery manager.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>com.arjuna.ats.internal.arjuna.recovery.RecoveryManagerStatus</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#trySuspend(boolean)">trySuspend</a></strong>(boolean&nbsp;async)</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html#waitForTermination()">waitForTermination</a></strong>()</code> <div class="block">wait for the recovery thread to be shutdown.</div> </td> </tr> </table> <ul class="blockList"> <li class="blockList"><a name="methods_inherited_from_class_java.lang.Object"> </a> <h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3> <code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li> </ul> </li> </ul> </li> </ul> </div> <div class="details"> <ul class="blockList"> <li class="blockList"> <ul class="blockList"> <li class="blockList"><a name="field_detail"> </a> <h3>Field Detail</h3> <a name="INDIRECT_MANAGEMENT"> </a> <ul class="blockList"> <li class="blockList"> <h4>INDIRECT_MANAGEMENT</h4> <pre>public static final&nbsp;int INDIRECT_MANAGEMENT</pre> <div class="block">In this mode the recovery manager runs periodically but may also be driven through messages or via the scan operation if it is embedded.</div> <dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#com.arjuna.ats.arjuna.recovery.RecoveryManager.INDIRECT_MANAGEMENT">Constant Field Values</a></dd></dl> </li> </ul> <a name="DIRECT_MANAGEMENT"> </a> <ul class="blockListLast"> <li class="blockList"> <h4>DIRECT_MANAGEMENT</h4> <pre>public static final&nbsp;int DIRECT_MANAGEMENT</pre> <div class="block">In this mode the recovery manager does not run periodically and will only work if driven through messages or via the scan operation if it is embedded.</div> <dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#com.arjuna.ats.arjuna.recovery.RecoveryManager.DIRECT_MANAGEMENT">Constant Field Values</a></dd></dl> </li> </ul> </li> </ul> <ul class="blockList"> <li class="blockList"><a name="method_detail"> </a> <h3>Method Detail</h3> <a name="manager()"> </a> <ul class="blockList"> <li class="blockList"> <h4>manager</h4> <pre>public static final&nbsp;<a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html" title="class in com.arjuna.ats.arjuna.recovery">RecoveryManager</a>&nbsp;manager()
                                     throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></pre> <div class="block">Obtain a reference to the RecoveryManager singleton. If it hasn't been created yet then it will be. The manager will be created in the INDIRECT_MANAGEMENT mode.</div> <dl><dt><span class="strong">Returns:</span></dt><dd>the manager.</dd> <dt><span class="strong">Throws:</span></dt> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - thrown if the manager has already been created in a different mode to that requested.</dd></dl> </li> </ul> <a name="manager(int)"> </a> <ul class="blockList"> <li class="blockList"> <h4>manager</h4> <pre>public static final&nbsp;<a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryManager.html" title="class in com.arjuna.ats.arjuna.recovery">RecoveryManager</a>&nbsp;manager(int&nbsp;mode)
                                     throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></pre> <div class="block">Obtain a reference to the RecoveryManager singleton. If it hasn't been created yet then it will be. The manager can be created in a management mode defined by the parameter.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>mode</code> - the management mode for the manager.</dd> <dt><span class="strong">Returns:</span></dt><dd>the manager.</dd> <dt><span class="strong">Throws:</span></dt> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - thrown if the manager has already been created in a different mode to that requested.</dd></dl> </li> </ul> <a name="delayRecoveryManagerThread()"> </a> <ul class="blockList"> <li class="blockList"> <h4>delayRecoveryManagerThread</h4> <pre>public static&nbsp;void&nbsp;delayRecoveryManagerThread()</pre> <div class="block">Delay the start of the recovery manager thread when creating an indirect recovery manager.</div> </li> </ul> <a name="scan()"> </a> <ul class="blockList"> <li class="blockList"> <h4>scan</h4> <pre>public final&nbsp;void&nbsp;scan()</pre> <div class="block">Force a recovery scan now. This is a blocking operation and will only return once the recovery scan has completed.</div> <dl><dt><span class="strong">Throws:</span></dt> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the recovery manager has been shutdown.</dd></dl> </li> </ul> <a name="scan(com.arjuna.ats.arjuna.recovery.RecoveryScan)"> </a> <ul class="blockList"> <li class="blockList"> <h4>scan</h4> <pre>public final&nbsp;void&nbsp;scan(<a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryScan.html" title="interface in com.arjuna.ats.arjuna.recovery">RecoveryScan</a>&nbsp;callback)</pre> <div class="block">Force a recovery scan now. This is a non-blocking operation and will return immediately. Notification of completion of the scan is done through the RecoveryScan object.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>callback</code> - callback The callback mechanism used to inform users that the scan has completed. If this is <code>null</code> then no callback will happen and asynchronous scanning will occur.</dd> <dt><span class="strong">Throws:</span></dt> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the recovery manager has been shutdown.</dd></dl> </li> </ul> <a name="terminate()"> </a> <ul class="blockList"> <li class="blockList"> <h4>terminate</h4> <pre>public final&nbsp;void&nbsp;terminate()</pre> <div class="block">Terminate and cleanup the recovery manager. There is no going back from this. This is a synchronous operation so return means that the recovery has completed.</div> <dl><dt><span class="strong">Throws:</span></dt> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the recovery manager has been shutdown.</dd></dl> </li> </ul> <a name="terminate(boolean)"> </a> <ul class="blockList"> <li class="blockList"> <h4>terminate</h4> <pre>public final&nbsp;void&nbsp;terminate(boolean&nbsp;async)</pre> <div class="block">Terminate and cleanup the recovery manager. There is no going back from this. Can be called synchronous or asynchronously. If you have any intention of restarting the recovery manager later then you MUST use the async=false option.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>async</code> - false means wait for any recovery scan in progress to complete.</dd> <dt><span class="strong">Throws:</span></dt> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the recovery manager has been shutdown.</dd></dl> </li> </ul> <a name="initialize()"> </a> <ul class="blockList"> <li class="blockList"> <h4>initialize</h4> <pre>public final&nbsp;void&nbsp;initialize()</pre> <div class="block">If the recovery manager has been shutdown previously then recreate it in the same mode as before. Otherwise ignore.</div> </li> </ul> <a name="waitForTermination()"> </a> <ul class="blockList"> <li class="blockList"> <h4>waitForTermination</h4> <pre>public&nbsp;void&nbsp;waitForTermination()</pre> <div class="block">wait for the recovery thread to be shutdown. n.b. this will not return unless and until shutdown is called.</div> <dl><dt><span class="strong">Throws:</span></dt> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the recovery manager has been shutdown.</dd></dl> </li> </ul> <a name="suspend(boolean)"> </a> <ul class="blockList"> <li class="blockList"> <h4>suspend</h4> <pre>public&nbsp;void&nbsp;suspend(boolean&nbsp;async)</pre> <div class="block">Suspend the recovery manager. If the recovery manager is in the process of doing recovery scans then it will be suspended afterwards, in order to preserve data integrity.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>async</code> - false means wait for the recovery manager to finish any scans before returning.</dd> <dt><span class="strong">Throws:</span></dt> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the recovery manager has been shutdown.</dd></dl> </li> </ul> <a name="trySuspend(boolean)"> </a> <ul class="blockList"> <li class="blockList"> <h4>trySuspend</h4> <pre>public&nbsp;com.arjuna.ats.internal.arjuna.recovery.RecoveryManagerStatus&nbsp;trySuspend(boolean&nbsp;async)</pre> </li> </ul> <a name="resume()"> </a> <ul class="blockList"> <li class="blockList"> <h4>resume</h4> <pre>public&nbsp;void&nbsp;resume()</pre> <dl><dt><span class="strong">Throws:</span></dt> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the recovery manager has been shutdown.</dd></dl> </li> </ul> <a name="startRecoveryManagerThread()"> </a> <ul class="blockList"> <li class="blockList"> <h4>startRecoveryManagerThread</h4> <pre>public&nbsp;void&nbsp;startRecoveryManagerThread()</pre> <div class="block">Start the recovery manager thread.</div> <dl><dt><span class="strong">Throws:</span></dt> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the recovery manager has been shutdown.</dd></dl> </li> </ul> <a name="addModule(com.arjuna.ats.arjuna.recovery.RecoveryModule)"> </a> <ul class="blockList"> <li class="blockList"> <h4>addModule</h4> <pre>public final&nbsp;void&nbsp;addModule(<a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryModule.html" title="interface in com.arjuna.ats.arjuna.recovery">RecoveryModule</a>&nbsp;module)</pre> <div class="block">Add a recovery module to the system.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>module</code> - module The module to add.</dd> <dt><span class="strong">Throws:</span></dt> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the recovery manager has been shutdown.</dd></dl> </li> </ul> <a name="removeModule(com.arjuna.ats.arjuna.recovery.RecoveryModule, boolean)"> </a> <ul class="blockList"> <li class="blockList"> <h4>removeModule</h4> <pre>public final&nbsp;void&nbsp;removeModule(<a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryModule.html" title="interface in com.arjuna.ats.arjuna.recovery">RecoveryModule</a>&nbsp;module,
                boolean&nbsp;waitOnScan)</pre> <div class="block">Remove a recovery module from the system.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>module</code> - The module to remove.</dd><dd><code>waitOnScan</code> - true if the remove operation should wait for any in-progress scan to complete</dd> <dt><span class="strong">Throws:</span></dt> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the recovery manager has been shutdown.</dd></dl> </li> </ul> <a name="removeAllModules(boolean)"> </a> <ul class="blockList"> <li class="blockList"> <h4>removeAllModules</h4> <pre>public final&nbsp;void&nbsp;removeAllModules(boolean&nbsp;waitOnScan)</pre> <div class="block">Remove all modules. WARNING: Use with extreme care as this will stop recovery from doing anything!</div> </li> </ul> <a name="getModules()"> </a> <ul class="blockList"> <li class="blockList"> <h4>getModules</h4> <pre>public final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Vector.html?is-external=true" title="class or interface in java.util">Vector</a>&lt;<a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryModule.html" title="interface in com.arjuna.ats.arjuna.recovery">RecoveryModule</a>&gt;&nbsp;getModules()</pre> <div class="block">Obtain a snapshot list of available recovery modules.</div> <dl><dt><span class="strong">Returns:</span></dt><dd>a snapshot list of the currently installed recovery modules</dd> <dt><span class="strong">Throws:</span></dt> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the recovery manager has been shutdown.</dd></dl> </li> </ul> <a name="mode()"> </a> <ul class="blockList"> <li class="blockList"> <h4>mode</h4> <pre>public final&nbsp;int&nbsp;mode()</pre> <div class="block">Indicates what mode (INDIRECT_MANAGEMENT or DIRECT_MANAGEMENT) the recovery manager is configured for.</div> <dl><dt><span class="strong">Returns:</span></dt><dd>the management mode.</dd></dl> </li> </ul> <a name="getRecoveryManagerHost()"> </a> <ul class="blockList"> <li class="blockList"> <h4>getRecoveryManagerHost</h4> <pre>public static&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html?is-external=true" title="class or interface in java.net">InetAddress</a>&nbsp;getRecoveryManagerHost()
                                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/net/UnknownHostException.html?is-external=true" title="class or interface in java.net">UnknownHostException</a></pre> <dl><dt><span class="strong">Throws:</span></dt> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/net/UnknownHostException.html?is-external=true" title="class or interface in java.net">UnknownHostException</a></code></dd></dl> </li> </ul> <a name="getRecoveryManagerPort()"> </a> <ul class="blockList"> <li class="blockList"> <h4>getRecoveryManagerPort</h4> <pre>public static&nbsp;int&nbsp;getRecoveryManagerPort()</pre> </li> </ul> <a name="getClientSocket()"> </a> <ul class="blockList"> <li class="blockList"> <h4>getClientSocket</h4> <pre>public static&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net">Socket</a>&nbsp;getClientSocket()
                              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre> <div class="block">Obtain a client connection to the recovery manager</div> <dl><dt><span class="strong">Returns:</span></dt><dd>a bound client socket connection to the recovery manager</dd> <dt><span class="strong">Throws:</span></dt> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl> </li> </ul> <a name="main(java.lang.String[])"> </a> <ul class="blockListLast"> <li class="blockList"> <h4>main</h4> <pre>public static&nbsp;void&nbsp;main(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)</pre> <div class="block">Run the RecoveryManager. See Administration manual for details.</div> </li> </ul> </li> </ul> </li> </ul> </div> </div> <div class="bottomNav"><a name="navbar_bottom"> </a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow"> </a> <ul class="navList" title="Navigation"> <li><a href="../../../../../overview-summary.html">Overview</a></li> <li><a href="package-summary.html">Package</a></li> <li class="navBarCell1Rev">Class</li> <li><a href="class-use/RecoveryManager.html">Use</a></li> <li><a href="package-tree.html">Tree</a></li> <li><a href="../../../../../deprecated-list.html">Deprecated</a></li> <li><a href="../../../../../index-all.html">Index</a></li> <li><a href="../../../../../help-doc.html">Help</a></li> </ul> <div class="aboutLanguage"><em><b>Narayana: narayana-full 5.0.4.Final-SNAPSHOT</b></em></div> </div> <div class="subNav"> <ul class="navList"> <li><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryDriver.html" title="class in com.arjuna.ats.arjuna.recovery"><span class="strong">Prev Class</span></a></li> <li><a href="../../../../../com/arjuna/ats/arjuna/recovery/RecoveryModule.html" title="interface in com.arjuna.ats.arjuna.recovery"><span class="strong">Next Class</span></a></li> </ul> <ul class="navList"> <li><a href="../../../../../index.html?com/arjuna/ats/arjuna/recovery/RecoveryManager.html" target="_top">Frames</a></li> <li><a href="RecoveryManager.html" target="_top">No Frames</a></li> </ul> <ul class="navList" id="allclasses_navbar_bottom"> <li><a href="../../../../../allclasses-noframe.html">All Classes</a></li> </ul> <div> <script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script> </div> <div> <ul class="subNavList"> <li>Summary:&nbsp;</li> <li>Nested&nbsp;|&nbsp;</li> <li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li> <li>Constr&nbsp;|&nbsp;</li> <li><a href="#method_summary">Method</a></li> </ul> <ul class="subNavList"> <li>Detail:&nbsp;</li> <li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li> <li>Constr&nbsp;|&nbsp;</li> <li><a href="#method_detail">Method</a></li> </ul> </div> <a name="skip-navbar_bottom"> </a></div> <p class="legalCopy"><small>Copyright &#169; 2014 <a href="http://www.jboss.org">JBoss by Red Hat</a>. All Rights Reserved.</small></p> </body> </html>