<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.17) on Thu Feb 16 12:15:06 GMT 2023 -->
<title>RecoveryManager (Narayana: narayana-full 6.0.0.Final API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-02-16">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RecoveryManager (Narayana: narayana-full 6.0.0.Final API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":9,"i2":9,"i3":10,"i4":9,"i5":9,"i6":10,"i7":9,"i8":9,"i9":9,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RecoveryManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Narayana: narayana-full 6.0.0.Final</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.arjuna.ats.arjuna.recovery</a></div>
<h2 title="Class RecoveryManager" class="title">Class RecoveryManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.arjuna.ats.arjuna.recovery.RecoveryManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">RecoveryManager</span>
extends java.lang.Object</pre>
<div class="block">The RecoveryManager daemon.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DIRECT_MANAGEMENT">DIRECT_MANAGEMENT</a></span></code></th>
<td class="colLast">
<div class="block">In this mode the recovery manager does not run periodically and
 will only work if driven through messages or via the scan
 operation if it is embedded.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#INDIRECT_MANAGEMENT">INDIRECT_MANAGEMENT</a></span></code></th>
<td class="colLast">
<div class="block">In this mode the recovery manager runs periodically but may
 also be driven through messages or via the scan operation if
 it is embedded.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addModule(com.arjuna.ats.arjuna.recovery.RecoveryModule)">addModule</a></span>&#8203;(<a href="RecoveryModule.html" title="interface in com.arjuna.ats.arjuna.recovery">RecoveryModule</a>&nbsp;module)</code></th>
<td class="colLast">
<div class="block">Add a recovery module to the system.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#delayRecoveryManagerThread()">delayRecoveryManagerThread</a></span>()</code></th>
<td class="colLast">
<div class="block">Delay the start of the recovery manager thread when creating an indirect recovery manager.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static java.net.Socket</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getClientSocket()">getClientSocket</a></span>()</code></th>
<td class="colLast">
<div class="block">Obtain a client connection to the recovery manager</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.Vector&lt;<a href="RecoveryModule.html" title="interface in com.arjuna.ats.arjuna.recovery">RecoveryModule</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getModules()">getModules</a></span>()</code></th>
<td class="colLast">
<div class="block">Obtain a snapshot list of available recovery modules.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static java.net.InetAddress</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRecoveryManagerHost()">getRecoveryManagerHost</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRecoveryManagerPort()">getRecoveryManagerPort</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initialize()">initialize</a></span>()</code></th>
<td class="colLast">
<div class="block">If the recovery manager has been shutdown previously then recreate it in
 the same mode as before.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#main(java.lang.String%5B%5D)">main</a></span>&#8203;(java.lang.String[]&nbsp;args)</code></th>
<td class="colLast">
<div class="block">Run the RecoveryManager.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static <a href="RecoveryManager.html" title="class in com.arjuna.ats.arjuna.recovery">RecoveryManager</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#manager()">manager</a></span>()</code></th>
<td class="colLast">
<div class="block">Obtain a reference to the RecoveryManager singleton.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static <a href="RecoveryManager.html" title="class in com.arjuna.ats.arjuna.recovery">RecoveryManager</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#manager(int)">manager</a></span>&#8203;(int&nbsp;mode)</code></th>
<td class="colLast">
<div class="block">Obtain a reference to the RecoveryManager singleton.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mode()">mode</a></span>()</code></th>
<td class="colLast">
<div class="block">Indicates what mode (INDIRECT_MANAGEMENT or DIRECT_MANAGEMENT)
 the recovery manager is configured for.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeAllModules(boolean)">removeAllModules</a></span>&#8203;(boolean&nbsp;waitOnScan)</code></th>
<td class="colLast">
<div class="block">Remove all modules.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeModule(com.arjuna.ats.arjuna.recovery.RecoveryModule,boolean)">removeModule</a></span>&#8203;(<a href="RecoveryModule.html" title="interface in com.arjuna.ats.arjuna.recovery">RecoveryModule</a>&nbsp;module,
            boolean&nbsp;waitOnScan)</code></th>
<td class="colLast">
<div class="block">Remove a recovery module from the system.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resume()">resume</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#scan()">scan</a></span>()</code></th>
<td class="colLast">
<div class="block">Force a recovery scan now.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#scan(com.arjuna.ats.arjuna.recovery.RecoveryScan)">scan</a></span>&#8203;(<a href="RecoveryScan.html" title="interface in com.arjuna.ats.arjuna.recovery">RecoveryScan</a>&nbsp;callback)</code></th>
<td class="colLast">
<div class="block">Force a recovery scan now.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#startRecoveryManagerThread()">startRecoveryManagerThread</a></span>()</code></th>
<td class="colLast">
<div class="block">Start the recovery manager thread.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#suspend(boolean)">suspend</a></span>&#8203;(boolean&nbsp;async)</code></th>
<td class="colLast">
<div class="block">Suspend the recovery manager.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#terminate()">terminate</a></span>()</code></th>
<td class="colLast">
<div class="block">Terminate and cleanup the recovery manager.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#terminate(boolean)">terminate</a></span>&#8203;(boolean&nbsp;async)</code></th>
<td class="colLast">
<div class="block">Terminate and cleanup the recovery manager.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="../../internal/arjuna/recovery/RecoveryManagerStatus.html" title="enum in com.arjuna.ats.internal.arjuna.recovery">RecoveryManagerStatus</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#trySuspend(boolean)">trySuspend</a></span>&#8203;(boolean&nbsp;async)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#waitForTermination()">waitForTermination</a></span>()</code></th>
<td class="colLast">
<div class="block">wait for the recovery thread to be shutdown.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="INDIRECT_MANAGEMENT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INDIRECT_MANAGEMENT</h4>
<pre>public static final&nbsp;int INDIRECT_MANAGEMENT</pre>
<div class="block">In this mode the recovery manager runs periodically but may
 also be driven through messages or via the scan operation if
 it is embedded.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.arjuna.ats.arjuna.recovery.RecoveryManager.INDIRECT_MANAGEMENT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="DIRECT_MANAGEMENT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DIRECT_MANAGEMENT</h4>
<pre>public static final&nbsp;int DIRECT_MANAGEMENT</pre>
<div class="block">In this mode the recovery manager does not run periodically and
 will only work if driven through messages or via the scan
 operation if it is embedded.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.arjuna.ats.arjuna.recovery.RecoveryManager.DIRECT_MANAGEMENT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="manager()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>manager</h4>
<pre class="methodSignature">public static final&nbsp;<a href="RecoveryManager.html" title="class in com.arjuna.ats.arjuna.recovery">RecoveryManager</a>&nbsp;manager()
                                     throws java.lang.IllegalArgumentException</pre>
<div class="block">Obtain a reference to the RecoveryManager singleton. If it hasn't
 been created yet then it will be. The manager will be created in the
 INDIRECT_MANAGEMENT mode.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the manager.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - thrown if the manager has already been
 created in a different mode to that requested.</dd>
</dl>
</li>
</ul>
<a id="manager(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>manager</h4>
<pre class="methodSignature">public static final&nbsp;<a href="RecoveryManager.html" title="class in com.arjuna.ats.arjuna.recovery">RecoveryManager</a>&nbsp;manager&#8203;(int&nbsp;mode)
                                     throws java.lang.IllegalArgumentException</pre>
<div class="block">Obtain a reference to the RecoveryManager singleton. If it hasn't
 been created yet then it will be. The manager can be created in a
 management mode defined by the parameter.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mode</code> - the management mode for the manager.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the manager.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - thrown if the manager has already been
 created in a different mode to that requested.</dd>
</dl>
</li>
</ul>
<a id="delayRecoveryManagerThread()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delayRecoveryManagerThread</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;delayRecoveryManagerThread()</pre>
<div class="block">Delay the start of the recovery manager thread when creating an indirect recovery manager.</div>
</li>
</ul>
<a id="scan()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scan</h4>
<pre class="methodSignature">public final&nbsp;void&nbsp;scan()</pre>
<div class="block">Force a recovery scan now. This is a blocking operation
 and will only return once the recovery scan has completed.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the recovery manager has been shutdown.</dd>
</dl>
</li>
</ul>
<a id="scan(com.arjuna.ats.arjuna.recovery.RecoveryScan)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scan</h4>
<pre class="methodSignature">public final&nbsp;void&nbsp;scan&#8203;(<a href="RecoveryScan.html" title="interface in com.arjuna.ats.arjuna.recovery">RecoveryScan</a>&nbsp;callback)</pre>
<div class="block">Force a recovery scan now. This is a non-blocking operation
 and will return immediately. Notification of completion of the
 scan is done through the RecoveryScan object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>callback</code> - callback The callback mechanism used to
 inform users that the scan has completed. If this is <code>null</code>
 then no callback will happen and asynchronous scanning will occur.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the recovery manager has been shutdown.</dd>
</dl>
</li>
</ul>
<a id="terminate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>terminate</h4>
<pre class="methodSignature">public final&nbsp;void&nbsp;terminate()</pre>
<div class="block">Terminate and cleanup the recovery manager. There is no going back from this. This is a
 synchronous operation so return means that the recovery has completed.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the recovery manager has been shutdown.</dd>
</dl>
</li>
</ul>
<a id="terminate(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>terminate</h4>
<pre class="methodSignature">public final&nbsp;void&nbsp;terminate&#8203;(boolean&nbsp;async)</pre>
<div class="block">Terminate and cleanup the recovery manager. There is no going back from this. Can be called
 synchronous or asynchronously. If you have any intention of restarting the recovery manager
 later then you MUST use the async=false option.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>async</code> - false means wait for any recovery scan in progress to complete.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the recovery manager has been shutdown.</dd>
</dl>
</li>
</ul>
<a id="initialize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre class="methodSignature">public final&nbsp;void&nbsp;initialize()</pre>
<div class="block">If the recovery manager has been shutdown previously then recreate it in
 the same mode as before. Otherwise ignore.</div>
</li>
</ul>
<a id="waitForTermination()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForTermination</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;waitForTermination()</pre>
<div class="block">wait for the recovery thread to be shutdown. n.b. this will not return unless and until shutdown
 is called.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the recovery manager has been shutdown.</dd>
</dl>
</li>
</ul>
<a id="suspend(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>suspend</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;suspend&#8203;(boolean&nbsp;async)</pre>
<div class="block">Suspend the recovery manager. If the recovery manager is in the process of
 doing recovery scans then it will be suspended afterwards, in order to
 preserve data integrity.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>async</code> - false means wait for the recovery manager to finish any scans before returning.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the recovery manager has been shutdown.</dd>
</dl>
</li>
</ul>
<a id="trySuspend(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>trySuspend</h4>
<pre class="methodSignature">public&nbsp;<a href="../../internal/arjuna/recovery/RecoveryManagerStatus.html" title="enum in com.arjuna.ats.internal.arjuna.recovery">RecoveryManagerStatus</a>&nbsp;trySuspend&#8203;(boolean&nbsp;async)</pre>
</li>
</ul>
<a id="resume()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resume</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;resume()</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the recovery manager has been shutdown.</dd>
</dl>
</li>
</ul>
<a id="startRecoveryManagerThread()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startRecoveryManagerThread</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;startRecoveryManagerThread()</pre>
<div class="block">Start the recovery manager thread.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the recovery manager has been shutdown.</dd>
</dl>
</li>
</ul>
<a id="addModule(com.arjuna.ats.arjuna.recovery.RecoveryModule)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addModule</h4>
<pre class="methodSignature">public final&nbsp;void&nbsp;addModule&#8203;(<a href="RecoveryModule.html" title="interface in com.arjuna.ats.arjuna.recovery">RecoveryModule</a>&nbsp;module)</pre>
<div class="block">Add a recovery module to the system.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>module</code> - module The module to add.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the recovery manager has been shutdown.</dd>
</dl>
</li>
</ul>
<a id="removeModule(com.arjuna.ats.arjuna.recovery.RecoveryModule,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeModule</h4>
<pre class="methodSignature">public final&nbsp;void&nbsp;removeModule&#8203;(<a href="RecoveryModule.html" title="interface in com.arjuna.ats.arjuna.recovery">RecoveryModule</a>&nbsp;module,
                               boolean&nbsp;waitOnScan)</pre>
<div class="block">Remove a recovery module from the system.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>module</code> - The module to remove.</dd>
<dd><code>waitOnScan</code> - true if the remove operation should wait for any in-progress scan to complete</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the recovery manager has been shutdown.</dd>
</dl>
</li>
</ul>
<a id="removeAllModules(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAllModules</h4>
<pre class="methodSignature">public final&nbsp;void&nbsp;removeAllModules&#8203;(boolean&nbsp;waitOnScan)</pre>
<div class="block">Remove all modules.
 
 WARNING: Use with extreme care as this will stop recovery from doing anything!</div>
</li>
</ul>
<a id="getModules()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getModules</h4>
<pre class="methodSignature">public final&nbsp;java.util.Vector&lt;<a href="RecoveryModule.html" title="interface in com.arjuna.ats.arjuna.recovery">RecoveryModule</a>&gt;&nbsp;getModules()</pre>
<div class="block">Obtain a snapshot list of available recovery modules.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a snapshot list of the currently installed recovery modules</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the recovery manager has been shutdown.</dd>
</dl>
</li>
</ul>
<a id="mode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mode</h4>
<pre class="methodSignature">public final&nbsp;int&nbsp;mode()</pre>
<div class="block">Indicates what mode (INDIRECT_MANAGEMENT or DIRECT_MANAGEMENT)
 the recovery manager is configured for.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the management mode.</dd>
</dl>
</li>
</ul>
<a id="getRecoveryManagerHost()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecoveryManagerHost</h4>
<pre class="methodSignature">public static&nbsp;java.net.InetAddress&nbsp;getRecoveryManagerHost()
                                                   throws java.net.UnknownHostException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.net.UnknownHostException</code></dd>
</dl>
</li>
</ul>
<a id="getRecoveryManagerPort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecoveryManagerPort</h4>
<pre class="methodSignature">public static&nbsp;int&nbsp;getRecoveryManagerPort()</pre>
</li>
</ul>
<a id="getClientSocket()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClientSocket</h4>
<pre class="methodSignature">public static&nbsp;java.net.Socket&nbsp;getClientSocket()
                                       throws java.io.IOException</pre>
<div class="block">Obtain a client connection to the recovery manager</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a bound client socket connection to the recovery manager</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;main&#8203;(java.lang.String[]&nbsp;args)</pre>
<div class="block">Run the RecoveryManager. See Administration manual for details.</div>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RecoveryManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Narayana: narayana-full 6.0.0.Final</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2023 <a href="http://www.jboss.org">JBoss by Red Hat</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
