<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_144) on Thu Oct 19 16:10:23 BST 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>StateManager (Narayana: narayana-full 5.7.1.Final API)</title>
<meta name="date" content="2017-10-19">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="StateManager (Narayana: narayana-full 5.7.1.Final API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StateManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Narayana: narayana-full 5.7.1.Final</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/arjuna/ats/arjuna/ObjectType.html" title="class in com.arjuna.ats.arjuna"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/arjuna/ats/arjuna/TopLevelAction.html" title="class in com.arjuna.ats.arjuna"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/arjuna/ats/arjuna/StateManager.html" target="_top">Frames</a></li>
<li><a href="StateManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.arjuna.ats.arjuna</div>
<h2 title="Class StateManager" class="title">Class StateManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.arjuna.ats.arjuna.StateManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>, <a href="../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>, <a href="../../../../com/arjuna/ats/txoj/Lock.html" title="class in com.arjuna.ats.txoj">Lock</a>, <a href="../../../../com/arjuna/ats/txoj/LockManager.html" title="class in com.arjuna.ats.txoj">LockManager</a>, <a href="../../../../com/arjuna/ats/arjuna/tools/osb/mbean/StateManagerWrapper.html" title="class in com.arjuna.ats.arjuna.tools.osb.mbean">StateManagerWrapper</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">StateManager</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">The root of the Arjuna class hierarchy. This class provides state management
 facilities than can be automatically used by other classes by inheritance.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>JTS 1.0.</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>$Id: StateManager.java 2342 2006-03-30 13:06:17Z $</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Mark Little (mark@arjuna.com)</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Hashtable.html?is-external=true" title="class or interface in java.util">Hashtable</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#modifyingActions">modifyingActions</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#objectModel">objectModel</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#objectUid">objectUid</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Hashtable.html?is-external=true" title="class or interface in java.util">Hashtable</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#usingActions">usingActions</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#StateManager--">StateManager</a></span>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#StateManager-int-">StateManager</a></span>(int&nbsp;ot)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#StateManager-int-int-">StateManager</a></span>(int&nbsp;ot,
            int&nbsp;om)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#StateManager-com.arjuna.ats.arjuna.common.Uid-">StateManager</a></span>(<a href="../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid)</code>
<div class="block">Create object with specific uid.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#StateManager-com.arjuna.ats.arjuna.common.Uid-int-">StateManager</a></span>(<a href="../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
            int&nbsp;ot)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#StateManager-com.arjuna.ats.arjuna.common.Uid-int-int-">StateManager</a></span>(<a href="../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
            int&nbsp;ot,
            int&nbsp;om)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#activate--">activate</a></span>()</code>
<div class="block">This operation activates an object.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#activate-java.lang.String-">activate</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rootName)</code>
<div class="block">This operation activates an object.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#cleanup-boolean-">cleanup</a></span>(boolean&nbsp;fromTerminate)</code>
<div class="block">Object cleanup.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#createLists--">createLists</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#deactivate--">deactivate</a></span>()</code>
<div class="block">This operation deactivates a persistent object.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#deactivate-java.lang.String-">deactivate</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rootName)</code>
<div class="block">This operation deactivates a persistent object.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#deactivate-java.lang.String-boolean-">deactivate</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rootName,
          boolean&nbsp;commit)</code>
<div class="block">This operation deactivates a persistent object.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#destroy--">destroy</a></span>()</code>
<div class="block">Destroy the object (e.g., remove its state from the persistent store.)
 Calls to destroy for volatile objects (ones not maintained within the
 volatile object store) are ignored, and FALSE is returned.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#disable--">disable</a></span>()</code>
<div class="block">The following function disables recovery for an object by setting the
 ObjectType to NEITHER (RECOVERABLE or ANDPERSISTENT).</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#forgetAction-com.arjuna.ats.arjuna.coordinator.BasicAction-boolean-int-">forgetAction</a></span>(<a href="../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;action,
            boolean&nbsp;committed,
            int&nbsp;recordType)</code>
<div class="block">Remove action from list of using actions.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#get_uid--">get_uid</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/ReentrantLock.html?is-external=true" title="class or interface in java.util.concurrent.locks">ReentrantLock</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#getMutex--">getMutex</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#getObjectModel--">getObjectModel</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/arjuna/ats/arjuna/objectstore/ParticipantStore.html" title="interface in com.arjuna.ats.arjuna.objectstore">ParticipantStore</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#getStore--">getStore</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#getStoreRoot--">getStoreRoot</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#loadObjectState--">loadObjectState</a></span>()</code>
<div class="block">Do we need to load the object's state?</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#lockMutex--">lockMutex</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#modified--">modified</a></span>()</code>
<div class="block">The object's state is about to be modified, and StateManager should take
 a snapshot of the state if the object is being used within a transaction.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#objectType--">objectType</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#packHeader-com.arjuna.ats.arjuna.state.OutputObjectState-com.arjuna.ats.internal.arjuna.Header-">packHeader</a></span>(<a href="../../../../com/arjuna/ats/arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;os,
          com.arjuna.ats.internal.arjuna.Header&nbsp;hdr)</code>
<div class="block">Pack the necessary information for crash recovery.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#persist--">persist</a></span>()</code>
<div class="block">The persist function changes the type of the object from RECOVERABLE to
 ANDPERSISTENT.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#print-java.io.PrintWriter-">print</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/io/PrintWriter.html?is-external=true" title="class or interface in java.io">PrintWriter</a>&nbsp;strm)</code>
<div class="block">Print out information about the object.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#rememberAction-com.arjuna.ats.arjuna.coordinator.BasicAction-int-int-">rememberAction</a></span>(<a href="../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;action,
              int&nbsp;recordType,
              int&nbsp;state)</code>
<div class="block">Remember that the specified transaction is using the object.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#restore_state-com.arjuna.ats.arjuna.state.InputObjectState-int-">restore_state</a></span>(<a href="../../../../com/arjuna/ats/arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;os,
             int&nbsp;ot)</code>
<div class="block">These methods must be provided by a derived class.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#save_state-com.arjuna.ats.arjuna.state.OutputObjectState-int-">save_state</a></span>(<a href="../../../../com/arjuna/ats/arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;os,
          int&nbsp;ot)</code>
<div class="block">These methods must be used by a derived class.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#setStatus-int-">setStatus</a></span>(int&nbsp;s)</code>&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#setupStore--">setupStore</a></span>()</code>
<div class="block">Make sure the object store is set up, if required.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#setupStore-java.lang.String-">setupStore</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rootName)</code>&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#setupStore-java.lang.String-java.lang.String-">setupStore</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rootName,
          <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;objectStoreType)</code>
<div class="block">Make sure the object store is set up, if required.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#status--">status</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#terminate--">terminate</a></span>()</code>
<div class="block">The following function checks to see if the object is going out of scope
 while an action is still running.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#tryLockMutex--">tryLockMutex</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#type--">type</a></span>()</code>
<div class="block">The object's type.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#unlockMutex--">unlockMutex</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#unpackHeader-com.arjuna.ats.arjuna.state.InputObjectState-com.arjuna.ats.internal.arjuna.Header-">unpackHeader</a></span>(<a href="../../../../com/arjuna/ats/arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;os,
            com.arjuna.ats.internal.arjuna.Header&nbsp;hdr)</code>
<div class="block">Unpack the crash recovery state header information and return it.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="modifyingActions">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>modifyingActions</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Hashtable.html?is-external=true" title="class or interface in java.util">Hashtable</a> modifyingActions</pre>
</li>
</ul>
<a name="usingActions">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>usingActions</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Hashtable.html?is-external=true" title="class or interface in java.util">Hashtable</a> usingActions</pre>
</li>
</ul>
<a name="objectUid">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>objectUid</h4>
<pre>protected final&nbsp;<a href="../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a> objectUid</pre>
</li>
</ul>
<a name="objectModel">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>objectModel</h4>
<pre>protected&nbsp;int objectModel</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="StateManager-com.arjuna.ats.arjuna.common.Uid-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>StateManager</h4>
<pre>protected&nbsp;StateManager(<a href="../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid)</pre>
<div class="block">Create object with specific uid. This constructor is primarily used when
 recreating an existing object. The object type is set to 'ANDPERSISTENT'
 this is equivalent to invoking persist in the object constructor.</div>
</li>
</ul>
<a name="StateManager-com.arjuna.ats.arjuna.common.Uid-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>StateManager</h4>
<pre>protected&nbsp;StateManager(<a href="../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
                       int&nbsp;ot)</pre>
</li>
</ul>
<a name="StateManager-com.arjuna.ats.arjuna.common.Uid-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>StateManager</h4>
<pre>protected&nbsp;StateManager(<a href="../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
                       int&nbsp;ot,
                       int&nbsp;om)</pre>
</li>
</ul>
<a name="StateManager--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>StateManager</h4>
<pre>protected&nbsp;StateManager()</pre>
</li>
</ul>
<a name="StateManager-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>StateManager</h4>
<pre>protected&nbsp;StateManager(int&nbsp;ot)</pre>
</li>
</ul>
<a name="StateManager-int-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>StateManager</h4>
<pre>protected&nbsp;StateManager(int&nbsp;ot,
                       int&nbsp;om)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="save_state-com.arjuna.ats.arjuna.state.OutputObjectState-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>save_state</h4>
<pre>public&nbsp;boolean&nbsp;save_state(<a href="../../../../com/arjuna/ats/arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;os,
                          int&nbsp;ot)</pre>
<div class="block">These methods must be used by a derived class. They are responsible for
 packing and unpacking an object's state to/from a state buffer.
 StateManager calls them at appropriate times during the lifetime of the
 object, and may then pass the buffer to a persistent object store for
 saving.
 
 If a derived class calls super.save_state then it must be called before
 packing any other data item.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> on success, <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a name="restore_state-com.arjuna.ats.arjuna.state.InputObjectState-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restore_state</h4>
<pre>public&nbsp;boolean&nbsp;restore_state(<a href="../../../../com/arjuna/ats/arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;os,
                             int&nbsp;ot)</pre>
<div class="block">These methods must be provided by a derived class. They are responsible
 for packing and unpacking an object's state to/from a state buffer.
 StateManager calls them at appropriate times during the lifetime of the
 object, and may then pass the buffer to a persistent object store for
 saving.
 
 Data items must be unpacked in the same order that they were packed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> on success, <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a name="activate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activate</h4>
<pre>public&nbsp;boolean&nbsp;activate()</pre>
<div class="block">This operation activates an object. Activation of an object may entail
 loading its passive state from the object store and unpacking it into the
 memory resident form, or it may simply be a no-op. Full activation is
 only necessary if the object is currently marked as being PASSIVE (that
 is, the object was constructed as being of type ANDPERSISTENT with an
 existing uid and has not already been activated). Objects that are not of
 type ANDPERSISTENT or are persistent but have not yet been saved in an
 object store (so-called new persistent objects) are unaffected by this
 function. Returns false if PASSIVE object cannot be loaded from object
 store, true otherwise. The root of the object store is taken as
 <code>null</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> on success, <code>false</code> otherwise.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html" title="class in com.arjuna.ats.arjuna.objectstore"><code>ObjectStore</code></a></dd>
</dl>
</li>
</ul>
<a name="activate-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activate</h4>
<pre>public&nbsp;boolean&nbsp;activate(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rootName)</pre>
<div class="block">This operation activates an object. Activation of an object may entail
 loading its passive state from the object store and unpacking it into the
 memory resident form, or it may simply be a no-op. Full activation is
 only necessary if the object is currently marked as being PASSIVE (that
 is, the object was constructed as being of type ANDPERSISTENT with an
 existing uid and has not already been activated). Objects that are not of
 type ANDPERSISTENT or are persistent but have not yet been saved in an
 object store (so-called new persistent objects) are unaffected by this
 function. Returns false if PASSIVE object cannot be loaded from object
 store, true otherwise.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> on success, <code>false</code> otherwise.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html" title="class in com.arjuna.ats.arjuna.objectstore"><code>ObjectStore</code></a></dd>
</dl>
</li>
</ul>
<a name="deactivate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deactivate</h4>
<pre>public&nbsp;boolean&nbsp;deactivate()</pre>
<div class="block">This operation deactivates a persistent object. It behaves in a similar
 manner to the activate operation, but has an extra argument which defines
 whether the object's state should be committed or written as a shadow.
 The root of the object store is <code>null</code>. It is assumed that
 this is being called during a transaction commit.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> on success, <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a name="deactivate-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deactivate</h4>
<pre>public&nbsp;boolean&nbsp;deactivate(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rootName)</pre>
<div class="block">This operation deactivates a persistent object. It behaves in a similar
 manner to the activate operation, but has an extra argument which defines
 whether the object's state should be commited now or not. It is assumed
 that this is being called during a transaction commit.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> on success, <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a name="deactivate-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deactivate</h4>
<pre>public&nbsp;boolean&nbsp;deactivate(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rootName,
                          boolean&nbsp;commit)</pre>
<div class="block">This operation deactivates a persistent object. It behaves in a similar
 manner to the activate operation, but has an extra argument which defines
 whether the object's state should be commited now or not.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> on success, <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a name="status--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>status</h4>
<pre>public&nbsp;int&nbsp;status()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the object's current status (active, passive, ...)</dd>
</dl>
</li>
</ul>
<a name="objectType--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>objectType</h4>
<pre>public&nbsp;int&nbsp;objectType()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the type of the object (persistent, recoverable, ...)</dd>
</dl>
</li>
</ul>
<a name="getObjectModel--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getObjectModel</h4>
<pre>public&nbsp;int&nbsp;getObjectModel()</pre>
</li>
</ul>
<a name="get_uid--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get_uid</h4>
<pre>public final&nbsp;<a href="../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;get_uid()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the object's unique identifier.</dd>
</dl>
</li>
</ul>
<a name="destroy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;boolean&nbsp;destroy()</pre>
<div class="block">Destroy the object (e.g., remove its state from the persistent store.)
 Calls to destroy for volatile objects (ones not maintained within the
 volatile object store) are ignored, and FALSE is returned.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> on success, <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a name="disable--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disable</h4>
<pre>public&nbsp;void&nbsp;disable()</pre>
<div class="block">The following function disables recovery for an object by setting the
 ObjectType to NEITHER (RECOVERABLE or ANDPERSISTENT). The value of this
 variable is checked in the modified operation so that no recovery
 information is created if myType is set to NEITHER.</div>
</li>
</ul>
<a name="print-java.io.PrintWriter-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>print</h4>
<pre>public&nbsp;void&nbsp;print(<a href="http://docs.oracle.com/javase/8/docs/api/java/io/PrintWriter.html?is-external=true" title="class or interface in java.io">PrintWriter</a>&nbsp;strm)</pre>
<div class="block">Print out information about the object.</div>
</li>
</ul>
<a name="type--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>type</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;type()</pre>
<div class="block">The object's type. Derived classes should override this to reflect their
 type structure. Typically this string is used for locating the object
 state in an object store, and reflects the hierarchy structure of the
 object.</div>
</li>
</ul>
<a name="getStoreRoot--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStoreRoot</h4>
<pre>public final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getStoreRoot()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the root of the object store this instance will use if it has to
         save the state of the object to storage.</dd>
</dl>
</li>
</ul>
<a name="getStore--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStore</h4>
<pre>public&nbsp;<a href="../../../../com/arjuna/ats/arjuna/objectstore/ParticipantStore.html" title="interface in com.arjuna.ats.arjuna.objectstore">ParticipantStore</a>&nbsp;getStore()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the object store this instance will used if it has to save the
         state of the object to storage.</dd>
</dl>
</li>
</ul>
<a name="packHeader-com.arjuna.ats.arjuna.state.OutputObjectState-com.arjuna.ats.internal.arjuna.Header-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>packHeader</h4>
<pre>protected&nbsp;void&nbsp;packHeader(<a href="../../../../com/arjuna/ats/arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;os,
                          com.arjuna.ats.internal.arjuna.Header&nbsp;hdr)
                   throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Pack the necessary information for crash recovery.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>JTS 2.1.</dd>
</dl>
</li>
</ul>
<a name="unpackHeader-com.arjuna.ats.arjuna.state.InputObjectState-com.arjuna.ats.internal.arjuna.Header-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unpackHeader</h4>
<pre>protected&nbsp;void&nbsp;unpackHeader(<a href="../../../../com/arjuna/ats/arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;os,
                            com.arjuna.ats.internal.arjuna.Header&nbsp;hdr)
                     throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Unpack the crash recovery state header information and return it.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>os</code> - the identity of the transaction that last caused the state to
            be written to the object store.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>JTS 2.1.</dd>
</dl>
</li>
</ul>
<a name="terminate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>terminate</h4>
<pre>protected&nbsp;void&nbsp;terminate()</pre>
<div class="block">The following function checks to see if the object is going out of scope
 while an action is still running.</div>
</li>
</ul>
<a name="setStatus-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStatus</h4>
<pre>protected final&nbsp;void&nbsp;setStatus(int&nbsp;s)</pre>
</li>
</ul>
<a name="modified--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>modified</h4>
<pre>protected&nbsp;boolean&nbsp;modified()</pre>
<div class="block">The object's state is about to be modified, and StateManager should take
 a snapshot of the state if the object is being used within a transaction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> on success, <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a name="persist--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>persist</h4>
<pre>protected final&nbsp;void&nbsp;persist()</pre>
<div class="block">The persist function changes the type of the object from RECOVERABLE to
 ANDPERSISTENT. No changes are made unless the status of the object is
 ACTIVE, so it is not possible to change the type of the object if it has
 been modified.</div>
</li>
</ul>
<a name="cleanup-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanup</h4>
<pre>protected final&nbsp;void&nbsp;cleanup(boolean&nbsp;fromTerminate)</pre>
<div class="block">Object cleanup. Attempt sane cleanup when object is deleted. Handle
 perverse cases where multiple actions are still active as object dies.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fromTerminate</code> - indicates whether this method is being called from the
            <code>terminate</code> method, or from elsewhere.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/arjuna/ats/arjuna/StateManager.html#terminate--"><code>terminate()</code></a></dd>
</dl>
</li>
</ul>
<a name="setupStore--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setupStore</h4>
<pre>protected final&nbsp;void&nbsp;setupStore()</pre>
<div class="block">Make sure the object store is set up, if required. The root of the object
 store is assumed to be <code>null</code>.</div>
</li>
</ul>
<a name="setupStore-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setupStore</h4>
<pre>protected&nbsp;void&nbsp;setupStore(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rootName)</pre>
</li>
</ul>
<a name="setupStore-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setupStore</h4>
<pre>protected&nbsp;void&nbsp;setupStore(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rootName,
                          <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;objectStoreType)</pre>
<div class="block">Make sure the object store is set up, if required.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rootName</code> - indicates the root of the object store.</dd>
</dl>
</li>
</ul>
<a name="loadObjectState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadObjectState</h4>
<pre>protected final&nbsp;boolean&nbsp;loadObjectState()</pre>
<div class="block">Do we need to load the object's state?</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the object state should be loaded,
         <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a name="forgetAction-com.arjuna.ats.arjuna.coordinator.BasicAction-boolean-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forgetAction</h4>
<pre>protected final&nbsp;boolean&nbsp;forgetAction(<a href="../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;action,
                                     boolean&nbsp;committed,
                                     int&nbsp;recordType)</pre>
<div class="block">Remove action from list of using actions. If the action list empties
 reset state to PASSIVE. The second param tells why the action should be
 forgotten. This aids in resetting the state correctly.</div>
</li>
</ul>
<a name="rememberAction-com.arjuna.ats.arjuna.coordinator.BasicAction-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rememberAction</h4>
<pre>protected final&nbsp;boolean&nbsp;rememberAction(<a href="../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;action,
                                       int&nbsp;recordType,
                                       int&nbsp;state)</pre>
<div class="block">Remember that the specified transaction is using the object.</div>
</li>
</ul>
<a name="getMutex--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMutex</h4>
<pre>protected final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/ReentrantLock.html?is-external=true" title="class or interface in java.util.concurrent.locks">ReentrantLock</a>&nbsp;getMutex()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the mutex object used to lock this object.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>JTS 2.1.</dd>
</dl>
</li>
</ul>
<a name="lockMutex--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockMutex</h4>
<pre>protected final&nbsp;boolean&nbsp;lockMutex()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result of the attempt to lock this object.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>JTS 2.1.</dd>
</dl>
</li>
</ul>
<a name="unlockMutex--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockMutex</h4>
<pre>protected final&nbsp;boolean&nbsp;unlockMutex()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result of the attempt to unlock this object.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>JTS 2.1.</dd>
</dl>
</li>
</ul>
<a name="tryLockMutex--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryLockMutex</h4>
<pre>protected final&nbsp;boolean&nbsp;tryLockMutex()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the object was locked, <code>false</code> if
         the attempt would cause the thread to block.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>JTS 2.1.</dd>
</dl>
</li>
</ul>
<a name="createLists--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>createLists</h4>
<pre>protected&nbsp;void&nbsp;createLists()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StateManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Narayana: narayana-full 5.7.1.Final</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/arjuna/ats/arjuna/ObjectType.html" title="class in com.arjuna.ats.arjuna"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/arjuna/ats/arjuna/TopLevelAction.html" title="class in com.arjuna.ats.arjuna"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/arjuna/ats/arjuna/StateManager.html" target="_top">Frames</a></li>
<li><a href="StateManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2017 <a href="http://www.jboss.org">JBoss by Red Hat</a>. All rights reserved.</small></p>
</body>
</html>
