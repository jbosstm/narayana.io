<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html" charset="UTF-8"> <title>AbstractRecord (Narayana: narayana-full 5.0.4.Final-SNAPSHOT API)</title> <meta name="date" content="2014-11-19"> <link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style"> </head> <body> <script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AbstractRecord (Narayana: narayana-full 5.0.4.Final-SNAPSHOT API)";
    }
//-->
</script> <noscript> <div>JavaScript is disabled on your browser.</div> </noscript> <div class="topNav"><a name="navbar_top"> </a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow"> </a> <ul class="navList" title="Navigation"> <li><a href="../../../../../overview-summary.html">Overview</a></li> <li><a href="package-summary.html">Package</a></li> <li class="navBarCell1Rev">Class</li> <li><a href="class-use/AbstractRecord.html">Use</a></li> <li><a href="package-tree.html">Tree</a></li> <li><a href="../../../../../deprecated-list.html">Deprecated</a></li> <li><a href="../../../../../index-all.html">Index</a></li> <li><a href="../../../../../help-doc.html">Help</a></li> </ul> <div class="aboutLanguage"><em><b>Narayana: narayana-full 5.0.4.Final-SNAPSHOT</b></em></div> </div> <div class="subNav"> <ul class="navList"> <li>Prev Class</li> <li><a href="../../../../../com/arjuna/ats/arjuna/coordinator/ActionHierarchy.html" title="class in com.arjuna.ats.arjuna.coordinator"><span class="strong">Next Class</span></a></li> </ul> <ul class="navList"> <li><a href="../../../../../index.html?com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" target="_top">Frames</a></li> <li><a href="AbstractRecord.html" target="_top">No Frames</a></li> </ul> <ul class="navList" id="allclasses_navbar_top"> <li><a href="../../../../../allclasses-noframe.html">All Classes</a></li> </ul> <div> <script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script> </div> <div> <ul class="subNavList"> <li>Summary:&nbsp;</li> <li>Nested&nbsp;|&nbsp;</li> <li><a href="#fields_inherited_from_class_com.arjuna.ats.arjuna.StateManager">Field</a>&nbsp;|&nbsp;</li> <li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method_summary">Method</a></li> </ul> <ul class="subNavList"> <li>Detail:&nbsp;</li> <li>Field&nbsp;|&nbsp;</li> <li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method_detail">Method</a></li> </ul> </div> <a name="skip-navbar_top"> </a></div> <div class="header"> <div class="subTitle">com.arjuna.ats.arjuna.coordinator</div> <h2 title="Class AbstractRecord" class="title">Class AbstractRecord</h2> </div> <div class="contentContainer"> <ul class="inheritance"> <li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li> <li> <ul class="inheritance"> <li><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">com.arjuna.ats.arjuna.StateManager</a></li> <li> <ul class="inheritance"> <li>com.arjuna.ats.arjuna.coordinator.AbstractRecord</li> </ul> </li> </ul> </li> </ul> <div class="description"> <ul class="blockList"> <li class="blockList"> <dl> <dt>Direct Known Subclasses:</dt> <dd><a href="../../../../../org/jboss/jbossts/star/resource/RESTRecord.html" title="class in org.jboss.jbossts.star.resource">RESTRecord</a></dd> </dl> <hr> <br> <pre>public abstract class <span class="strong">AbstractRecord</span>
extends <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></pre> <div class="block">Abstract Record Class This class provides an abstract template that defines the interface that the atomic action system uses to notify objects that various state transitions have occurred as the 2PC protocol executes. Record types derived from this class manage certain properties of objects such as recovery information, concurrency control information etc, and all must redefine the operations defined here as abstract to take appropriate action. Many functions are declared pure virtual to force a definition to occur in any derived class. These are currently all functions dealing with atomic action coordination as well as the following list management functions: typeIs: returns the record type of the instance. This is one of the values of the enumerated type Record_type value: Some arbitrary value associated with the record instance merge: Used when two records need to merge together. Currently this is only used by CadaverRecords to merge information from PersistenceRecords shouldAdd: returns TRUE is the record should be added to the list FALSE if it should be discarded shouldMerge: returns TRUE is the two records should be merged into a single record, FALSE if it should be discarded shouldReplace: returns TRUE if the record should replace an existing one, FALSE otherwise.</div> <dl><dt><span class="strong">Since:</span></dt> <dd>1.0.</dd> <dt><span class="strong">Version:</span></dt> <dd>$Id: AbstractRecord.java 2342 2006-03-30 13:06:17Z $</dd> <dt><span class="strong">Author:</span></dt> <dd>Mark Little (mark@arjuna.com)</dd></dl> </li> </ul> </div> <div class="summary"> <ul class="blockList"> <li class="blockList"> <ul class="blockList"> <li class="blockList"><a name="field_summary"> </a> <h3>Field Summary</h3> <ul class="blockList"> <li class="blockList"><a name="fields_inherited_from_class_com.arjuna.ats.arjuna.StateManager"> </a> <h3>Fields inherited from class&nbsp;com.arjuna.ats.arjuna.<a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></h3> <code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#modifyingActions">modifyingActions</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#objectModel">objectModel</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#objectUid">objectUid</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#usingActions">usingActions</a></code></li> </ul> </li> </ul> <ul class="blockList"> <li class="blockList"><a name="constructor_summary"> </a> <h3>Constructor Summary</h3> <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation"> <caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption> <tr> <th class="colFirst" scope="col">Modifier</th> <th class="colLast" scope="col">Constructor and Description</th> </tr> <tr class="altColor"> <td class="colFirst"><code>&nbsp;</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#AbstractRecord()">AbstractRecord</a></strong>()</code> <div class="block">Creates a 'blank' abstract record.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected </code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#AbstractRecord(com.arjuna.ats.arjuna.common.Uid)">AbstractRecord</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;storeUid)</code> <div class="block">Create a new instance with the specified paramaters.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected </code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#AbstractRecord(com.arjuna.ats.arjuna.common.Uid,%20java.lang.String,%20int)">AbstractRecord</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;storeUid, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;objType, int&nbsp;otype)</code> <div class="block">Create a new instance with the specified parameters.</div> </td> </tr> </table> </li> </ul> <ul class="blockList"> <li class="blockList"><a name="method_summary"> </a> <h3>Method Summary</h3> <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation"> <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption> <tr> <th class="colFirst" scope="col">Modifier and Type</th> <th class="colLast" scope="col">Method and Description</th> </tr> <tr class="altColor"> <td class="colFirst"><code>abstract void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#alter(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">alter</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;a)</code> <div class="block">Alter the current record with the one presented.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>static <a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#create(int)">create</a></strong>(int&nbsp;type)</code>&nbsp;</td> </tr> <tr class="altColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#doSave()">doSave</a></strong>()</code> <div class="block">Should this record be saved in the intentions list? If the record is saved, then it may be recovered later in the event of a failure.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#equals(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">equals</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;ar)</code> <div class="block">Determine if two records are equal in that both are the same type and have the same order value (determined via 'order()').</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#forgetHeuristic()">forgetHeuristic</a></strong>()</code> <div class="block">Forget any heuristic outcome which this implementation may have produced.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected <a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#getNext()">getNext</a></strong>()</code>&nbsp;</td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected <a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#getPrevious()">getPrevious</a></strong>()</code> <div class="block">These few functions are link manipulation primitives used by the RecordList processing software to chain instances together.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#getTypeOfObject()">getTypeOfObject</a></strong>()</code> <div class="block">Return the type of the abstract record.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#greaterThan(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">greaterThan</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;ar)</code> <div class="block">Determine if two records are greater than in that both are the same type and their Uids are greater than.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#lessThan(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">lessThan</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;ar)</code> <div class="block">Determine if two records are less than in that both are the same type and their Uids are less than.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>abstract void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#merge(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">merge</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;a)</code> <div class="block">Merge the current record with the one presented.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>abstract int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#nestedAbort()">nestedAbort</a></strong>()</code> <div class="block">A rollback of a nested transaction has occurred.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#nestedCleanup()">nestedCleanup</a></strong>()</code> <div class="block">Cleanup is called if a nested is detected to be an orphan.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>abstract int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#nestedCommit()">nestedCommit</a></strong>()</code> <div class="block">A commit of a nested transaction has occurred.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#nestedOnePhaseCommit()">nestedOnePhaseCommit</a></strong>()</code> <div class="block">Perform a nested one phase commit.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>abstract int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#nestedPrepare()">nestedPrepare</a></strong>()</code> <div class="block">A prepare for a nested transaction has occurred.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code><a href="../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#order()">order</a></strong>()</code> <div class="block">Return the Uid of this abstract record so that it can be ordered in the intentions list.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#print(java.io.PrintWriter)">print</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/io/PrintWriter.html?is-external=true" title="class or interface in java.io">PrintWriter</a>&nbsp;strm)</code> <div class="block">Write information about this specific instance to the specified stream.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#propagateOnAbort()">propagateOnAbort</a></strong>()</code> <div class="block">Determine if records are discarded on action abort or must be propagated to parents.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#propagateOnCommit()">propagateOnCommit</a></strong>()</code> <div class="block">Determine if records are discarded on action commit or must be propagated to parents.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#replace(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">replace</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;a)</code> <div class="block">The current record is about to replace the one presented.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#restore_state(com.arjuna.ats.arjuna.state.InputObjectState,%20int)">restore_state</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;os, int&nbsp;i)</code> <div class="block">During recovery, the transaction log is given to the recovery system and it will recreate a transaction instance to perform necessary recovery actions.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#save_state(com.arjuna.ats.arjuna.state.OutputObjectState,%20int)">save_state</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;os, int&nbsp;i)</code> <div class="block">When the transaction is required to make the intentions list persistent, it scans the list and asks each record whether or not it requires state to be saved (by calling doSave).</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#setNext(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">setNext</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;ar)</code> <div class="block">Set the next element in the list to the specified instance.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#setPrevious(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">setPrevious</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;ar)</code> <div class="block">Set the previous element in the list to the specified instance.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>abstract void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#setValue(java.lang.Object)">setValue</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o)</code>&nbsp;</td> </tr> <tr class="altColor"> <td class="colFirst"><code>abstract boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#shouldAdd(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">shouldAdd</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;a)</code> <div class="block">Should we add the record presented to the intentions list?</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>abstract boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#shouldAlter(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">shouldAlter</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;a)</code> <div class="block">Should we alter the current record with the one presented?</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>abstract boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#shouldMerge(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">shouldMerge</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;a)</code> <div class="block">Should we merge the current record with the one presented?</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>abstract boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#shouldReplace(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">shouldReplace</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;a)</code> <div class="block">Should we replace the record presented with the current record?</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>abstract int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#topLevelAbort()">topLevelAbort</a></strong>()</code> <div class="block">A rollback of a top-level transaction has occurred.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#topLevelCleanup()">topLevelCleanup</a></strong>()</code> <div class="block">Cleanup is called if a top-level action is detected to be an orphan.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>abstract int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#topLevelCommit()">topLevelCommit</a></strong>()</code> <div class="block">A commit of a top-level transaction has occurred.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#topLevelOnePhaseCommit()">topLevelOnePhaseCommit</a></strong>()</code> <div class="block">Perform a top-level one phase commit.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>abstract int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#topLevelPrepare()">topLevelPrepare</a></strong>()</code> <div class="block">A prepare for a top-level transaction has occurred.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#type()">type</a></strong>()</code> <div class="block">Re-implementation of abstract methods inherited from base class.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>abstract int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#typeIs()">typeIs</a></strong>()</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>abstract <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html#value()">value</a></strong>()</code> <div class="block">If this abstract record caused a heuristic then it should return an object which implements <code>HeuristicInformation</code></div> </td> </tr> </table> <ul class="blockList"> <li class="blockList"><a name="methods_inherited_from_class_com.arjuna.ats.arjuna.StateManager"> </a> <h3>Methods inherited from class&nbsp;com.arjuna.ats.arjuna.<a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></h3> <code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#activate()">activate</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#activate(java.lang.String)">activate</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#cleanup(boolean)">cleanup</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#createLists()">createLists</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#deactivate()">deactivate</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#deactivate(java.lang.String)">deactivate</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#deactivate(java.lang.String,%20boolean)">deactivate</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#destroy()">destroy</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#disable()">disable</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#forgetAction(com.arjuna.ats.arjuna.coordinator.BasicAction,%20boolean,%20int)">forgetAction</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#get_uid()">get_uid</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#getMutex()">getMutex</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#getObjectModel()">getObjectModel</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#getStore()">getStore</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#getStoreRoot()">getStoreRoot</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#loadObjectState()">loadObjectState</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#lockMutex()">lockMutex</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#modified()">modified</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#objectType()">objectType</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#packHeader(com.arjuna.ats.arjuna.state.OutputObjectState,%20com.arjuna.ats.internal.arjuna.Header)">packHeader</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#persist()">persist</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#rememberAction(com.arjuna.ats.arjuna.coordinator.BasicAction,%20int,%20int)">rememberAction</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#setStatus(int)">setStatus</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#setupStore()">setupStore</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#setupStore(java.lang.String)">setupStore</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#setupStore(java.lang.String,%20java.lang.String)">setupStore</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#status()">status</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#terminate()">terminate</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#tryLockMutex()">tryLockMutex</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#unlockMutex()">unlockMutex</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#unpackHeader(com.arjuna.ats.arjuna.state.InputObjectState,%20com.arjuna.ats.internal.arjuna.Header)">unpackHeader</a></code></li> </ul> <ul class="blockList"> <li class="blockList"><a name="methods_inherited_from_class_java.lang.Object"> </a> <h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3> <code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li> </ul> </li> </ul> </li> </ul> </div> <div class="details"> <ul class="blockList"> <li class="blockList"> <ul class="blockList"> <li class="blockList"><a name="constructor_detail"> </a> <h3>Constructor Detail</h3> <a name="AbstractRecord(com.arjuna.ats.arjuna.common.Uid, java.lang.String, int)"> </a> <ul class="blockList"> <li class="blockList"> <h4>AbstractRecord</h4> <pre>protected&nbsp;AbstractRecord(<a href="../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;storeUid,
              <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;objType,
              int&nbsp;otype)</pre> <div class="block">Create a new instance with the specified parameters.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>storeUid</code> - the unique id for this instance.</dd><dd><code>objType</code> - the type of the instance.</dd><dd><code>otype</code> - the ObjectType of the object.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../com/arjuna/ats/arjuna/ObjectType.html" title="class in com.arjuna.ats.arjuna"><code>ObjectType</code></a></dd></dl> </li> </ul> <a name="AbstractRecord(com.arjuna.ats.arjuna.common.Uid)"> </a> <ul class="blockList"> <li class="blockList"> <h4>AbstractRecord</h4> <pre>protected&nbsp;AbstractRecord(<a href="../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;storeUid)</pre> <div class="block">Create a new instance with the specified paramaters.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>storeUid</code> - the unique id for this instance.</dd></dl> </li> </ul> <a name="AbstractRecord()"> </a> <ul class="blockListLast"> <li class="blockList"> <h4>AbstractRecord</h4> <pre>public&nbsp;AbstractRecord()</pre> <div class="block">Creates a 'blank' abstract record. This is used during crash recovery when recreating the prepared list of a server atomic action.</div> </li> </ul> </li> </ul> <ul class="blockList"> <li class="blockList"><a name="method_detail"> </a> <h3>Method Detail</h3> <a name="typeIs()"> </a> <ul class="blockList"> <li class="blockList"> <h4>typeIs</h4> <pre>public abstract&nbsp;int&nbsp;typeIs()</pre> <dl><dt><span class="strong">Returns:</span></dt><dd><code>RecordType</code> value.</dd></dl> </li> </ul> <a name="value()"> </a> <ul class="blockList"> <li class="blockList"> <h4>value</h4> <pre>public abstract&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;value()</pre> <div class="block">If this abstract record caused a heuristic then it should return an object which implements <code>HeuristicInformation</code></div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>Object</code> to be used to order.</dd></dl> </li> </ul> <a name="setValue(java.lang.Object)"> </a> <ul class="blockList"> <li class="blockList"> <h4>setValue</h4> <pre>public abstract&nbsp;void&nbsp;setValue(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o)</pre> </li> </ul> <a name="nestedAbort()"> </a> <ul class="blockList"> <li class="blockList"> <h4>nestedAbort</h4> <pre>public abstract&nbsp;int&nbsp;nestedAbort()</pre> <div class="block">A rollback of a nested transaction has occurred.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>TwoPhaseOutcome</code> to indicate success/failure.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../com/arjuna/ats/arjuna/coordinator/TwoPhaseOutcome.html" title="class in com.arjuna.ats.arjuna.coordinator"><code>TwoPhaseOutcome</code></a></dd></dl> </li> </ul> <a name="nestedCommit()"> </a> <ul class="blockList"> <li class="blockList"> <h4>nestedCommit</h4> <pre>public abstract&nbsp;int&nbsp;nestedCommit()</pre> <div class="block">A commit of a nested transaction has occurred.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>TwoPhaseOutcome</code> to indicate success/failure.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../com/arjuna/ats/arjuna/coordinator/TwoPhaseOutcome.html" title="class in com.arjuna.ats.arjuna.coordinator"><code>TwoPhaseOutcome</code></a></dd></dl> </li> </ul> <a name="nestedPrepare()"> </a> <ul class="blockList"> <li class="blockList"> <h4>nestedPrepare</h4> <pre>public abstract&nbsp;int&nbsp;nestedPrepare()</pre> <div class="block">A prepare for a nested transaction has occurred.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>TwoPhaseOutcome</code> to indicate success/failure.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../com/arjuna/ats/arjuna/coordinator/TwoPhaseOutcome.html" title="class in com.arjuna.ats.arjuna.coordinator"><code>TwoPhaseOutcome</code></a></dd></dl> </li> </ul> <a name="topLevelAbort()"> </a> <ul class="blockList"> <li class="blockList"> <h4>topLevelAbort</h4> <pre>public abstract&nbsp;int&nbsp;topLevelAbort()</pre> <div class="block">A rollback of a top-level transaction has occurred.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>TwoPhaseOutcome</code> to indicate success/failure.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../com/arjuna/ats/arjuna/coordinator/TwoPhaseOutcome.html" title="class in com.arjuna.ats.arjuna.coordinator"><code>TwoPhaseOutcome</code></a></dd></dl> </li> </ul> <a name="topLevelCommit()"> </a> <ul class="blockList"> <li class="blockList"> <h4>topLevelCommit</h4> <pre>public abstract&nbsp;int&nbsp;topLevelCommit()</pre> <div class="block">A commit of a top-level transaction has occurred.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>TwoPhaseOutcome</code> to indicate success/failure.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../com/arjuna/ats/arjuna/coordinator/TwoPhaseOutcome.html" title="class in com.arjuna.ats.arjuna.coordinator"><code>TwoPhaseOutcome</code></a></dd></dl> </li> </ul> <a name="topLevelPrepare()"> </a> <ul class="blockList"> <li class="blockList"> <h4>topLevelPrepare</h4> <pre>public abstract&nbsp;int&nbsp;topLevelPrepare()</pre> <div class="block">A prepare for a top-level transaction has occurred.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>TwoPhaseOutcome</code> to indicate success/failure.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../com/arjuna/ats/arjuna/coordinator/TwoPhaseOutcome.html" title="class in com.arjuna.ats.arjuna.coordinator"><code>TwoPhaseOutcome</code></a></dd></dl> </li> </ul> <a name="order()"> </a> <ul class="blockList"> <li class="blockList"> <h4>order</h4> <pre>public&nbsp;<a href="../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;order()</pre> <div class="block">Return the Uid of this abstract record so that it can be ordered in the intentions list. This is also the Uid that the record was saved with in the object store.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>Uid</Uid> for this instance.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common"><code>Uid</code></a></dd></dl> </li> </ul> <a name="getTypeOfObject()"> </a> <ul class="blockList"> <li class="blockList"> <h4>getTypeOfObject</h4> <pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getTypeOfObject()</pre> <div class="block">Return the type of the abstract record. Used in ordering the instances in the intentions list. This is also the type that the record was saved with in the object store.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>String</code> representing type.</dd></dl> </li> </ul> <a name="propagateOnAbort()"> </a> <ul class="blockList"> <li class="blockList"> <h4>propagateOnAbort</h4> <pre>public&nbsp;boolean&nbsp;propagateOnAbort()</pre> <div class="block">Determine if records are discarded on action abort or must be propagated to parents.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the record should be propagated to the parent transaction if the current transaction rolls back, <code>false</code> otherwise. The default is <code>false</code>.</dd></dl> </li> </ul> <a name="propagateOnCommit()"> </a> <ul class="blockList"> <li class="blockList"> <h4>propagateOnCommit</h4> <pre>public&nbsp;boolean&nbsp;propagateOnCommit()</pre> <div class="block">Determine if records are discarded on action commit or must be propagated to parents.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the record should be propagated to the parent transaction if the current transaction commits, <code>false</code> otherwise. The default is <code>true</code>.</dd></dl> </li> </ul> <a name="equals(com.arjuna.ats.arjuna.coordinator.AbstractRecord)"> </a> <ul class="blockList"> <li class="blockList"> <h4>equals</h4> <pre>public final&nbsp;boolean&nbsp;equals(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;ar)</pre> <div class="block">Determine if two records are equal in that both are the same type and have the same order value (determined via 'order()').</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if equal, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="lessThan(com.arjuna.ats.arjuna.coordinator.AbstractRecord)"> </a> <ul class="blockList"> <li class="blockList"> <h4>lessThan</h4> <pre>public final&nbsp;boolean&nbsp;lessThan(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;ar)</pre> <div class="block">Determine if two records are less than in that both are the same type and their Uids are less than.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if equal, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="greaterThan(com.arjuna.ats.arjuna.coordinator.AbstractRecord)"> </a> <ul class="blockList"> <li class="blockList"> <h4>greaterThan</h4> <pre>public final&nbsp;boolean&nbsp;greaterThan(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;ar)</pre> <div class="block">Determine if two records are greater than in that both are the same type and their Uids are greater than.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if equal, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="topLevelCleanup()"> </a> <ul class="blockList"> <li class="blockList"> <h4>topLevelCleanup</h4> <pre>public&nbsp;int&nbsp;topLevelCleanup()</pre> <div class="block">Cleanup is called if a top-level action is detected to be an orphan. NOTE nested actions are never orphans since their parents would be aborted we may as well abort them as well.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>TwoPhaseOutcome</code> as default is the same as topLevelAbort.</dd></dl> </li> </ul> <a name="nestedCleanup()"> </a> <ul class="blockList"> <li class="blockList"> <h4>nestedCleanup</h4> <pre>public&nbsp;int&nbsp;nestedCleanup()</pre> <div class="block">Cleanup is called if a nested is detected to be an orphan. NOTE nested actions are never orphans since their parents would be aborted we may as well abort them as well.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>TwoPhaseOutcome</code> as default is the same as nestedAbort.</dd></dl> </li> </ul> <a name="doSave()"> </a> <ul class="blockList"> <li class="blockList"> <h4>doSave</h4> <pre>public&nbsp;boolean&nbsp;doSave()</pre> <div class="block">Should this record be saved in the intentions list? If the record is saved, then it may be recovered later in the event of a failure. Note, however, that the size of the intentions list on disk is critical to the performance of the system (disk I/O is a bottleneck).</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if it should be saved, <code>false</code> otherwise. <code>false</code> is the default.</dd></dl> </li> </ul> <a name="type()"> </a> <ul class="blockList"> <li class="blockList"> <h4>type</h4> <pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;type()</pre> <div class="block">Re-implementation of abstract methods inherited from base class.</div> <dl> <dt><strong>Overrides:</strong></dt> <dd><code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#type()">type</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd> </dl> </li> </ul> <a name="print(java.io.PrintWriter)"> </a> <ul class="blockList"> <li class="blockList"> <h4>print</h4> <pre>public&nbsp;void&nbsp;print(<a href="http://docs.oracle.com/javase/7/docs/api/java/io/PrintWriter.html?is-external=true" title="class or interface in java.io">PrintWriter</a>&nbsp;strm)</pre> <div class="block">Write information about this specific instance to the specified stream.</div> <dl> <dt><strong>Overrides:</strong></dt> <dd><code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#print(java.io.PrintWriter)">print</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd> <dt><span class="strong">Parameters:</span></dt><dd><code>strm</code> - the stream on which to output.</dd></dl> </li> </ul> <a name="save_state(com.arjuna.ats.arjuna.state.OutputObjectState, int)"> </a> <ul class="blockList"> <li class="blockList"> <h4>save_state</h4> <pre>public&nbsp;boolean&nbsp;save_state(<a href="../../../../../com/arjuna/ats/arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;os,
                 int&nbsp;i)</pre> <div class="block">When the transaction is required to make the intentions list persistent, it scans the list and asks each record whether or not it requires state to be saved (by calling doSave). If the answer is yes, then save_state is called and the record instance must save enough information to enable it to be restored from that state later. The basic AbstractRecord save_state will save common data that is required by the base class during recovery. If a derived class calls super.save_state then it must be called before packing any other data item.</div> <dl> <dt><strong>Overrides:</strong></dt> <dd><code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#save_state(com.arjuna.ats.arjuna.state.OutputObjectState,%20int)">save_state</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd> <dt><span class="strong">Returns:</span></dt><dd><code>true</code> if successful, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="restore_state(com.arjuna.ats.arjuna.state.InputObjectState, int)"> </a> <ul class="blockList"> <li class="blockList"> <h4>restore_state</h4> <pre>public&nbsp;boolean&nbsp;restore_state(<a href="../../../../../com/arjuna/ats/arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;os,
                    int&nbsp;i)</pre> <div class="block">During recovery, the transaction log is given to the recovery system and it will recreate a transaction instance to perform necessary recovery actions. This transaction will recreate the intentions list and give each recreated AbstractRecord the state that that was saved during transaction persistence. The base class will restore information that it needs from the log. Data items must be unpacked in the same order that they were packed.</div> <dl> <dt><strong>Overrides:</strong></dt> <dd><code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#restore_state(com.arjuna.ats.arjuna.state.InputObjectState,%20int)">restore_state</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd> <dt><span class="strong">Returns:</span></dt><dd><code>true</code> if successful, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="forgetHeuristic()"> </a> <ul class="blockList"> <li class="blockList"> <h4>forgetHeuristic</h4> <pre>public&nbsp;boolean&nbsp;forgetHeuristic()</pre> <div class="block">Forget any heuristic outcome which this implementation may have produced.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> by default. If <code>false</code> is returned then the instance must be remembered by the transaction (in the log) in order for recovery to retry later or for a system administrator to be able to determine which resources have not been successfully completed.</dd></dl> </li> </ul> <a name="nestedOnePhaseCommit()"> </a> <ul class="blockList"> <li class="blockList"> <h4>nestedOnePhaseCommit</h4> <pre>public&nbsp;int&nbsp;nestedOnePhaseCommit()</pre> <div class="block">Perform a nested one phase commit.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>TwoPhaseOutcome</code> to indicate success/failure.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../com/arjuna/ats/arjuna/coordinator/TwoPhaseOutcome.html" title="class in com.arjuna.ats.arjuna.coordinator"><code>TwoPhaseOutcome</code></a></dd></dl> </li> </ul> <a name="topLevelOnePhaseCommit()"> </a> <ul class="blockList"> <li class="blockList"> <h4>topLevelOnePhaseCommit</h4> <pre>public&nbsp;int&nbsp;topLevelOnePhaseCommit()</pre> <div class="block">Perform a top-level one phase commit.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>TwoPhaseOutcome</code> to indicate success/failure.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../com/arjuna/ats/arjuna/coordinator/TwoPhaseOutcome.html" title="class in com.arjuna.ats.arjuna.coordinator"><code>TwoPhaseOutcome</code></a></dd></dl> </li> </ul> <a name="create(int)"> </a> <ul class="blockList"> <li class="blockList"> <h4>create</h4> <pre>public static&nbsp;<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;create(int&nbsp;type)</pre> </li> </ul> <a name="merge(com.arjuna.ats.arjuna.coordinator.AbstractRecord)"> </a> <ul class="blockList"> <li class="blockList"> <h4>merge</h4> <pre>public abstract&nbsp;void&nbsp;merge(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;a)</pre> <div class="block">Merge the current record with the one presented.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>a</code> - the record with which to merge.</dd></dl> </li> </ul> <a name="alter(com.arjuna.ats.arjuna.coordinator.AbstractRecord)"> </a> <ul class="blockList"> <li class="blockList"> <h4>alter</h4> <pre>public abstract&nbsp;void&nbsp;alter(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;a)</pre> <div class="block">Alter the current record with the one presented.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>a</code> - the record with which to alter.</dd></dl> </li> </ul> <a name="shouldAdd(com.arjuna.ats.arjuna.coordinator.AbstractRecord)"> </a> <ul class="blockList"> <li class="blockList"> <h4>shouldAdd</h4> <pre>public abstract&nbsp;boolean&nbsp;shouldAdd(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;a)</pre> <div class="block">Should we add the record presented to the intentions list?</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>a</code> - The record to try to add.</dd> <dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the record should be added, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="shouldAlter(com.arjuna.ats.arjuna.coordinator.AbstractRecord)"> </a> <ul class="blockList"> <li class="blockList"> <h4>shouldAlter</h4> <pre>public abstract&nbsp;boolean&nbsp;shouldAlter(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;a)</pre> <div class="block">Should we alter the current record with the one presented?</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>a</code> - The record to try to alter.</dd> <dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the record should be altered, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="shouldMerge(com.arjuna.ats.arjuna.coordinator.AbstractRecord)"> </a> <ul class="blockList"> <li class="blockList"> <h4>shouldMerge</h4> <pre>public abstract&nbsp;boolean&nbsp;shouldMerge(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;a)</pre> <div class="block">Should we merge the current record with the one presented?</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>a</code> - The record to try to merge.</dd> <dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the record should be merged, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="shouldReplace(com.arjuna.ats.arjuna.coordinator.AbstractRecord)"> </a> <ul class="blockList"> <li class="blockList"> <h4>shouldReplace</h4> <pre>public abstract&nbsp;boolean&nbsp;shouldReplace(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;a)</pre> <div class="block">Should we replace the record presented with the current record?</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>a</code> - The record to try to replace.</dd> <dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the record should be replaced, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="replace(com.arjuna.ats.arjuna.coordinator.AbstractRecord)"> </a> <ul class="blockList"> <li class="blockList"> <h4>replace</h4> <pre>public&nbsp;void&nbsp;replace(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;a)</pre> <div class="block">The current record is about to replace the one presented. This method is invoked to give the current record a chance to copy information, for example, from the record being replaced.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>a</code> - the record that will replace this instance.</dd></dl> </li> </ul> <a name="getPrevious()"> </a> <ul class="blockList"> <li class="blockList"> <h4>getPrevious</h4> <pre>protected final&nbsp;<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;getPrevious()</pre> <div class="block">These few functions are link manipulation primitives used by the RecordList processing software to chain instances together.</div> <dl><dt><span class="strong">Returns:</span></dt><dd>the previous element in the intentions list, or null.</dd></dl> </li> </ul> <a name="getNext()"> </a> <ul class="blockList"> <li class="blockList"> <h4>getNext</h4> <pre>protected final&nbsp;<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;getNext()</pre> <dl><dt><span class="strong">Returns:</span></dt><dd>the next element in the intentions list, or null.</dd></dl> </li> </ul> <a name="setPrevious(com.arjuna.ats.arjuna.coordinator.AbstractRecord)"> </a> <ul class="blockList"> <li class="blockList"> <h4>setPrevious</h4> <pre>protected final&nbsp;void&nbsp;setPrevious(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;ar)</pre> <div class="block">Set the previous element in the list to the specified instance.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>ar</code> - the instance to become previous.</dd></dl> </li> </ul> <a name="setNext(com.arjuna.ats.arjuna.coordinator.AbstractRecord)"> </a> <ul class="blockListLast"> <li class="blockList"> <h4>setNext</h4> <pre>protected final&nbsp;void&nbsp;setNext(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;ar)</pre> <div class="block">Set the next element in the list to the specified instance.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>ar</code> - the instance to become next.</dd></dl> </li> </ul> </li> </ul> </li> </ul> </div> </div> <div class="bottomNav"><a name="navbar_bottom"> </a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow"> </a> <ul class="navList" title="Navigation"> <li><a href="../../../../../overview-summary.html">Overview</a></li> <li><a href="package-summary.html">Package</a></li> <li class="navBarCell1Rev">Class</li> <li><a href="class-use/AbstractRecord.html">Use</a></li> <li><a href="package-tree.html">Tree</a></li> <li><a href="../../../../../deprecated-list.html">Deprecated</a></li> <li><a href="../../../../../index-all.html">Index</a></li> <li><a href="../../../../../help-doc.html">Help</a></li> </ul> <div class="aboutLanguage"><em><b>Narayana: narayana-full 5.0.4.Final-SNAPSHOT</b></em></div> </div> <div class="subNav"> <ul class="navList"> <li>Prev Class</li> <li><a href="../../../../../com/arjuna/ats/arjuna/coordinator/ActionHierarchy.html" title="class in com.arjuna.ats.arjuna.coordinator"><span class="strong">Next Class</span></a></li> </ul> <ul class="navList"> <li><a href="../../../../../index.html?com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" target="_top">Frames</a></li> <li><a href="AbstractRecord.html" target="_top">No Frames</a></li> </ul> <ul class="navList" id="allclasses_navbar_bottom"> <li><a href="../../../../../allclasses-noframe.html">All Classes</a></li> </ul> <div> <script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script> </div> <div> <ul class="subNavList"> <li>Summary:&nbsp;</li> <li>Nested&nbsp;|&nbsp;</li> <li><a href="#fields_inherited_from_class_com.arjuna.ats.arjuna.StateManager">Field</a>&nbsp;|&nbsp;</li> <li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method_summary">Method</a></li> </ul> <ul class="subNavList"> <li>Detail:&nbsp;</li> <li>Field&nbsp;|&nbsp;</li> <li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method_detail">Method</a></li> </ul> </div> <a name="skip-navbar_bottom"> </a></div> <p class="legalCopy"><small>Copyright &#169; 2014 <a href="http://www.jboss.org">JBoss by Red Hat</a>. All Rights Reserved.</small></p> </body> </html>