<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.17) on Thu Feb 16 12:15:06 GMT 2023 -->
<title>BasicAction (Narayana: narayana-full 6.0.0.Final API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-02-16">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BasicAction (Narayana: narayana-full 6.0.0.Final API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":9,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":9,"i41":10,"i42":10,"i43":10,"i44":10,"i45":10,"i46":10,"i47":10,"i48":10,"i49":10,"i50":10,"i51":10,"i52":10,"i53":10,"i54":10,"i55":10,"i56":10,"i57":10,"i58":10,"i59":10,"i60":10,"i61":10,"i62":10,"i63":10,"i64":10,"i65":10,"i66":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BasicAction.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Narayana: narayana-full 6.0.0.Final</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.arjuna.ats.arjuna.coordinator</a></div>
<h2 title="Class BasicAction" class="title">Class BasicAction</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../StateManager.html" title="class in com.arjuna.ats.arjuna">com.arjuna.ats.arjuna.StateManager</a></li>
<li>
<ul class="inheritance">
<li>com.arjuna.ats.arjuna.coordinator.BasicAction</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="TwoPhaseCoordinator.html" title="class in com.arjuna.ats.arjuna.coordinator">TwoPhaseCoordinator</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">BasicAction</span>
extends <a href="../StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></pre>
<div class="block">BasicAction does most of the work of an atomic action, but does not manage
 thread scoping. This is the responsibility of any derived classes.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>JTS 1.0.</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>$Id: BasicAction.java 2342 2006-03-30 13:06:17Z  $</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Mark Little (mark@arjuna.com)</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#failedList">failedList</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#heuristicList">heuristicList</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#pendingList">pendingList</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#preparedList">preparedList</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readonlyList">readonlyList</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#savedIntentionList">savedIntentionList</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#subordinate">subordinate</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.List&lt;com.arjuna.ats.arjuna.coordinator.StackTraceCapture&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#threadStackTraceHistoryList">threadStackTraceHistoryList</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.com.arjuna.ats.arjuna.StateManager">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.arjuna.ats.arjuna.<a href="../StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></h3>
<code><a href="../StateManager.html#modifyingActions">modifyingActions</a>, <a href="../StateManager.html#objectModel">objectModel</a>, <a href="../StateManager.html#objectUid">objectUid</a>, <a href="../StateManager.html#usingActions">usingActions</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colSecond" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">BasicAction</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(int)">BasicAction</a></span>&#8203;(int&nbsp;at)</code></th>
<td class="colLast">
<div class="block">Create a transaction of the specified type.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(com.arjuna.ats.arjuna.common.Uid)">BasicAction</a></span>&#8203;(<a href="../common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid)</code></th>
<td class="colLast">
<div class="block">BasicAction constructor with a Uid.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(com.arjuna.ats.arjuna.common.Uid,int)">BasicAction</a></span>&#8203;(<a href="../common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;u,
           int&nbsp;at)</code></th>
<td class="colLast">
<div class="block">Recreate the specified transaction.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#Abort()">Abort</a></span>()</code></th>
<td class="colLast">
<div class="block">This is the user callable abort operation.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#Abort(boolean)">Abort</a></span>&#8203;(boolean&nbsp;applicationAbort)</code></th>
<td class="colLast">
<div class="block">This is the user callable abort operation.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#abortStatus()">abortStatus</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#activate()">activate</a></span>()</code></th>
<td class="colLast">
<div class="block">Overloaded version of activate -- sets up the store, performs read_state
 followed by restore_state.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#activate(java.lang.String)">activate</a></span>&#8203;(java.lang.String&nbsp;root)</code></th>
<td class="colLast">
<div class="block">Overloaded version of activate -- sets up the store, performs read_state
 followed by restore_state.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#activeThreads()">activeThreads</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#add(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">add</a></span>&#8203;(<a href="AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;A)</code></th>
<td class="colLast">
<div class="block">Add a record to the atomic action.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addChildAction(com.arjuna.ats.arjuna.coordinator.BasicAction)">addChildAction</a></span>&#8203;(<a href="BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;act)</code></th>
<td class="colLast">
<div class="block">Add a new child action to the atomic action.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addChildThread()">addChildThread</a></span>()</code></th>
<td class="colLast">
<div class="block">Add the current thread to the list of threads associated with this
 transaction.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addChildThread(java.lang.Thread)">addChildThread</a></span>&#8203;(java.lang.Thread&nbsp;t)</code></th>
<td class="colLast">
<div class="block">Add the specified thread to the list of threads associated with this
 transaction.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addRecord(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">addRecord</a></span>&#8203;(<a href="AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;A)</code></th>
<td class="colLast">
<div class="block">Add the specified abstract record to the transaction.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#async_prepare(boolean)">async_prepare</a></span>&#8203;(boolean&nbsp;reportHeuristics)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#Begin(com.arjuna.ats.arjuna.coordinator.BasicAction)">Begin</a></span>&#8203;(<a href="BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;parentAct)</code></th>
<td class="colLast">
<div class="block">Atomic action Begin operation.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkForCurrent()">checkForCurrent</a></span>()</code></th>
<td class="colLast">
<div class="block">Do we want to check that a transaction can only be terminated by a thread
 that has it as its current transaction? The base class has this check
 enabled (i.e., we check), but some implementations may wish to override
 this.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>java.lang.Object[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#childTransactions()">childTransactions</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#commitStatus()">commitStatus</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createStackTraces()">createStackTraces</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#criticalEnd()">criticalEnd</a></span>()</code></th>
<td class="colLast">
<div class="block">Defines the end of a critical region by resetting the critical flag.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#criticalStart()">criticalStart</a></span>()</code></th>
<td class="colLast">
<div class="block">Defines the start of a critical region by setting the critical flag.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>static <a href="BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#Current()">Current</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deactivate()">deactivate</a></span>()</code></th>
<td class="colLast">
<div class="block">This operation deactivates a persistent object.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#destroy()">destroy</a></span>()</code></th>
<td class="colLast">
<div class="block">Overloads <code>StateManager.destroy</code> to prevent destroy being
 called on a BasicAction.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doAbort(boolean,com.arjuna.ats.arjuna.coordinator.AbstractRecord)">doAbort</a></span>&#8203;(boolean&nbsp;reportHeuristics,
       <a href="AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;record)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doAbort(com.arjuna.ats.arjuna.coordinator.RecordList,boolean)">doAbort</a></span>&#8203;(<a href="RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a>&nbsp;list_toprocess,
       boolean&nbsp;reportHeuristics)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doCommit(boolean,com.arjuna.ats.arjuna.coordinator.AbstractRecord)">doCommit</a></span>&#8203;(boolean&nbsp;reportHeuristics,
        <a href="AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;record)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doCommit(com.arjuna.ats.arjuna.coordinator.RecordList,boolean)">doCommit</a></span>&#8203;(<a href="RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a>&nbsp;rl,
        boolean&nbsp;reportHeuristics)</code></th>
<td class="colLast">
<div class="block">Walk down a record list extracting records and calling the appropriate
 commit function.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doPrepare(boolean,com.arjuna.ats.arjuna.coordinator.AbstractRecord)">doPrepare</a></span>&#8203;(boolean&nbsp;reportHeuristics,
         <a href="AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;record)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#End(boolean)">End</a></span>&#8203;(boolean&nbsp;reportHeuristics)</code></th>
<td class="colLast">
<div class="block">End the atomic action by committing it.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#equals(java.lang.Object)">equals</a></span>&#8203;(java.lang.Object&nbsp;obj)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#finalizeInternal()">finalizeInternal</a></span>()</code></th>
<td class="colLast">
<div class="block">BasicAction destructor.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#forgetHeuristics()">forgetHeuristics</a></span>()</code></th>
<td class="colLast">
<div class="block">Forget any heuristics we may have received, and tell the resources which
 generated them to forget too.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.Throwable&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDeferredThrowables()">getDeferredThrowables</a></span>()</code></th>
<td class="colLast">
<div class="block">Get any Throwable that was caught during commit processing but not directly rethrown.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getHeuristicDecision()">getHeuristicDecision</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code><a href="ActionHierarchy.html" title="class in com.arjuna.ats.arjuna.coordinator">ActionHierarchy</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getHierarchy()">getHierarchy</a></span>()</code></th>
<td class="colLast">
<div class="block">Return the action hierarchy for this transaction.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code><a href="../common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSavingUid()">getSavingUid</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code><a href="../objectstore/ParticipantStore.html" title="interface in com.arjuna.ats.arjuna.objectstore">ParticipantStore</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getStore()">getStore</a></span>()</code></th>
<td class="colLast">
<div class="block">Set up an object store and assign it to the participantStore variable.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hashCode()">hashCode</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hierarchyDepth()">hierarchyDepth</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>protected <a href="AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#insertRecord(com.arjuna.ats.arjuna.coordinator.RecordList,com.arjuna.ats.arjuna.coordinator.AbstractRecord)">insertRecord</a></span>&#8203;(<a href="RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a>&nbsp;reclist,
            <a href="AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;record)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isAncestor(com.arjuna.ats.arjuna.common.Uid)">isAncestor</a></span>&#8203;(<a href="../common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;ancestor)</code></th>
<td class="colLast">
<div class="block">boolean function that checks whether the Uid passed as an argument is the
 Uid for an ancestor of the current atomic action.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#maintainHeuristics()">maintainHeuristics</a></span>()</code></th>
<td class="colLast">
<div class="block">If heuristic outcomes are returned, by default we will not save the state
 once the forget method has been called on them (which happens as soon as
 we have received all outcomes from registered resources).</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onePhaseCommit(boolean)">onePhaseCommit</a></span>&#8203;(boolean&nbsp;reportHeuristics)</code></th>
<td class="colLast">
<div class="block">There is only one record on the intentions list.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onePhaseCommit(boolean,boolean)">onePhaseCommit</a></span>&#8203;(boolean&nbsp;reportHeuristics,
              boolean&nbsp;permitReportStatistics)</code></th>
<td class="colLast">
<div class="block">See <a href="#onePhaseCommit(boolean)"><code>onePhaseCommit(boolean)</code></a>

 This method may be called during 2PC prepare when the first resource returns read-only.</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#outputCapturedStackTraces()">outputCapturedStackTraces</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code><a href="BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#parent()">parent</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#phase2Abort(boolean)">phase2Abort</a></span>&#8203;(boolean&nbsp;reportHeuristics)</code></th>
<td class="colLast">
<div class="block">Second phase of the two phase commit protocol for aborting actions.</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#phase2Cleanup()">phase2Cleanup</a></span>()</code></th>
<td class="colLast">
<div class="block">Cleanup phase for actions.</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#phase2Commit(boolean)">phase2Commit</a></span>&#8203;(boolean&nbsp;reportHeuristics)</code></th>
<td class="colLast">
<div class="block">Second phase of the two-phase commit protocol for committing actions.</div>
</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#prepare(boolean)">prepare</a></span>&#8203;(boolean&nbsp;reportHeuristics)</code></th>
<td class="colLast">
<div class="block">Phase one of a two phase commit protocol.</div>
</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#preparedStatus()">preparedStatus</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#preventCommit()">preventCommit</a></span>()</code></th>
<td class="colLast">
<div class="block">Force the only outcome for the transaction to be to rollback.</div>
</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#recordStackTraces()">recordStackTraces</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeChildAction(com.arjuna.ats.arjuna.coordinator.BasicAction)">removeChildAction</a></span>&#8203;(<a href="BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;act)</code></th>
<td class="colLast">
<div class="block">Remove a child action.</div>
</td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeChildThread()">removeChildThread</a></span>()</code></th>
<td class="colLast">
<div class="block">Remove a child thread.</div>
</td>
</tr>
<tr id="i54" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeChildThread(java.lang.String)">removeChildThread</a></span>&#8203;(java.lang.String&nbsp;threadId)</code></th>
<td class="colLast">
<div class="block">Remove the specified thread from the transaction.</div>
</td>
</tr>
<tr id="i55" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#restore_state(com.arjuna.ats.arjuna.state.InputObjectState,int)">restore_state</a></span>&#8203;(<a href="../state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;os,
             int&nbsp;ot)</code></th>
<td class="colLast">
<div class="block">This assumes the various lists are zero length when it is called.</div>
</td>
</tr>
<tr id="i56" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#save_state(com.arjuna.ats.arjuna.state.OutputObjectState,int)">save_state</a></span>&#8203;(<a href="../state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;os,
          int&nbsp;ot)</code></th>
<td class="colLast">
<div class="block">Redefined version of save_state and restore_state from StateManager.</div>
</td>
</tr>
<tr id="i57" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setCheckedAction(com.arjuna.ats.arjuna.coordinator.CheckedAction)">setCheckedAction</a></span>&#8203;(<a href="CheckedAction.html" title="class in com.arjuna.ats.arjuna.coordinator">CheckedAction</a>&nbsp;c)</code></th>
<td class="colLast">
<div class="block">Add the specified CheckedAction object to this transaction.</div>
</td>
</tr>
<tr id="i58" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setHeuristicDecision(int)">setHeuristicDecision</a></span>&#8203;(int&nbsp;p)</code></th>
<td class="colLast">
<div class="block">WARNING: use with extreme care!</div>
</td>
</tr>
<tr id="i59" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#status()">status</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i60" class="altColor">
<td class="colFirst"><code><a href="BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#topLevelAction()">topLevelAction</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i61" class="rowColor">
<td class="colFirst"><code><a href="../common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#topLevelActionUid()">topLevelActionUid</a></span>()</code></th>
<td class="colLast">
<div class="block">The following function returns the Uid of the top-level atomic action.</div>
</td>
</tr>
<tr id="i62" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#toString()">toString</a></span>()</code></th>
<td class="colLast">
<div class="block">Overloads Object.toString()</div>
</td>
</tr>
<tr id="i63" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#type()">type</a></span>()</code></th>
<td class="colLast">
<div class="block">Overloads StateManager.type()</div>
</td>
</tr>
<tr id="i64" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#typeOfAction()">typeOfAction</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i65" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateHeuristic(int,boolean)">updateHeuristic</a></span>&#8203;(int&nbsp;p,
               boolean&nbsp;commit)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i66" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateState()">updateState</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.arjuna.ats.arjuna.StateManager">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.arjuna.ats.arjuna.<a href="../StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></h3>
<code><a href="../StateManager.html#cleanup(boolean)">cleanup</a>, <a href="../StateManager.html#createLists()">createLists</a>, <a href="../StateManager.html#deactivate(java.lang.String)">deactivate</a>, <a href="../StateManager.html#deactivate(java.lang.String,boolean)">deactivate</a>, <a href="../StateManager.html#disable()">disable</a>, <a href="../StateManager.html#forgetAction(com.arjuna.ats.arjuna.coordinator.BasicAction,boolean,int)">forgetAction</a>, <a href="../StateManager.html#get_uid()">get_uid</a>, <a href="../StateManager.html#getMutex()">getMutex</a>, <a href="../StateManager.html#getObjectModel()">getObjectModel</a>, <a href="../StateManager.html#getStoreRoot()">getStoreRoot</a>, <a href="../StateManager.html#loadObjectState()">loadObjectState</a>, <a href="../StateManager.html#lockMutex()">lockMutex</a>, <a href="../StateManager.html#modified()">modified</a>, <a href="../StateManager.html#objectType()">objectType</a>, <a href="../StateManager.html#packHeader(com.arjuna.ats.arjuna.state.OutputObjectState,com.arjuna.ats.internal.arjuna.Header)">packHeader</a>, <a href="../StateManager.html#persist()">persist</a>, <a href="../StateManager.html#print(java.io.PrintWriter)">print</a>, <a href="../StateManager.html#rememberAction(com.arjuna.ats.arjuna.coordinator.BasicAction,int,int)">rememberAction</a>, <a href="../StateManager.html#setStatus(int)">setStatus</a>, <a href="../StateManager.html#setupStore()">setupStore</a>, <a href="../StateManager.html#setupStore(java.lang.String)">setupStore</a>, <a href="../StateManager.html#setupStore(java.lang.String,java.lang.String)">setupStore</a>, <a href="../StateManager.html#terminate()">terminate</a>, <a href="../StateManager.html#tryLockMutex()">tryLockMutex</a>, <a href="../StateManager.html#unlockMutex()">unlockMutex</a>, <a href="../StateManager.html#unpackHeader(com.arjuna.ats.arjuna.state.InputObjectState,com.arjuna.ats.internal.arjuna.Header)">unpackHeader</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, finalize, getClass, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="pendingList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pendingList</h4>
<pre>protected&nbsp;<a href="RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a> pendingList</pre>
</li>
</ul>
<a id="preparedList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preparedList</h4>
<pre>protected&nbsp;<a href="RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a> preparedList</pre>
</li>
</ul>
<a id="readonlyList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readonlyList</h4>
<pre>protected&nbsp;<a href="RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a> readonlyList</pre>
</li>
</ul>
<a id="failedList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failedList</h4>
<pre>protected&nbsp;<a href="RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a> failedList</pre>
</li>
</ul>
<a id="heuristicList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>heuristicList</h4>
<pre>protected&nbsp;<a href="RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a> heuristicList</pre>
</li>
</ul>
<a id="savedIntentionList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>savedIntentionList</h4>
<pre>protected&nbsp;boolean savedIntentionList</pre>
</li>
</ul>
<a id="subordinate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subordinate</h4>
<pre>protected&nbsp;boolean subordinate</pre>
</li>
</ul>
<a id="threadStackTraceHistoryList">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>threadStackTraceHistoryList</h4>
<pre>protected final&nbsp;java.util.List&lt;com.arjuna.ats.arjuna.coordinator.StackTraceCapture&gt; threadStackTraceHistoryList</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BasicAction</h4>
<pre>public&nbsp;BasicAction()</pre>
</li>
</ul>
<a id="&lt;init&gt;(com.arjuna.ats.arjuna.common.Uid)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BasicAction</h4>
<pre>public&nbsp;BasicAction&#8203;(<a href="../common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid)</pre>
<div class="block">BasicAction constructor with a Uid. This constructor is for recreating an
 BasicAction, typically during crash recovery.</div>
</li>
</ul>
<a id="&lt;init&gt;(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BasicAction</h4>
<pre>protected&nbsp;BasicAction&#8203;(int&nbsp;at)</pre>
<div class="block">Create a transaction of the specified type.</div>
</li>
</ul>
<a id="&lt;init&gt;(com.arjuna.ats.arjuna.common.Uid,int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BasicAction</h4>
<pre>protected&nbsp;BasicAction&#8203;(<a href="../common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;u,
                      int&nbsp;at)</pre>
<div class="block">Recreate the specified transaction. Used for crash recovery purposes.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="finalizeInternal()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalizeInternal</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;finalizeInternal()</pre>
<div class="block">BasicAction destructor. Under normal circumstances we do very little.
 However there exists the possibility that this action is being deleted
 while still running (user forgot to commit/abort) - in which case we do
 an abort for him and mark all our parents as unable to commit.
 Additionally due to scoping we may not be the current action - but in
 that case the current action must be one of our nested actions so by
 applying abort to it we should end up at ourselves!</div>
</li>
</ul>
<a id="getHierarchy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHierarchy</h4>
<pre class="methodSignature">public final&nbsp;<a href="ActionHierarchy.html" title="class in com.arjuna.ats.arjuna.coordinator">ActionHierarchy</a>&nbsp;getHierarchy()</pre>
<div class="block">Return the action hierarchy for this transaction.</div>
</li>
</ul>
<a id="preventCommit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preventCommit</h4>
<pre class="methodSignature">public final&nbsp;boolean&nbsp;preventCommit()</pre>
<div class="block">Force the only outcome for the transaction to be to rollback. Only
 possible if this transaction has not (or is not) terminated.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if successful, <code>false</code>
         otherwise.</dd>
</dl>
</li>
</ul>
<a id="activeThreads()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activeThreads</h4>
<pre class="methodSignature">public final&nbsp;int&nbsp;activeThreads()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of threads associated with this transaction.</dd>
</dl>
</li>
</ul>
<a id="add(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre class="methodSignature">public final&nbsp;int&nbsp;add&#8203;(<a href="AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;A)</pre>
<div class="block">Add a record to the atomic action. This function returns AR_ADDED if the
 record is added. AR_REJECTED if the record cannot be added because the
 action is past the prepare phase, and IGNORED otherwise.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>AddOutcome</code> indicating outcome.</dd>
</dl>
</li>
</ul>
<a id="hierarchyDepth()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hierarchyDepth</h4>
<pre class="methodSignature">public final&nbsp;int&nbsp;hierarchyDepth()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the depth of the current transaction hierarchy.</dd>
</dl>
</li>
</ul>
<a id="isAncestor(com.arjuna.ats.arjuna.common.Uid)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAncestor</h4>
<pre class="methodSignature">public final&nbsp;boolean&nbsp;isAncestor&#8203;(<a href="../common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;ancestor)</pre>
<div class="block">boolean function that checks whether the Uid passed as an argument is the
 Uid for an ancestor of the current atomic action.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the parameter represents an ancestor,
         <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a id="parent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parent</h4>
<pre class="methodSignature">public final&nbsp;<a href="BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;parent()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a reference to the parent BasicAction</dd>
</dl>
</li>
</ul>
<a id="typeOfAction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>typeOfAction</h4>
<pre class="methodSignature">public final&nbsp;int&nbsp;typeOfAction()</pre>
</li>
</ul>
<a id="status()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>status</h4>
<pre class="methodSignature">public final&nbsp;int&nbsp;status()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../StateManager.html#status()">status</a></code>&nbsp;in class&nbsp;<code><a href="../StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the status of the BasicAction</dd>
</dl>
</li>
</ul>
<a id="getStore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStore</h4>
<pre class="methodSignature">public&nbsp;<a href="../objectstore/ParticipantStore.html" title="interface in com.arjuna.ats.arjuna.objectstore">ParticipantStore</a>&nbsp;getStore()</pre>
<div class="block">Set up an object store and assign it to the participantStore variable.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../StateManager.html#getStore()">getStore</a></code>&nbsp;in class&nbsp;<code><a href="../StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the object store implementation to use.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../objectstore/ObjectStore.html" title="class in com.arjuna.ats.arjuna.objectstore"><code>ObjectStore</code></a></dd>
</dl>
</li>
</ul>
<a id="topLevelActionUid()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>topLevelActionUid</h4>
<pre class="methodSignature">public final&nbsp;<a href="../common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;topLevelActionUid()</pre>
<div class="block">The following function returns the Uid of the top-level atomic action. If
 this is the top-level transaction then it is equivalent to calling
 get_uid().</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the top-level transaction's <code>Uid</code>.</dd>
</dl>
</li>
</ul>
<a id="topLevelAction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>topLevelAction</h4>
<pre class="methodSignature">public final&nbsp;<a href="BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;topLevelAction()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a reference to the top-level transaction. If this is the
         top-level transaction then a reference to itself will be
         returned.</dd>
</dl>
</li>
</ul>
<a id="activate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activate</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;activate()</pre>
<div class="block">Overloaded version of activate -- sets up the store, performs read_state
 followed by restore_state. The store root is <code>null</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../StateManager.html#activate()">activate</a></code>&nbsp;in class&nbsp;<code><a href="../StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if successful, <code>false</code>
         otherwise.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../objectstore/ObjectStore.html" title="class in com.arjuna.ats.arjuna.objectstore"><code>ObjectStore</code></a></dd>
</dl>
</li>
</ul>
<a id="activate(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activate</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;activate&#8203;(java.lang.String&nbsp;root)</pre>
<div class="block">Overloaded version of activate -- sets up the store, performs read_state
 followed by restore_state. The root of the object store to use is
 specified in the <code>root</code> parameter.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../StateManager.html#activate(java.lang.String)">activate</a></code>&nbsp;in class&nbsp;<code><a href="../StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if successful, <code>false</code>
         otherwise.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../objectstore/ObjectStore.html" title="class in com.arjuna.ats.arjuna.objectstore"><code>ObjectStore</code></a></dd>
</dl>
</li>
</ul>
<a id="deactivate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deactivate</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;deactivate()</pre>
<div class="block">This operation deactivates a persistent object. It behaves in a similar
 manner to the activate operation, but has an extra argument which defines
 whether the object's state should be committed or written as a shadow.

 The root of the object store is <code>null</code>. It is assumed that
 this is being called during a transaction commit.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../StateManager.html#deactivate()">deactivate</a></code>&nbsp;in class&nbsp;<code><a href="../StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> on success, <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a id="addChildThread()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addChildThread</h4>
<pre class="methodSignature">public final&nbsp;boolean&nbsp;addChildThread()</pre>
<div class="block">Add the current thread to the list of threads associated with this
 transaction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if successful, <code>false</code>
         otherwise.</dd>
</dl>
</li>
</ul>
<a id="addChildThread(java.lang.Thread)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addChildThread</h4>
<pre class="methodSignature">public final&nbsp;boolean&nbsp;addChildThread&#8203;(java.lang.Thread&nbsp;t)</pre>
<div class="block">Add the specified thread to the list of threads associated with this
 transaction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if successful, <code>false</code>
         otherwise.</dd>
</dl>
</li>
</ul>
<a id="removeChildThread()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeChildThread</h4>
<pre class="methodSignature">public final&nbsp;boolean&nbsp;removeChildThread()</pre>
<div class="block">Remove a child thread. The current thread is removed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if successful, <code>false</code>
         otherwise.</dd>
</dl>
</li>
</ul>
<a id="removeChildThread(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeChildThread</h4>
<pre class="methodSignature">public final&nbsp;boolean&nbsp;removeChildThread&#8203;(java.lang.String&nbsp;threadId)</pre>
<div class="block">Remove the specified thread from the transaction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if successful, <code>false</code>
         otherwise.</dd>
</dl>
</li>
</ul>
<a id="addChildAction(com.arjuna.ats.arjuna.coordinator.BasicAction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addChildAction</h4>
<pre class="methodSignature">public final&nbsp;boolean&nbsp;addChildAction&#8203;(<a href="BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;act)</pre>
<div class="block">Add a new child action to the atomic action.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if successful, <code>false</code>
         otherwise.</dd>
</dl>
</li>
</ul>
<a id="save_state(com.arjuna.ats.arjuna.state.OutputObjectState,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>save_state</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;save_state&#8203;(<a href="../state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;os,
                          int&nbsp;ot)</pre>
<div class="block">Redefined version of save_state and restore_state from StateManager.

 Normal operation (no crashes):

 BasicAction.save_state is called after a successful prepare. This causes
 and BasicAction object to be saved in the object store. This object
 contains primarily the "intentions list" of the BasicAction. After
 successfully completing phase 2 of the commit protocol, the BasicAction
 object is deleted from the store.

 Failure cases:

 If a server crashes after successfully preparing, then upon recovery the
 action must be resolved (either committed or aborted) depending upon
 whether the co-ordinating atomic action committed or aborted. Upon server
 recovery, the crash recovery mechanism detects ServerBasicAction objects
 in the object store and attempts to activate the BasicAction object of
 the co-ordinating action. If this is successful then the SAA is committed
 else aborted.

 If, when processing phase 2 of the commit protocol, the co-ordinator
 experiences a failure to commit from one of the records then the
 BasicAction object is NOT deleted. It is rewritten when a new state which
 contains a list of the records that failed during phase 2 commit. This
 list is called the "failedList".

 The crash recovery manager will detect local BasicAction objects in
 addition to SAA objects in the objectstore. An attempt will be made to
 commit these actions. If the action contained a call to a now dead
 server, this action can never be resolved and the AA object can never be
 removed. However, if the action is purely local then after the processing
 is complete the removed by crash recovery.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../StateManager.html#save_state(com.arjuna.ats.arjuna.state.OutputObjectState,int)">save_state</a></code>&nbsp;in class&nbsp;<code><a href="../StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if successful, <code>false</code>
         otherwise.</dd>
</dl>
</li>
</ul>
<a id="removeChildAction(com.arjuna.ats.arjuna.coordinator.BasicAction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeChildAction</h4>
<pre class="methodSignature">public final&nbsp;boolean&nbsp;removeChildAction&#8203;(<a href="BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;act)</pre>
<div class="block">Remove a child action.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if successful, <code>false</code>
         otherwise.</dd>
</dl>
</li>
</ul>
<a id="setCheckedAction(com.arjuna.ats.arjuna.coordinator.CheckedAction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCheckedAction</h4>
<pre class="methodSignature">protected final&nbsp;void&nbsp;setCheckedAction&#8203;(<a href="CheckedAction.html" title="class in com.arjuna.ats.arjuna.coordinator">CheckedAction</a>&nbsp;c)</pre>
<div class="block">Add the specified CheckedAction object to this transaction.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="CheckedAction.html" title="class in com.arjuna.ats.arjuna.coordinator"><code>CheckedAction</code></a></dd>
</dl>
</li>
</ul>
<a id="getSavingUid()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSavingUid</h4>
<pre class="methodSignature">public&nbsp;<a href="../common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;getSavingUid()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Uid that the transaction's intentions list will be saved
         under.</dd>
</dl>
</li>
</ul>
<a id="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">Overloads Object.toString()</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a id="restore_state(com.arjuna.ats.arjuna.state.InputObjectState,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restore_state</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;restore_state&#8203;(<a href="../state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;os,
                             int&nbsp;ot)</pre>
<div class="block">This assumes the various lists are zero length when it is called.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../StateManager.html#restore_state(com.arjuna.ats.arjuna.state.InputObjectState,int)">restore_state</a></code>&nbsp;in class&nbsp;<code><a href="../StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if successful, <code>false</code>
         otherwise.</dd>
</dl>
</li>
</ul>
<a id="type()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>type</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;type()</pre>
<div class="block">Overloads StateManager.type()</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../StateManager.html#type()">type</a></code>&nbsp;in class&nbsp;<code><a href="../StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd>
</dl>
</li>
</ul>
<a id="Current()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Current</h4>
<pre class="methodSignature">public static&nbsp;<a href="BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;Current()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the thread's notion of the current transaction.</dd>
</dl>
</li>
</ul>
<a id="maintainHeuristics()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maintainHeuristics</h4>
<pre class="methodSignature">public static&nbsp;boolean&nbsp;maintainHeuristics()</pre>
<div class="block">If heuristic outcomes are returned, by default we will not save the state
 once the forget method has been called on them (which happens as soon as
 we have received all outcomes from registered resources). By specifying
 otherwise, we will always maintain the heuristic information, which may
 prove useful for logging and off-line resolution.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the transaction should save its heuristic
         information, <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a id="destroy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;destroy()</pre>
<div class="block">Overloads <code>StateManager.destroy</code> to prevent destroy being
 called on a BasicAction. Could be a *very* bad idea!!</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../StateManager.html#destroy()">destroy</a></code>&nbsp;in class&nbsp;<code><a href="../StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>false</code>.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../StateManager.html" title="class in com.arjuna.ats.arjuna"><code>StateManager</code></a></dd>
</dl>
</li>
</ul>
<a id="childTransactions()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>childTransactions</h4>
<pre class="methodSignature">public final&nbsp;java.lang.Object[]&nbsp;childTransactions()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the list of child transactions. Currently only their ids are
         given.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>JTS 2.2.</dd>
</dl>
</li>
</ul>
<a id="getDeferredThrowables()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDeferredThrowables</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;java.lang.Throwable&gt;&nbsp;getDeferredThrowables()</pre>
<div class="block">Get any Throwable that was caught during commit processing but not directly rethrown.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of ThrowableS, if any</dd>
</dl>
</li>
</ul>
<a id="equals(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equals</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;equals&#8203;(java.lang.Object&nbsp;obj)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>equals</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a id="hashCode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashCode</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;hashCode()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>hashCode</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a id="forgetHeuristics()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forgetHeuristics</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;forgetHeuristics()</pre>
<div class="block">Forget any heuristics we may have received, and tell the resources which
 generated them to forget too.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if heuristic information (if any) was
         successfully forgotten, <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a id="Begin(com.arjuna.ats.arjuna.coordinator.BasicAction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Begin</h4>
<pre class="methodSignature">protected&nbsp;int&nbsp;Begin&#8203;(<a href="BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;parentAct)</pre>
<div class="block">Atomic action Begin operation. Does not change the calling thread's
 notion of the current transaction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>ActionStatus</code> indicating outcome.</dd>
</dl>
</li>
</ul>
<a id="End(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>End</h4>
<pre class="methodSignature">protected&nbsp;int&nbsp;End&#8203;(boolean&nbsp;reportHeuristics)</pre>
<div class="block">End the atomic action by committing it. This invokes the prepare()
 operation. If this succeeds then the pendingList should be empty and the
 records that were formally on it will have been distributed between the
 preparedList and the readonlyList, also if the action is topLevel then
 the intention list will have been written to the object store. Then
 invoke phase2Commit and clean up the object store if necessary

 If prepare() fails invoke phase2Abort. In this case the pendingList may
 still contain records but phase2Abort takes care of these. Also in this
 case no intention list has been written.

 Does not change the calling thread's notion of the current transaction.

 Any heuristic outcomes will only be reported if the parameter is
 <code>true</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>ActionStatus</code> indicating outcome.</dd>
</dl>
</li>
</ul>
<a id="Abort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Abort</h4>
<pre class="methodSignature">protected&nbsp;int&nbsp;Abort()</pre>
<div class="block">This is the user callable abort operation. It is invoked prior to the
 start of two-phase commit and hence only processes records in the
 pendingList (the other lists should be empty).

 Does not change the calling thread's notion of the current transaction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>ActionStatus</code> indicating outcome.</dd>
</dl>
</li>
</ul>
<a id="Abort(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Abort</h4>
<pre class="methodSignature">protected&nbsp;int&nbsp;Abort&#8203;(boolean&nbsp;applicationAbort)</pre>
<div class="block">This is the user callable abort operation. It is invoked prior to the
 start of two-phase commit and hence only processes records in the
 pendingList (the other lists should be empty).

 Does not change the calling thread's notion of the current transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>applicationAbort</code> - indicates whether or not this is an application abort</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>ActionStatus</code> indicating outcome.</dd>
</dl>
</li>
</ul>
<a id="criticalStart()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>criticalStart</h4>
<pre class="methodSignature">protected final&nbsp;void&nbsp;criticalStart()</pre>
<div class="block">Defines the start of a critical region by setting the critical flag. If
 the signal handler is called the class variable abortAndExit is set. The
 value of this variable is checked in the corresponding operation to end
 the critical region.</div>
</li>
</ul>
<a id="criticalEnd()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>criticalEnd</h4>
<pre class="methodSignature">protected final&nbsp;void&nbsp;criticalEnd()</pre>
<div class="block">Defines the end of a critical region by resetting the critical flag. If
 the signal handler is called the class variable abortAndExit is set. The
 value of this variable is checked when ending the critical region.</div>
</li>
</ul>
<a id="phase2Cleanup()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>phase2Cleanup</h4>
<pre class="methodSignature">protected final&nbsp;void&nbsp;phase2Cleanup()</pre>
<div class="block">Cleanup phase for actions. If an action is in the PREPARED state when a
 terminate signal is delivered (ie the coordinator node has crashed) then
 we need to cleanup. This is essentially the same as phase2Abort but we
 call cleanup ops rather than abort ops and let the records take care of
 appropriate cleanup.

 The pendingList is processed because it may not be empty - since
 prepare() stops processing the list at the first PREPARE_NOTOK result.

 The read_only list is processed to ensure that actions are aborted
 immediately and any servers killed at that point since they need not hang
 around. This contrasts with commit where readonlyList entries are simply
 merged with the parent list or discarded</div>
</li>
</ul>
<a id="phase2Commit(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>phase2Commit</h4>
<pre class="methodSignature">protected final&nbsp;void&nbsp;phase2Commit&#8203;(boolean&nbsp;reportHeuristics)
                           throws java.lang.Error</pre>
<div class="block">Second phase of the two-phase commit protocol for committing actions.
 Phase 2 should only be called if phase 1 has completed successfully.
 This operation first invokes the doCommit operation on the preparedList.
 This ensures that the appropriate commit operation is performed on each
 entry which is then either deleted (top_level) or merged into the
 parent's pendingList.

 Processing of the readonlyList is different in that if the action is
 top_level then all records in the readonlyList are deleted without
 further processing. If nested the records must be merged. This is an
 optimisation to avoid unnecessary processing.

 Note that at this point the pendingList SHOULD be empty due to the prior
 invocation of prepare().</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Error</code> - JBTM-895 tests, byteman limitation</dd>
</dl>
</li>
</ul>
<a id="phase2Abort(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>phase2Abort</h4>
<pre class="methodSignature">protected final&nbsp;void&nbsp;phase2Abort&#8203;(boolean&nbsp;reportHeuristics)</pre>
<div class="block">Second phase of the two phase commit protocol for aborting actions.
 Actions are aborted by invoking the doAbort operation on the
 preparedList, the readonlyList, and the pendingList.

 The pendingList is processed because it may not be empty - since
 prepare() stops processing the list at the first PREPARE_NOTOK result.

 By default, records that responsed PREPARE_READONLY will not be contacted
 during second-phase abort, just as they are not during second-phase
 commit. This can be overridden at runtime using the READONLY_OPTIMISATION
 variable.</div>
</li>
</ul>
<a id="async_prepare(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>async_prepare</h4>
<pre class="methodSignature">protected&nbsp;int&nbsp;async_prepare&#8203;(boolean&nbsp;reportHeuristics)</pre>
</li>
</ul>
<a id="prepare(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepare</h4>
<pre class="methodSignature">protected final&nbsp;int&nbsp;prepare&#8203;(boolean&nbsp;reportHeuristics)</pre>
<div class="block">Phase one of a two phase commit protocol. This function returns the
 ouctome of the prepare operation. If all goes well it will be PREPARE_OK,
 if not PREPARE_NOTOK. The value PREPARE_READONLY may also be returned if
 all the records indicate that they are readonly records. Such records do
 not take part in the second phase commit processing.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>TwoPhaseOutcome</code> indicating outcome. Note that if
 1PC optimisation is enabled then it is possible for prepare to dynamically
 optimise and commit if the first N-1 participants return read-only, causing the
 protcol to commit the last participant rather than go through prepare.</dd>
</dl>
</li>
</ul>
<a id="onePhaseCommit(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onePhaseCommit</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;onePhaseCommit&#8203;(boolean&nbsp;reportHeuristics)</pre>
<div class="block">There is only one record on the intentions list. Only called from
 synchronized methods. Don't bother about creating separate threads here!</div>
</li>
</ul>
<a id="onePhaseCommit(boolean,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onePhaseCommit</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;onePhaseCommit&#8203;(boolean&nbsp;reportHeuristics,
                              boolean&nbsp;permitReportStatistics)</pre>
<div class="block">See <a href="#onePhaseCommit(boolean)"><code>onePhaseCommit(boolean)</code></a>

 This method may be called during 2PC prepare when the first resource returns read-only.</div>
</li>
</ul>
<a id="getHeuristicDecision()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHeuristicDecision</h4>
<pre class="methodSignature">protected final&nbsp;int&nbsp;getHeuristicDecision()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current heuristic decision. Each time a heuristic outcome is
         received, we need to merge it with any previous outcome to
         determine what the overall heuristic decision is (e.g., a
         heuristic rollback followed by a heuristic commit means the
         overall decision is heuristic mixed.)</dd>
</dl>
</li>
</ul>
<a id="setHeuristicDecision(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setHeuristicDecision</h4>
<pre class="methodSignature">protected final&nbsp;void&nbsp;setHeuristicDecision&#8203;(int&nbsp;p)</pre>
<div class="block">WARNING: use with extreme care!</div>
</li>
</ul>
<a id="addRecord(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addRecord</h4>
<pre class="methodSignature">protected final&nbsp;void&nbsp;addRecord&#8203;(<a href="AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;A)</pre>
<div class="block">Add the specified abstract record to the transaction. Does not do any of
 the runtime checking of BasicAction.add, so should be used with care.
 Currently used by crash recovery.</div>
</li>
</ul>
<a id="preparedStatus()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preparedStatus</h4>
<pre class="methodSignature">protected&nbsp;int&nbsp;preparedStatus()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the transaction's prepared status.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>JTS 2.0.</dd>
</dl>
</li>
</ul>
<a id="abortStatus()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortStatus</h4>
<pre class="methodSignature">protected&nbsp;int&nbsp;abortStatus()</pre>
</li>
</ul>
<a id="commitStatus()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitStatus</h4>
<pre class="methodSignature">protected&nbsp;int&nbsp;commitStatus()</pre>
</li>
</ul>
<a id="doPrepare(boolean,com.arjuna.ats.arjuna.coordinator.AbstractRecord)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doPrepare</h4>
<pre class="methodSignature">protected&nbsp;int&nbsp;doPrepare&#8203;(boolean&nbsp;reportHeuristics,
                        <a href="AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;record)</pre>
</li>
</ul>
<a id="doCommit(com.arjuna.ats.arjuna.coordinator.RecordList,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doCommit</h4>
<pre class="methodSignature">protected&nbsp;int&nbsp;doCommit&#8203;(<a href="RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a>&nbsp;rl,
                       boolean&nbsp;reportHeuristics)</pre>
<div class="block">Walk down a record list extracting records and calling the appropriate
 commit function. Discard or merge records as appropriate</div>
</li>
</ul>
<a id="doCommit(boolean,com.arjuna.ats.arjuna.coordinator.AbstractRecord)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doCommit</h4>
<pre class="methodSignature">protected&nbsp;int&nbsp;doCommit&#8203;(boolean&nbsp;reportHeuristics,
                       <a href="AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;record)</pre>
</li>
</ul>
<a id="doAbort(com.arjuna.ats.arjuna.coordinator.RecordList,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doAbort</h4>
<pre class="methodSignature">protected&nbsp;int&nbsp;doAbort&#8203;(<a href="RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a>&nbsp;list_toprocess,
                      boolean&nbsp;reportHeuristics)</pre>
</li>
</ul>
<a id="doAbort(boolean,com.arjuna.ats.arjuna.coordinator.AbstractRecord)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doAbort</h4>
<pre class="methodSignature">protected&nbsp;int&nbsp;doAbort&#8203;(boolean&nbsp;reportHeuristics,
                      <a href="AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;record)</pre>
</li>
</ul>
<a id="insertRecord(com.arjuna.ats.arjuna.coordinator.RecordList,com.arjuna.ats.arjuna.coordinator.AbstractRecord)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertRecord</h4>
<pre class="methodSignature">protected&nbsp;<a href="AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;insertRecord&#8203;(<a href="RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a>&nbsp;reclist,
                                      <a href="AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;record)</pre>
</li>
</ul>
<a id="checkForCurrent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkForCurrent</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;checkForCurrent()</pre>
<div class="block">Do we want to check that a transaction can only be terminated by a thread
 that has it as its current transaction? The base class has this check
 enabled (i.e., we check), but some implementations may wish to override
 this.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>false</code> to disable checking.</dd>
</dl>
</li>
</ul>
<a id="updateHeuristic(int,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateHeuristic</h4>
<pre class="methodSignature">protected final&nbsp;void&nbsp;updateHeuristic&#8203;(int&nbsp;p,
                                     boolean&nbsp;commit)</pre>
</li>
</ul>
<a id="updateState()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateState</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;updateState()</pre>
</li>
</ul>
<a id="recordStackTraces()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordStackTraces</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;recordStackTraces()</pre>
</li>
</ul>
<a id="outputCapturedStackTraces()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>outputCapturedStackTraces</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;outputCapturedStackTraces()</pre>
</li>
</ul>
<a id="createStackTraces()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>createStackTraces</h4>
<pre class="methodSignature">protected&nbsp;java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;createStackTraces()</pre>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BasicAction.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Narayana: narayana-full 6.0.0.Final</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2023 <a href="http://www.jboss.org">JBoss by Red Hat</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
