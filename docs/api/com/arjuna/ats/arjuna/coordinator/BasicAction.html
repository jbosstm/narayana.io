<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html" charset="UTF-8"> <title>BasicAction (Narayana: narayana-full 5.0.4.Final-SNAPSHOT API)</title> <meta name="date" content="2014-11-19"> <link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style"> </head> <body> <script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BasicAction (Narayana: narayana-full 5.0.4.Final-SNAPSHOT API)";
    }
//-->
</script> <noscript> <div>JavaScript is disabled on your browser.</div> </noscript> <div class="topNav"><a name="navbar_top"> </a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow"> </a> <ul class="navList" title="Navigation"> <li><a href="../../../../../overview-summary.html">Overview</a></li> <li><a href="package-summary.html">Package</a></li> <li class="navBarCell1Rev">Class</li> <li><a href="class-use/BasicAction.html">Use</a></li> <li><a href="package-tree.html">Tree</a></li> <li><a href="../../../../../deprecated-list.html">Deprecated</a></li> <li><a href="../../../../../index-all.html">Index</a></li> <li><a href="../../../../../help-doc.html">Help</a></li> </ul> <div class="aboutLanguage"><em><b>Narayana: narayana-full 5.0.4.Final-SNAPSHOT</b></em></div> </div> <div class="subNav"> <ul class="navList"> <li><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AsyncBeforeSynchronization.html" title="class in com.arjuna.ats.arjuna.coordinator"><span class="strong">Prev Class</span></a></li> <li><a href="../../../../../com/arjuna/ats/arjuna/coordinator/CheckedAction.html" title="class in com.arjuna.ats.arjuna.coordinator"><span class="strong">Next Class</span></a></li> </ul> <ul class="navList"> <li><a href="../../../../../index.html?com/arjuna/ats/arjuna/coordinator/BasicAction.html" target="_top">Frames</a></li> <li><a href="BasicAction.html" target="_top">No Frames</a></li> </ul> <ul class="navList" id="allclasses_navbar_top"> <li><a href="../../../../../allclasses-noframe.html">All Classes</a></li> </ul> <div> <script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script> </div> <div> <ul class="subNavList"> <li>Summary:&nbsp;</li> <li>Nested&nbsp;|&nbsp;</li> <li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li> <li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method_summary">Method</a></li> </ul> <ul class="subNavList"> <li>Detail:&nbsp;</li> <li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li> <li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method_detail">Method</a></li> </ul> </div> <a name="skip-navbar_top"> </a></div> <div class="header"> <div class="subTitle">com.arjuna.ats.arjuna.coordinator</div> <h2 title="Class BasicAction" class="title">Class BasicAction</h2> </div> <div class="contentContainer"> <ul class="inheritance"> <li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li> <li> <ul class="inheritance"> <li><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">com.arjuna.ats.arjuna.StateManager</a></li> <li> <ul class="inheritance"> <li>com.arjuna.ats.arjuna.coordinator.BasicAction</li> </ul> </li> </ul> </li> </ul> <div class="description"> <ul class="blockList"> <li class="blockList"> <dl> <dt>Direct Known Subclasses:</dt> <dd><a href="../../../../../com/arjuna/ats/arjuna/coordinator/TwoPhaseCoordinator.html" title="class in com.arjuna.ats.arjuna.coordinator">TwoPhaseCoordinator</a></dd> </dl> <hr> <br> <pre>public class <span class="strong">BasicAction</span>
extends <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></pre> <div class="block">BasicAction does most of the work of an atomic action, but does not manage thread scoping. This is the responsibility of any derived classes.</div> <dl><dt><span class="strong">Since:</span></dt> <dd>JTS 1.0.</dd> <dt><span class="strong">Version:</span></dt> <dd>$Id: BasicAction.java 2342 2006-03-30 13:06:17Z $</dd> <dt><span class="strong">Author:</span></dt> <dd>Mark Little (mark@arjuna.com)</dd></dl> </li> </ul> </div> <div class="summary"> <ul class="blockList"> <li class="blockList"> <ul class="blockList"> <li class="blockList"><a name="field_summary"> </a> <h3>Field Summary</h3> <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation"> <caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption> <tr> <th class="colFirst" scope="col">Modifier and Type</th> <th class="colLast" scope="col">Field and Description</th> </tr> <tr class="altColor"> <td class="colFirst"><code>protected <a href="../../../../../com/arjuna/ats/arjuna/coordinator/RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#failedList">failedList</a></strong></code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected <a href="../../../../../com/arjuna/ats/arjuna/coordinator/RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#heuristicList">heuristicList</a></strong></code>&nbsp;</td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected <a href="../../../../../com/arjuna/ats/arjuna/coordinator/RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#pendingList">pendingList</a></strong></code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected <a href="../../../../../com/arjuna/ats/arjuna/coordinator/RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#preparedList">preparedList</a></strong></code>&nbsp;</td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected <a href="../../../../../com/arjuna/ats/arjuna/coordinator/RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#readonlyList">readonlyList</a></strong></code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#savedIntentionList">savedIntentionList</a></strong></code>&nbsp;</td> </tr> </table> <ul class="blockList"> <li class="blockList"><a name="fields_inherited_from_class_com.arjuna.ats.arjuna.StateManager"> </a> <h3>Fields inherited from class&nbsp;com.arjuna.ats.arjuna.<a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></h3> <code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#modifyingActions">modifyingActions</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#objectModel">objectModel</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#objectUid">objectUid</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#usingActions">usingActions</a></code></li> </ul> </li> </ul> <ul class="blockList"> <li class="blockList"><a name="constructor_summary"> </a> <h3>Constructor Summary</h3> <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation"> <caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption> <tr> <th class="colFirst" scope="col">Modifier</th> <th class="colLast" scope="col">Constructor and Description</th> </tr> <tr class="altColor"> <td class="colFirst"><code>&nbsp;</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#BasicAction()">BasicAction</a></strong>()</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected </code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#BasicAction(int)">BasicAction</a></strong>(int&nbsp;at)</code> <div class="block">Create a transaction of the specified type.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>&nbsp;</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#BasicAction(com.arjuna.ats.arjuna.common.Uid)">BasicAction</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid)</code> <div class="block">BasicAction constructor with a Uid.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected </code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#BasicAction(com.arjuna.ats.arjuna.common.Uid,%20int)">BasicAction</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;u, int&nbsp;at)</code> <div class="block">Recreate the specified transaction.</div> </td> </tr> </table> </li> </ul> <ul class="blockList"> <li class="blockList"><a name="method_summary"> </a> <h3>Method Summary</h3> <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation"> <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption> <tr> <th class="colFirst" scope="col">Modifier and Type</th> <th class="colLast" scope="col">Method and Description</th> </tr> <tr class="altColor"> <td class="colFirst"><code>protected int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#Abort()">Abort</a></strong>()</code> <div class="block">This is the user callable abort operation.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#abortStatus()">abortStatus</a></strong>()</code>&nbsp;</td> </tr> <tr class="altColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#activate()">activate</a></strong>()</code> <div class="block">Overloaded version of activate -- sets up the store, performs read_state followed by restore_state.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#activate(java.lang.String)">activate</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;root)</code> <div class="block">Overloaded version of activate -- sets up the store, performs read_state followed by restore_state.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#activeThreads()">activeThreads</a></strong>()</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#add(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">add</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;A)</code> <div class="block">Add a record to the atomic action.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#addChildAction(com.arjuna.ats.arjuna.coordinator.BasicAction)">addChildAction</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;act)</code> <div class="block">Add a new child action to the atomic action.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#addChildThread()">addChildThread</a></strong>()</code> <div class="block">Add the current thread to the list of threads associated with this transaction.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#addChildThread(java.lang.Thread)">addChildThread</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang">Thread</a>&nbsp;t)</code> <div class="block">Add the specified thread to the list of threads associated with this transaction.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#addRecord(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">addRecord</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;A)</code> <div class="block">Add the specified abstract record to the transaction.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#async_prepare(boolean)">async_prepare</a></strong>(boolean&nbsp;reportHeuristics)</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#Begin(com.arjuna.ats.arjuna.coordinator.BasicAction)">Begin</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;parentAct)</code> <div class="block">Atomic action Begin operation.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#checkForCurrent()">checkForCurrent</a></strong>()</code> <div class="block">Do we want to check that a transaction can only be terminated by a thread that has it as its current transaction? The base class has this check enabled (i.e., we check), but some implementations may wish to override this.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#childTransactions()">childTransactions</a></strong>()</code>&nbsp;</td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#commitStatus()">commitStatus</a></strong>()</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#criticalEnd()">criticalEnd</a></strong>()</code> <div class="block">Defines the end of a critical region by resetting the critical flag.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#criticalStart()">criticalStart</a></strong>()</code> <div class="block">Defines the start of a critical region by setting the critical flag.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>static <a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#Current()">Current</a></strong>()</code>&nbsp;</td> </tr> <tr class="altColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#deactivate()">deactivate</a></strong>()</code> <div class="block">This operation deactivates a persistent object.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#destroy()">destroy</a></strong>()</code> <div class="block">Overloads <code>StateManager.destroy</code> to prevent destroy being called on a BasicAction.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#doAbort(boolean,%20com.arjuna.ats.arjuna.coordinator.AbstractRecord)">doAbort</a></strong>(boolean&nbsp;reportHeuristics, <a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;record)</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#doAbort(com.arjuna.ats.arjuna.coordinator.RecordList,%20boolean)">doAbort</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a>&nbsp;list_toprocess, boolean&nbsp;reportHeuristics)</code>&nbsp;</td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#doCommit(boolean,%20com.arjuna.ats.arjuna.coordinator.AbstractRecord)">doCommit</a></strong>(boolean&nbsp;reportHeuristics, <a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;record)</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#doCommit(com.arjuna.ats.arjuna.coordinator.RecordList,%20boolean)">doCommit</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a>&nbsp;rl, boolean&nbsp;reportHeuristics)</code> <div class="block">Walk down a record list extracting records and calling the appropriate commit function.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#doPrepare(boolean,%20com.arjuna.ats.arjuna.coordinator.AbstractRecord)">doPrepare</a></strong>(boolean&nbsp;reportHeuristics, <a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;record)</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#End(boolean)">End</a></strong>(boolean&nbsp;reportHeuristics)</code> <div class="block">End the atomic action by committing it.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#equals(java.lang.Object)">equals</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;obj)</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#finalizeInternal()">finalizeInternal</a></strong>()</code> <div class="block">BasicAction destructor.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#forgetHeuristics()">forgetHeuristics</a></strong>()</code> <div class="block">Forget any heuristics we may have received, and tell the resources which generated them to forget too.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt;</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#getDeferredThrowables()">getDeferredThrowables</a></strong>()</code> <div class="block">Get any Throwable that was caught during commit processing but not directly rethrown.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#getHeuristicDecision()">getHeuristicDecision</a></strong>()</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code><a href="../../../../../com/arjuna/ats/arjuna/coordinator/ActionHierarchy.html" title="class in com.arjuna.ats.arjuna.coordinator">ActionHierarchy</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#getHierarchy()">getHierarchy</a></strong>()</code> <div class="block">Return the action hierarchy for this transaction.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code><a href="../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#getSavingUid()">getSavingUid</a></strong>()</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code><a href="../../../../../com/arjuna/ats/arjuna/objectstore/ParticipantStore.html" title="interface in com.arjuna.ats.arjuna.objectstore">ParticipantStore</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#getStore()">getStore</a></strong>()</code> <div class="block">Set up an object store and assign it to the participantStore variable.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#hashCode()">hashCode</a></strong>()</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#hierarchyDepth()">hierarchyDepth</a></strong>()</code>&nbsp;</td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected <a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#insertRecord(com.arjuna.ats.arjuna.coordinator.RecordList,%20com.arjuna.ats.arjuna.coordinator.AbstractRecord)">insertRecord</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a>&nbsp;reclist, <a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;record)</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#isAncestor(com.arjuna.ats.arjuna.common.Uid)">isAncestor</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;ancestor)</code> <div class="block">boolean function that checks whether the Uid passed as an argument is the Uid for an ancestor of the current atomic action.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>static boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#maintainHeuristics()">maintainHeuristics</a></strong>()</code> <div class="block">If heuristic outcomes are returned, by default we will not save the state once the forget method has been called on them (which happens as soon as we have received all outcomes from registered resources).</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#onePhaseCommit(boolean)">onePhaseCommit</a></strong>(boolean&nbsp;reportHeuristics)</code> <div class="block">There is only one record on the intentions list.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#parent()">parent</a></strong>()</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#phase2Abort(boolean)">phase2Abort</a></strong>(boolean&nbsp;reportHeuristics)</code> <div class="block">Second phase of the two phase commit protocol for aborting actions.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#phase2Cleanup()">phase2Cleanup</a></strong>()</code> <div class="block">Cleanup phase for actions.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#phase2Commit(boolean)">phase2Commit</a></strong>(boolean&nbsp;reportHeuristics)</code> <div class="block">Second phase of the two-phase commit protocol for committing actions.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#prepare(boolean)">prepare</a></strong>(boolean&nbsp;reportHeuristics)</code> <div class="block">Phase one of a two phase commit protocol.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#preparedStatus()">preparedStatus</a></strong>()</code>&nbsp;</td> </tr> <tr class="altColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#preventCommit()">preventCommit</a></strong>()</code> <div class="block">Force the only outcome for the transaction to be to rollback.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#removeChildAction(com.arjuna.ats.arjuna.coordinator.BasicAction)">removeChildAction</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;act)</code> <div class="block">Remove a child action.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#removeChildThread()">removeChildThread</a></strong>()</code> <div class="block">Remove a child thread.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#removeChildThread(java.lang.String)">removeChildThread</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;threadId)</code> <div class="block">Remove the specified thread from the transaction.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#restore_state(com.arjuna.ats.arjuna.state.InputObjectState,%20int)">restore_state</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;os, int&nbsp;ot)</code> <div class="block">This assumes the various lists are zero length when it is called.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#save_state(com.arjuna.ats.arjuna.state.OutputObjectState,%20int)">save_state</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;os, int&nbsp;ot)</code> <div class="block">Redefined version of save_state and restore_state from StateManager.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#setCheckedAction(com.arjuna.ats.arjuna.coordinator.CheckedAction)">setCheckedAction</a></strong>(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/CheckedAction.html" title="class in com.arjuna.ats.arjuna.coordinator">CheckedAction</a>&nbsp;c)</code> <div class="block">Add the specified CheckedAction object to this transaction.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#setHeuristicDecision(int)">setHeuristicDecision</a></strong>(int&nbsp;p)</code> <div class="block">WARNING: use with extreme care!</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#status()">status</a></strong>()</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#topLevelAction()">topLevelAction</a></strong>()</code>&nbsp;</td> </tr> <tr class="altColor"> <td class="colFirst"><code><a href="../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#topLevelActionUid()">topLevelActionUid</a></strong>()</code> <div class="block">The following function returns the Uid of the top-level atomic action.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#toString()">toString</a></strong>()</code> <div class="block">Overloads Object.toString()</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#type()">type</a></strong>()</code> <div class="block">Overloads StateManager.type()</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>int</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#typeOfAction()">typeOfAction</a></strong>()</code>&nbsp;</td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#updateHeuristic(int,%20boolean)">updateHeuristic</a></strong>(int&nbsp;p, boolean&nbsp;commit)</code>&nbsp;</td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected void</code></td> <td class="colLast"><code><strong><a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html#updateState()">updateState</a></strong>()</code>&nbsp;</td> </tr> </table> <ul class="blockList"> <li class="blockList"><a name="methods_inherited_from_class_com.arjuna.ats.arjuna.StateManager"> </a> <h3>Methods inherited from class&nbsp;com.arjuna.ats.arjuna.<a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></h3> <code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#cleanup(boolean)">cleanup</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#createLists()">createLists</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#deactivate(java.lang.String)">deactivate</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#deactivate(java.lang.String,%20boolean)">deactivate</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#disable()">disable</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#forgetAction(com.arjuna.ats.arjuna.coordinator.BasicAction,%20boolean,%20int)">forgetAction</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#get_uid()">get_uid</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#getMutex()">getMutex</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#getObjectModel()">getObjectModel</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#getStoreRoot()">getStoreRoot</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#loadObjectState()">loadObjectState</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#lockMutex()">lockMutex</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#modified()">modified</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#objectType()">objectType</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#packHeader(com.arjuna.ats.arjuna.state.OutputObjectState,%20com.arjuna.ats.internal.arjuna.Header)">packHeader</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#persist()">persist</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#print(java.io.PrintWriter)">print</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#rememberAction(com.arjuna.ats.arjuna.coordinator.BasicAction,%20int,%20int)">rememberAction</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#setStatus(int)">setStatus</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#setupStore()">setupStore</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#setupStore(java.lang.String)">setupStore</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#setupStore(java.lang.String,%20java.lang.String)">setupStore</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#terminate()">terminate</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#tryLockMutex()">tryLockMutex</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#unlockMutex()">unlockMutex</a>, <a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#unpackHeader(com.arjuna.ats.arjuna.state.InputObjectState,%20com.arjuna.ats.internal.arjuna.Header)">unpackHeader</a></code></li> </ul> <ul class="blockList"> <li class="blockList"><a name="methods_inherited_from_class_java.lang.Object"> </a> <h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3> <code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li> </ul> </li> </ul> </li> </ul> </div> <div class="details"> <ul class="blockList"> <li class="blockList"> <ul class="blockList"> <li class="blockList"><a name="field_detail"> </a> <h3>Field Detail</h3> <a name="pendingList"> </a> <ul class="blockList"> <li class="blockList"> <h4>pendingList</h4> <pre>protected&nbsp;<a href="../../../../../com/arjuna/ats/arjuna/coordinator/RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a> pendingList</pre> </li> </ul> <a name="preparedList"> </a> <ul class="blockList"> <li class="blockList"> <h4>preparedList</h4> <pre>protected&nbsp;<a href="../../../../../com/arjuna/ats/arjuna/coordinator/RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a> preparedList</pre> </li> </ul> <a name="readonlyList"> </a> <ul class="blockList"> <li class="blockList"> <h4>readonlyList</h4> <pre>protected&nbsp;<a href="../../../../../com/arjuna/ats/arjuna/coordinator/RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a> readonlyList</pre> </li> </ul> <a name="failedList"> </a> <ul class="blockList"> <li class="blockList"> <h4>failedList</h4> <pre>protected&nbsp;<a href="../../../../../com/arjuna/ats/arjuna/coordinator/RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a> failedList</pre> </li> </ul> <a name="heuristicList"> </a> <ul class="blockList"> <li class="blockList"> <h4>heuristicList</h4> <pre>protected&nbsp;<a href="../../../../../com/arjuna/ats/arjuna/coordinator/RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a> heuristicList</pre> </li> </ul> <a name="savedIntentionList"> </a> <ul class="blockListLast"> <li class="blockList"> <h4>savedIntentionList</h4> <pre>protected&nbsp;boolean savedIntentionList</pre> </li> </ul> </li> </ul> <ul class="blockList"> <li class="blockList"><a name="constructor_detail"> </a> <h3>Constructor Detail</h3> <a name="BasicAction()"> </a> <ul class="blockList"> <li class="blockList"> <h4>BasicAction</h4> <pre>public&nbsp;BasicAction()</pre> </li> </ul> <a name="BasicAction(com.arjuna.ats.arjuna.common.Uid)"> </a> <ul class="blockList"> <li class="blockList"> <h4>BasicAction</h4> <pre>public&nbsp;BasicAction(<a href="../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid)</pre> <div class="block">BasicAction constructor with a Uid. This constructor is for recreating an BasicAction, typically during crash recovery.</div> </li> </ul> <a name="BasicAction(int)"> </a> <ul class="blockList"> <li class="blockList"> <h4>BasicAction</h4> <pre>protected&nbsp;BasicAction(int&nbsp;at)</pre> <div class="block">Create a transaction of the specified type.</div> </li> </ul> <a name="BasicAction(com.arjuna.ats.arjuna.common.Uid, int)"> </a> <ul class="blockListLast"> <li class="blockList"> <h4>BasicAction</h4> <pre>protected&nbsp;BasicAction(<a href="../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;u,
           int&nbsp;at)</pre> <div class="block">Recreate the specified transaction. Used for crash recovery purposes.</div> </li> </ul> </li> </ul> <ul class="blockList"> <li class="blockList"><a name="method_detail"> </a> <h3>Method Detail</h3> <a name="finalizeInternal()"> </a> <ul class="blockList"> <li class="blockList"> <h4>finalizeInternal</h4> <pre>public&nbsp;void&nbsp;finalizeInternal()</pre> <div class="block">BasicAction destructor. Under normal circumstances we do very little. However there exists the possibility that this action is being deleted while still running (user forgot to commit/abort) - in which case we do an abort for him and mark all our parents as unable to commit. Additionally due to scoping we may not be the current action - but in that case the current action must be one of our nested actions so by applying abort to it we should end up at ourselves!</div> </li> </ul> <a name="getHierarchy()"> </a> <ul class="blockList"> <li class="blockList"> <h4>getHierarchy</h4> <pre>public final&nbsp;<a href="../../../../../com/arjuna/ats/arjuna/coordinator/ActionHierarchy.html" title="class in com.arjuna.ats.arjuna.coordinator">ActionHierarchy</a>&nbsp;getHierarchy()</pre> <div class="block">Return the action hierarchy for this transaction.</div> </li> </ul> <a name="preventCommit()"> </a> <ul class="blockList"> <li class="blockList"> <h4>preventCommit</h4> <pre>public final&nbsp;boolean&nbsp;preventCommit()</pre> <div class="block">Force the only outcome for the transaction to be to rollback. Only possible if this transaction has not (or is not) terminated.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if successful, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="activeThreads()"> </a> <ul class="blockList"> <li class="blockList"> <h4>activeThreads</h4> <pre>public final&nbsp;int&nbsp;activeThreads()</pre> <dl><dt><span class="strong">Returns:</span></dt><dd>the number of threads associated with this transaction.</dd></dl> </li> </ul> <a name="add(com.arjuna.ats.arjuna.coordinator.AbstractRecord)"> </a> <ul class="blockList"> <li class="blockList"> <h4>add</h4> <pre>public final&nbsp;int&nbsp;add(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;A)</pre> <div class="block">Add a record to the atomic action. This function returns AR_ADDED if the record is added. AR_REJECTED if the record cannot be added because the action is past the prepare phase, and IGNORED otherwise.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>AddOutcome</code> indicating outcome.</dd></dl> </li> </ul> <a name="hierarchyDepth()"> </a> <ul class="blockList"> <li class="blockList"> <h4>hierarchyDepth</h4> <pre>public final&nbsp;int&nbsp;hierarchyDepth()</pre> <dl><dt><span class="strong">Returns:</span></dt><dd>the depth of the current transaction hierarchy.</dd></dl> </li> </ul> <a name="isAncestor(com.arjuna.ats.arjuna.common.Uid)"> </a> <ul class="blockList"> <li class="blockList"> <h4>isAncestor</h4> <pre>public final&nbsp;boolean&nbsp;isAncestor(<a href="../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;ancestor)</pre> <div class="block">boolean function that checks whether the Uid passed as an argument is the Uid for an ancestor of the current atomic action.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the parameter represents an ancestor, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="parent()"> </a> <ul class="blockList"> <li class="blockList"> <h4>parent</h4> <pre>public final&nbsp;<a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;parent()</pre> <dl><dt><span class="strong">Returns:</span></dt><dd>a reference to the parent BasicAction</dd></dl> </li> </ul> <a name="typeOfAction()"> </a> <ul class="blockList"> <li class="blockList"> <h4>typeOfAction</h4> <pre>public final&nbsp;int&nbsp;typeOfAction()</pre> </li> </ul> <a name="status()"> </a> <ul class="blockList"> <li class="blockList"> <h4>status</h4> <pre>public final&nbsp;int&nbsp;status()</pre> <dl> <dt><strong>Overrides:</strong></dt> <dd><code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#status()">status</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd> <dt><span class="strong">Returns:</span></dt><dd>the status of the BasicAction</dd></dl> </li> </ul> <a name="getStore()"> </a> <ul class="blockList"> <li class="blockList"> <h4>getStore</h4> <pre>public&nbsp;<a href="../../../../../com/arjuna/ats/arjuna/objectstore/ParticipantStore.html" title="interface in com.arjuna.ats.arjuna.objectstore">ParticipantStore</a>&nbsp;getStore()</pre> <div class="block">Set up an object store and assign it to the participantStore variable.</div> <dl> <dt><strong>Overrides:</strong></dt> <dd><code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#getStore()">getStore</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd> <dt><span class="strong">Returns:</span></dt><dd>the object store implementation to use.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html" title="class in com.arjuna.ats.arjuna.objectstore"><code>ObjectStore</code></a></dd></dl> </li> </ul> <a name="topLevelActionUid()"> </a> <ul class="blockList"> <li class="blockList"> <h4>topLevelActionUid</h4> <pre>public final&nbsp;<a href="../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;topLevelActionUid()</pre> <div class="block">The following function returns the Uid of the top-level atomic action. If this is the top-level transaction then it is equivalent to calling get_uid().</div> <dl><dt><span class="strong">Returns:</span></dt><dd>the top-level transaction's <code>Uid</code>.</dd></dl> </li> </ul> <a name="topLevelAction()"> </a> <ul class="blockList"> <li class="blockList"> <h4>topLevelAction</h4> <pre>public final&nbsp;<a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;topLevelAction()</pre> <dl><dt><span class="strong">Returns:</span></dt><dd>a reference to the top-level transaction. If this is the top-level transaction then a reference to itself will be returned.</dd></dl> </li> </ul> <a name="activate()"> </a> <ul class="blockList"> <li class="blockList"> <h4>activate</h4> <pre>public&nbsp;boolean&nbsp;activate()</pre> <div class="block">Overloaded version of activate -- sets up the store, performs read_state followed by restore_state. The store root is <code>null</code>.</div> <dl> <dt><strong>Overrides:</strong></dt> <dd><code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#activate()">activate</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd> <dt><span class="strong">Returns:</span></dt><dd><code>true</code> if successful, <code>false</code> otherwise.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html" title="class in com.arjuna.ats.arjuna.objectstore"><code>ObjectStore</code></a></dd></dl> </li> </ul> <a name="activate(java.lang.String)"> </a> <ul class="blockList"> <li class="blockList"> <h4>activate</h4> <pre>public&nbsp;boolean&nbsp;activate(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;root)</pre> <div class="block">Overloaded version of activate -- sets up the store, performs read_state followed by restore_state. The root of the object store to use is specified in the <code>root</code> parameter.</div> <dl> <dt><strong>Overrides:</strong></dt> <dd><code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#activate(java.lang.String)">activate</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd> <dt><span class="strong">Returns:</span></dt><dd><code>true</code> if successful, <code>false</code> otherwise.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html" title="class in com.arjuna.ats.arjuna.objectstore"><code>ObjectStore</code></a></dd></dl> </li> </ul> <a name="deactivate()"> </a> <ul class="blockList"> <li class="blockList"> <h4>deactivate</h4> <pre>public&nbsp;boolean&nbsp;deactivate()</pre> <div class="block">This operation deactivates a persistent object. It behaves in a similar manner to the activate operation, but has an extra argument which defines whether the object's state should be committed or written as a shadow. The root of the object store is <code>null</code>. It is assumed that this is being called during a transaction commit.</div> <dl> <dt><strong>Overrides:</strong></dt> <dd><code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#deactivate()">deactivate</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd> <dt><span class="strong">Returns:</span></dt><dd><code>true</code> on success, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="addChildThread()"> </a> <ul class="blockList"> <li class="blockList"> <h4>addChildThread</h4> <pre>public final&nbsp;boolean&nbsp;addChildThread()</pre> <div class="block">Add the current thread to the list of threads associated with this transaction.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if successful, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="addChildThread(java.lang.Thread)"> </a> <ul class="blockList"> <li class="blockList"> <h4>addChildThread</h4> <pre>public final&nbsp;boolean&nbsp;addChildThread(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang">Thread</a>&nbsp;t)</pre> <div class="block">Add the specified thread to the list of threads associated with this transaction.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if successful, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="removeChildThread()"> </a> <ul class="blockList"> <li class="blockList"> <h4>removeChildThread</h4> <pre>public final&nbsp;boolean&nbsp;removeChildThread()</pre> <div class="block">Remove a child thread. The current thread is removed.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if successful, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="removeChildThread(java.lang.String)"> </a> <ul class="blockList"> <li class="blockList"> <h4>removeChildThread</h4> <pre>public final&nbsp;boolean&nbsp;removeChildThread(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;threadId)</pre> <div class="block">Remove the specified thread from the transaction.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if successful, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="addChildAction(com.arjuna.ats.arjuna.coordinator.BasicAction)"> </a> <ul class="blockList"> <li class="blockList"> <h4>addChildAction</h4> <pre>public final&nbsp;boolean&nbsp;addChildAction(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;act)</pre> <div class="block">Add a new child action to the atomic action.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if successful, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="save_state(com.arjuna.ats.arjuna.state.OutputObjectState, int)"> </a> <ul class="blockList"> <li class="blockList"> <h4>save_state</h4> <pre>public&nbsp;boolean&nbsp;save_state(<a href="../../../../../com/arjuna/ats/arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;os,
                 int&nbsp;ot)</pre> <div class="block">Redefined version of save_state and restore_state from StateManager. Normal operation (no crashes): BasicAction.save_state is called after a successful prepare. This causes and BasicAction object to be saved in the object store. This object contains primarily the "intentions list" of the BasicAction. After successfully completing phase 2 of the commit protocol, the BasicAction object is deleted from the store. Failure cases: If a server crashes after successfully preparing, then upon recovery the action must be resolved (either committed or aborted) depending upon whether the co-ordinating atomic action committed or aborted. Upon server recovery, the crash recovery mechanism detects ServerBasicAction objects in the object store and attempts to activate the BasicAction object of the co-ordinating action. If this is successful then the SAA is committed else aborted. If, when processing phase 2 of the commit protocol, the co-ordinator experiences a failure to commit from one of the records then the BasicAction object is NOT deleted. It is rewritten when a new state which contains a list of the records that failed during phase 2 commit. This list is called the "failedList". The crash recovery manager will detect local BasicAction objects in addition to SAA objects in the objectstore. An attempt will be made to commit these actions. If the action contained a call to a now dead server, this action can never be resolved and the AA object can never be removed. However, if the action is purely local then after the processing is complete the removed by crash recovery.</div> <dl> <dt><strong>Overrides:</strong></dt> <dd><code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#save_state(com.arjuna.ats.arjuna.state.OutputObjectState,%20int)">save_state</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd> <dt><span class="strong">Returns:</span></dt><dd><code>true</code> if successful, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="removeChildAction(com.arjuna.ats.arjuna.coordinator.BasicAction)"> </a> <ul class="blockList"> <li class="blockList"> <h4>removeChildAction</h4> <pre>public final&nbsp;boolean&nbsp;removeChildAction(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;act)</pre> <div class="block">Remove a child action.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if successful, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="setCheckedAction(com.arjuna.ats.arjuna.coordinator.CheckedAction)"> </a> <ul class="blockList"> <li class="blockList"> <h4>setCheckedAction</h4> <pre>protected final&nbsp;void&nbsp;setCheckedAction(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/CheckedAction.html" title="class in com.arjuna.ats.arjuna.coordinator">CheckedAction</a>&nbsp;c)</pre> <div class="block">Add the specified CheckedAction object to this transaction.</div> <dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../com/arjuna/ats/arjuna/coordinator/CheckedAction.html" title="class in com.arjuna.ats.arjuna.coordinator"><code>CheckedAction</code></a></dd></dl> </li> </ul> <a name="getSavingUid()"> </a> <ul class="blockList"> <li class="blockList"> <h4>getSavingUid</h4> <pre>public&nbsp;<a href="../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;getSavingUid()</pre> <dl><dt><span class="strong">Returns:</span></dt><dd>the Uid that the transaction's intentions list will be saved under.</dd></dl> </li> </ul> <a name="toString()"> </a> <ul class="blockList"> <li class="blockList"> <h4>toString</h4> <pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre> <div class="block">Overloads Object.toString()</div> <dl> <dt><strong>Overrides:</strong></dt> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd> </dl> </li> </ul> <a name="restore_state(com.arjuna.ats.arjuna.state.InputObjectState, int)"> </a> <ul class="blockList"> <li class="blockList"> <h4>restore_state</h4> <pre>public&nbsp;boolean&nbsp;restore_state(<a href="../../../../../com/arjuna/ats/arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;os,
                    int&nbsp;ot)</pre> <div class="block">This assumes the various lists are zero length when it is called.</div> <dl> <dt><strong>Overrides:</strong></dt> <dd><code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#restore_state(com.arjuna.ats.arjuna.state.InputObjectState,%20int)">restore_state</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd> <dt><span class="strong">Returns:</span></dt><dd><code>true</code> if successful, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="type()"> </a> <ul class="blockList"> <li class="blockList"> <h4>type</h4> <pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;type()</pre> <div class="block">Overloads StateManager.type()</div> <dl> <dt><strong>Overrides:</strong></dt> <dd><code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#type()">type</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd> </dl> </li> </ul> <a name="Current()"> </a> <ul class="blockList"> <li class="blockList"> <h4>Current</h4> <pre>public static&nbsp;<a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;Current()</pre> <dl><dt><span class="strong">Returns:</span></dt><dd>the thread's notion of the current transaction.</dd></dl> </li> </ul> <a name="maintainHeuristics()"> </a> <ul class="blockList"> <li class="blockList"> <h4>maintainHeuristics</h4> <pre>public static&nbsp;boolean&nbsp;maintainHeuristics()</pre> <div class="block">If heuristic outcomes are returned, by default we will not save the state once the forget method has been called on them (which happens as soon as we have received all outcomes from registered resources). By specifying otherwise, we will always maintain the heuristic information, which may prove useful for logging and off-line resolution.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the transaction should save its heuristic information, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="destroy()"> </a> <ul class="blockList"> <li class="blockList"> <h4>destroy</h4> <pre>public&nbsp;boolean&nbsp;destroy()</pre> <div class="block">Overloads <code>StateManager.destroy</code> to prevent destroy being called on a BasicAction. Could be a *very* bad idea!!</div> <dl> <dt><strong>Overrides:</strong></dt> <dd><code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html#destroy()">destroy</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></code></dd> <dt><span class="strong">Returns:</span></dt><dd><code>false</code>.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../com/arjuna/ats/arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna"><code>StateManager</code></a></dd></dl> </li> </ul> <a name="childTransactions()"> </a> <ul class="blockList"> <li class="blockList"> <h4>childTransactions</h4> <pre>public final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;childTransactions()</pre> <dl><dt><span class="strong">Returns:</span></dt><dd>the list of child transactions. Currently only their ids are given.</dd><dt><span class="strong">Since:</span></dt> <dd>JTS 2.2.</dd></dl> </li> </ul> <a name="getDeferredThrowables()"> </a> <ul class="blockList"> <li class="blockList"> <h4>getDeferredThrowables</h4> <pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt;&nbsp;getDeferredThrowables()</pre> <div class="block">Get any Throwable that was caught during commit processing but not directly rethrown.</div> <dl><dt><span class="strong">Returns:</span></dt><dd>a list of ThrowableS, if any</dd></dl> </li> </ul> <a name="equals(java.lang.Object)"> </a> <ul class="blockList"> <li class="blockList"> <h4>equals</h4> <pre>public&nbsp;boolean&nbsp;equals(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;obj)</pre> <dl> <dt><strong>Overrides:</strong></dt> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd> </dl> </li> </ul> <a name="hashCode()"> </a> <ul class="blockList"> <li class="blockList"> <h4>hashCode</h4> <pre>public&nbsp;int&nbsp;hashCode()</pre> <dl> <dt><strong>Overrides:</strong></dt> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd> </dl> </li> </ul> <a name="forgetHeuristics()"> </a> <ul class="blockList"> <li class="blockList"> <h4>forgetHeuristics</h4> <pre>protected&nbsp;boolean&nbsp;forgetHeuristics()</pre> <div class="block">Forget any heuristics we may have received, and tell the resources which generated them to forget too.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if heuristic information (if any) was successfully forgotten, <code>false</code> otherwise.</dd></dl> </li> </ul> <a name="Begin(com.arjuna.ats.arjuna.coordinator.BasicAction)"> </a> <ul class="blockList"> <li class="blockList"> <h4>Begin</h4> <pre>protected&nbsp;int&nbsp;Begin(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/BasicAction.html" title="class in com.arjuna.ats.arjuna.coordinator">BasicAction</a>&nbsp;parentAct)</pre> <div class="block">Atomic action Begin operation. Does not change the calling thread's notion of the current transaction.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>ActionStatus</code> indicating outcome.</dd></dl> </li> </ul> <a name="End(boolean)"> </a> <ul class="blockList"> <li class="blockList"> <h4>End</h4> <pre>protected&nbsp;int&nbsp;End(boolean&nbsp;reportHeuristics)</pre> <div class="block">End the atomic action by committing it. This invokes the prepare() operation. If this succeeds then the pendingList should be empty and the records that were formally on it will have been distributed between the preparedList and the readonlyList, also if the action is topLevel then the intention list will have been written to the object store. Then invoke phase2Commit and clean up the object store if necessary If prepare() fails invoke phase2Abort. In this case the pendingList may still contain records but phase2Abort takes care of these. Also in this case no intention list has been written. Does not change the calling thread's notion of the current transaction. Any heuristic outcomes will only be reported if the parameter is <code>true</code>.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>ActionStatus</code> indicating outcome.</dd></dl> </li> </ul> <a name="Abort()"> </a> <ul class="blockList"> <li class="blockList"> <h4>Abort</h4> <pre>protected&nbsp;int&nbsp;Abort()</pre> <div class="block">This is the user callable abort operation. It is invoked prior to the start of two-phase commit and hence only processes records in the pendingList (the other lists should be empty). Does not change the calling thread's notion of the current transaction.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>ActionStatus</code> indicating outcome.</dd></dl> </li> </ul> <a name="criticalStart()"> </a> <ul class="blockList"> <li class="blockList"> <h4>criticalStart</h4> <pre>protected final&nbsp;void&nbsp;criticalStart()</pre> <div class="block">Defines the start of a critical region by setting the critical flag. If the signal handler is called the class variable abortAndExit is set. The value of this variable is checked in the corresponding operation to end the critical region.</div> </li> </ul> <a name="criticalEnd()"> </a> <ul class="blockList"> <li class="blockList"> <h4>criticalEnd</h4> <pre>protected final&nbsp;void&nbsp;criticalEnd()</pre> <div class="block">Defines the end of a critical region by resetting the critical flag. If the signal handler is called the class variable abortAndExit is set. The value of this variable is checked when ending the critical region.</div> </li> </ul> <a name="phase2Cleanup()"> </a> <ul class="blockList"> <li class="blockList"> <h4>phase2Cleanup</h4> <pre>protected final&nbsp;void&nbsp;phase2Cleanup()</pre> <div class="block">Cleanup phase for actions. If an action is in the PREPARED state when a terminate signal is delivered (ie the coordinator node has crashed) then we need to cleanup. This is essentially the same as phase2Abort but we call cleanup ops rather than abort ops and let the records take care of appropriate cleanup. The pendingList is processed because it may not be empty - since prepare() stops processing the list at the first PREPARE_NOTOK result. The read_only list is processed to ensure that actions are aborted immediately and any servers killed at that point since they need not hang around. This contrasts with commit where readonlyList entries are simply merged with the parent list or discarded</div> </li> </ul> <a name="phase2Commit(boolean)"> </a> <ul class="blockList"> <li class="blockList"> <h4>phase2Commit</h4> <pre>protected final&nbsp;void&nbsp;phase2Commit(boolean&nbsp;reportHeuristics)
                           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Error.html?is-external=true" title="class or interface in java.lang">Error</a></pre> <div class="block">Second phase of the two-phase commit protocol for committing actions. This operation first invokes the doCommit operation on the preparedList. This ensures that the appropriate commit operation is performed on each entry which is then either deleted (top_level) or merged into the parent's pendingList. Processing of the readonlyList is different in that if the action is top_level then all records in the readonlyList are deleted without further processing. If nested the records must be merged. This is an optimisation to avoid unnecessary processing. Note that at this point the pendingList SHOULD be empty due to the prior invocation of prepare().</div> <dl><dt><span class="strong">Throws:</span></dt> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Error.html?is-external=true" title="class or interface in java.lang">Error</a></code> - JBTM-895 tests, byteman limitation</dd></dl> </li> </ul> <a name="phase2Abort(boolean)"> </a> <ul class="blockList"> <li class="blockList"> <h4>phase2Abort</h4> <pre>protected final&nbsp;void&nbsp;phase2Abort(boolean&nbsp;reportHeuristics)</pre> <div class="block">Second phase of the two phase commit protocol for aborting actions. Actions are aborted by invoking the doAbort operation on the preparedList, the readonlyList, and the pendingList. The pendingList is processed because it may not be empty - since prepare() stops processing the list at the first PREPARE_NOTOK result. By default, records that responsed PREPARE_READONLY will not be contacted during second-phase abort, just as they are not during second-phase commit. This can be overridden at runtime using the READONLY_OPTIMISATION variable.</div> </li> </ul> <a name="async_prepare(boolean)"> </a> <ul class="blockList"> <li class="blockList"> <h4>async_prepare</h4> <pre>protected&nbsp;int&nbsp;async_prepare(boolean&nbsp;reportHeuristics)</pre> </li> </ul> <a name="prepare(boolean)"> </a> <ul class="blockList"> <li class="blockList"> <h4>prepare</h4> <pre>protected final&nbsp;int&nbsp;prepare(boolean&nbsp;reportHeuristics)</pre> <div class="block">Phase one of a two phase commit protocol. This function returns the ouctome of the prepare operation. If all goes well it will be PREPARE_OK, if not PREPARE_NOTOK. The value PREPARE_READONLY may also be returned if all the records indicate that they are readonly records. Such records do not take part in the second phase commit processing.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>TwoPhaseOutcome</code> indicating outcome. Note that if 1PC optimisation is enabled then it is possible for prepare to dynamically optimise and commit if the first N-1 participants return read-only, causing the protcol to commit the last participant rather than go through prepare.</dd></dl> </li> </ul> <a name="onePhaseCommit(boolean)"> </a> <ul class="blockList"> <li class="blockList"> <h4>onePhaseCommit</h4> <pre>protected&nbsp;void&nbsp;onePhaseCommit(boolean&nbsp;reportHeuristics)</pre> <div class="block">There is only one record on the intentions list. Only called from synchronized methods. Don't bother about creating separate threads here!</div> </li> </ul> <a name="getHeuristicDecision()"> </a> <ul class="blockList"> <li class="blockList"> <h4>getHeuristicDecision</h4> <pre>protected final&nbsp;int&nbsp;getHeuristicDecision()</pre> <dl><dt><span class="strong">Returns:</span></dt><dd>the current heuristic decision. Each time a heuristic outcome is received, we need to merge it with any previous outcome to determine what the overall heuristic decision is (e.g., a heuristic rollback followed by a heuristic commit means the overall decision is heuristic mixed.)</dd></dl> </li> </ul> <a name="setHeuristicDecision(int)"> </a> <ul class="blockList"> <li class="blockList"> <h4>setHeuristicDecision</h4> <pre>protected final&nbsp;void&nbsp;setHeuristicDecision(int&nbsp;p)</pre> <div class="block">WARNING: use with extreme care!</div> </li> </ul> <a name="addRecord(com.arjuna.ats.arjuna.coordinator.AbstractRecord)"> </a> <ul class="blockList"> <li class="blockList"> <h4>addRecord</h4> <pre>protected final&nbsp;void&nbsp;addRecord(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;A)</pre> <div class="block">Add the specified abstract record to the transaction. Does not do any of the runtime checking of BasicAction.add, so should be used with care. Currently used by crash recovery.</div> </li> </ul> <a name="preparedStatus()"> </a> <ul class="blockList"> <li class="blockList"> <h4>preparedStatus</h4> <pre>protected&nbsp;int&nbsp;preparedStatus()</pre> <dl><dt><span class="strong">Returns:</span></dt><dd>the transaction's prepared status.</dd><dt><span class="strong">Since:</span></dt> <dd>JTS 2.0.</dd></dl> </li> </ul> <a name="abortStatus()"> </a> <ul class="blockList"> <li class="blockList"> <h4>abortStatus</h4> <pre>protected&nbsp;int&nbsp;abortStatus()</pre> </li> </ul> <a name="commitStatus()"> </a> <ul class="blockList"> <li class="blockList"> <h4>commitStatus</h4> <pre>protected&nbsp;int&nbsp;commitStatus()</pre> </li> </ul> <a name="doPrepare(boolean, com.arjuna.ats.arjuna.coordinator.AbstractRecord)"> </a> <ul class="blockList"> <li class="blockList"> <h4>doPrepare</h4> <pre>protected&nbsp;int&nbsp;doPrepare(boolean&nbsp;reportHeuristics,
            <a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;record)</pre> </li> </ul> <a name="doCommit(com.arjuna.ats.arjuna.coordinator.RecordList, boolean)"> </a> <ul class="blockList"> <li class="blockList"> <h4>doCommit</h4> <pre>protected&nbsp;int&nbsp;doCommit(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a>&nbsp;rl,
           boolean&nbsp;reportHeuristics)</pre> <div class="block">Walk down a record list extracting records and calling the appropriate commit function. Discard or merge records as appropriate</div> </li> </ul> <a name="doCommit(boolean, com.arjuna.ats.arjuna.coordinator.AbstractRecord)"> </a> <ul class="blockList"> <li class="blockList"> <h4>doCommit</h4> <pre>protected&nbsp;int&nbsp;doCommit(boolean&nbsp;reportHeuristics,
           <a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;record)</pre> </li> </ul> <a name="doAbort(com.arjuna.ats.arjuna.coordinator.RecordList, boolean)"> </a> <ul class="blockList"> <li class="blockList"> <h4>doAbort</h4> <pre>protected&nbsp;int&nbsp;doAbort(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a>&nbsp;list_toprocess,
          boolean&nbsp;reportHeuristics)</pre> </li> </ul> <a name="doAbort(boolean, com.arjuna.ats.arjuna.coordinator.AbstractRecord)"> </a> <ul class="blockList"> <li class="blockList"> <h4>doAbort</h4> <pre>protected&nbsp;int&nbsp;doAbort(boolean&nbsp;reportHeuristics,
          <a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;record)</pre> </li> </ul> <a name="insertRecord(com.arjuna.ats.arjuna.coordinator.RecordList, com.arjuna.ats.arjuna.coordinator.AbstractRecord)"> </a> <ul class="blockList"> <li class="blockList"> <h4>insertRecord</h4> <pre>protected&nbsp;<a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;insertRecord(<a href="../../../../../com/arjuna/ats/arjuna/coordinator/RecordList.html" title="class in com.arjuna.ats.arjuna.coordinator">RecordList</a>&nbsp;reclist,
                          <a href="../../../../../com/arjuna/ats/arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;record)</pre> </li> </ul> <a name="checkForCurrent()"> </a> <ul class="blockList"> <li class="blockList"> <h4>checkForCurrent</h4> <pre>protected&nbsp;boolean&nbsp;checkForCurrent()</pre> <div class="block">Do we want to check that a transaction can only be terminated by a thread that has it as its current transaction? The base class has this check enabled (i.e., we check), but some implementations may wish to override this.</div> <dl><dt><span class="strong">Returns:</span></dt><dd><code>false</code> to disable checking.</dd></dl> </li> </ul> <a name="updateHeuristic(int, boolean)"> </a> <ul class="blockList"> <li class="blockList"> <h4>updateHeuristic</h4> <pre>protected final&nbsp;void&nbsp;updateHeuristic(int&nbsp;p,
                   boolean&nbsp;commit)</pre> </li> </ul> <a name="updateState()"> </a> <ul class="blockListLast"> <li class="blockList"> <h4>updateState</h4> <pre>protected&nbsp;void&nbsp;updateState()</pre> </li> </ul> </li> </ul> </li> </ul> </div> </div> <div class="bottomNav"><a name="navbar_bottom"> </a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow"> </a> <ul class="navList" title="Navigation"> <li><a href="../../../../../overview-summary.html">Overview</a></li> <li><a href="package-summary.html">Package</a></li> <li class="navBarCell1Rev">Class</li> <li><a href="class-use/BasicAction.html">Use</a></li> <li><a href="package-tree.html">Tree</a></li> <li><a href="../../../../../deprecated-list.html">Deprecated</a></li> <li><a href="../../../../../index-all.html">Index</a></li> <li><a href="../../../../../help-doc.html">Help</a></li> </ul> <div class="aboutLanguage"><em><b>Narayana: narayana-full 5.0.4.Final-SNAPSHOT</b></em></div> </div> <div class="subNav"> <ul class="navList"> <li><a href="../../../../../com/arjuna/ats/arjuna/coordinator/AsyncBeforeSynchronization.html" title="class in com.arjuna.ats.arjuna.coordinator"><span class="strong">Prev Class</span></a></li> <li><a href="../../../../../com/arjuna/ats/arjuna/coordinator/CheckedAction.html" title="class in com.arjuna.ats.arjuna.coordinator"><span class="strong">Next Class</span></a></li> </ul> <ul class="navList"> <li><a href="../../../../../index.html?com/arjuna/ats/arjuna/coordinator/BasicAction.html" target="_top">Frames</a></li> <li><a href="BasicAction.html" target="_top">No Frames</a></li> </ul> <ul class="navList" id="allclasses_navbar_bottom"> <li><a href="../../../../../allclasses-noframe.html">All Classes</a></li> </ul> <div> <script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script> </div> <div> <ul class="subNavList"> <li>Summary:&nbsp;</li> <li>Nested&nbsp;|&nbsp;</li> <li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li> <li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method_summary">Method</a></li> </ul> <ul class="subNavList"> <li>Detail:&nbsp;</li> <li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li> <li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method_detail">Method</a></li> </ul> </div> <a name="skip-navbar_bottom"> </a></div> <p class="legalCopy"><small>Copyright &#169; 2014 <a href="http://www.jboss.org">JBoss by Red Hat</a>. All Rights Reserved.</small></p> </body> </html>