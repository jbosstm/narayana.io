<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_275) on Thu May 06 10:52:10 CEST 2021 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>XATerminatorImple (Narayana: narayana-full 5.11.2.Final API)</title>
<meta name="date" content="2021-05-06">
<link rel="stylesheet" type="text/css" href="../../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="XATerminatorImple (Narayana: narayana-full 5.11.2.Final API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/XATerminatorImple.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Narayana: narayana-full 5.11.2.Final</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/jts/jca/WorkSynchronization.html" title="class in com.arjuna.ats.internal.jta.transaction.jts.jca"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?com/arjuna/ats/internal/jta/transaction/jts/jca/XATerminatorImple.html" target="_top">Frames</a></li>
<li><a href="XATerminatorImple.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.arjuna.ats.internal.jta.transaction.jts.jca</div>
<h2 title="Class XATerminatorImple" class="title">Class XATerminatorImple</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.arjuna.ats.internal.jta.transaction.jts.jca.XATerminatorImple</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../../com/arjuna/ats/internal/jta/resources/spi/XATerminatorExtensions.html" title="interface in com.arjuna.ats.internal.jta.resources.spi">XATerminatorExtensions</a>, javax.resource.spi.XATerminator, org.jboss.tm.ExtendedJBossXATerminator</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../../../com/arjuna/ats/internal/jbossatx/jts/jca/XATerminator.html" title="class in com.arjuna.ats.internal.jbossatx.jts.jca">XATerminator</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">XATerminatorImple</span>
extends java.lang.Object
implements javax.resource.spi.XATerminator, <a href="../../../../../../../../com/arjuna/ats/internal/jta/resources/spi/XATerminatorExtensions.html" title="interface in com.arjuna.ats.internal.jta.resources.spi">XATerminatorExtensions</a>, org.jboss.tm.ExtendedJBossXATerminator</pre>
<div class="block">The XATerminator implementation.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>mcl</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/jts/jca/XATerminatorImple.html#XATerminatorImple--">XATerminatorImple</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/jts/jca/XATerminatorImple.html#beforeCompletion-javax.transaction.xa.Xid-">beforeCompletion</a></span>(javax.transaction.xa.Xid&nbsp;xid)</code>
<div class="block">Call beforeCompletion on the registered instance.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/jts/jca/XATerminatorImple.html#commit-javax.transaction.xa.Xid-boolean-">commit</a></span>(javax.transaction.xa.Xid&nbsp;xid,
      boolean&nbsp;onePhase)</code>
<div class="block">Commits the global transaction specified by xid.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>javax.transaction.xa.Xid[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/jts/jca/XATerminatorImple.html#doRecover-javax.transaction.xa.Xid-java.lang.String-">doRecover</a></span>(javax.transaction.xa.Xid&nbsp;xid,
         java.lang.String&nbsp;parentNodeName)</code>
<div class="block">
 Recovering /JCA section of object store.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/jts/jca/XATerminatorImple.html#forget-javax.transaction.xa.Xid-">forget</a></span>(javax.transaction.xa.Xid&nbsp;xid)</code>
<div class="block">Tells the resource manager to forget about a heuristically
 completed transaction branch.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/jts/jca/XATerminatorImple.html#getCurrentTransactionId--">getCurrentTransactionId</a></span>()</code>
<div class="block">Obtain the unique id of the currently associated transaction</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/arjunacore/jca/SubordinateTransaction.html" title="interface in com.arjuna.ats.internal.jta.transaction.arjunacore.jca">SubordinateTransaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/jts/jca/XATerminatorImple.html#getImportedTransaction-javax.transaction.xa.Xid-">getImportedTransaction</a></span>(javax.transaction.xa.Xid&nbsp;xid)</code>
<div class="block">Lookup an imported transaction by its Xid</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>javax.transaction.Transaction</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/jts/jca/XATerminatorImple.html#getTransaction-javax.transaction.xa.Xid-">getTransaction</a></span>(javax.transaction.xa.Xid&nbsp;xid)</code>
<div class="block">Convert an imported Xid into a Transaction object.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>javax.transaction.Transaction</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/jts/jca/XATerminatorImple.html#getTransactionById-java.lang.Object-">getTransactionById</a></span>(java.lang.Object&nbsp;id)</code>
<div class="block">Look up a transaction by its id</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>javax.transaction.xa.Xid[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/jts/jca/XATerminatorImple.html#getXidsToRecoverForParentNode-boolean-java.lang.String-int-">getXidsToRecoverForParentNode</a></span>(boolean&nbsp;recoverInFlight,
                             java.lang.String&nbsp;parentNodeName,
                             int&nbsp;recoveryFlags)</code>
<div class="block">Get a list of Xids that are potentially recoverable.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>org.jboss.tm.TransactionImportResult</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/jts/jca/XATerminatorImple.html#importTransaction-javax.transaction.xa.Xid-int-">importTransaction</a></span>(javax.transaction.xa.Xid&nbsp;xid,
                 int&nbsp;timeoutIfNew)</code>
<div class="block">A thread safe method to convert an imported Xid into a Transaction object.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/jts/jca/XATerminatorImple.html#isRecoveryByNodeOrXidSupported--">isRecoveryByNodeOrXidSupported</a></span>()</code>
<div class="block">Test whether or not the <code>ExtendedJBossXATerminator.doRecover(Xid, String)</code> call will throw NotSupportedException</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/jts/jca/XATerminatorImple.html#prepare-javax.transaction.xa.Xid-">prepare</a></span>(javax.transaction.xa.Xid&nbsp;xid)</code>
<div class="block">Ask the resource manager to prepare for a transaction commit
 of the transaction specified in xid.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>javax.transaction.xa.Xid[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/jts/jca/XATerminatorImple.html#recover-int-">recover</a></span>(int&nbsp;flag)</code>
<div class="block">Obtains a list of prepared transaction branches from a resource
 manager.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/jts/jca/XATerminatorImple.html#removeImportedTransaction-javax.transaction.xa.Xid-">removeImportedTransaction</a></span>(javax.transaction.xa.Xid&nbsp;xid)</code>
<div class="block">forget about this imported transaction.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/jts/jca/XATerminatorImple.html#rollback-javax.transaction.xa.Xid-">rollback</a></span>(javax.transaction.xa.Xid&nbsp;xid)</code>
<div class="block">Informs the resource manager to roll back work done on behalf
 of a transaction branch.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="XATerminatorImple--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>XATerminatorImple</h4>
<pre>public&nbsp;XATerminatorImple()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="commit-javax.transaction.xa.Xid-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre>public&nbsp;void&nbsp;commit(javax.transaction.xa.Xid&nbsp;xid,
                   boolean&nbsp;onePhase)
            throws javax.transaction.xa.XAException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>javax.resource.spi.XATerminator</code></span></div>
<div class="block">Commits the global transaction specified by xid.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>commit</code>&nbsp;in interface&nbsp;<code>javax.resource.spi.XATerminator</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>xid</code> - A global transaction identifier</dd>
<dd><code>onePhase</code> - If true, the resource manager should use a one-phase
 commit protocol to commit the work done on behalf of xid.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.transaction.xa.XAException</code> - An error has occurred. Possible XAExceptions
 are XA_HEURHAZ, XA_HEURCOM, XA_HEURRB, XA_HEURMIX, XAER_RMERR,
 XAER_RMFAIL, XAER_NOTA, XAER_INVAL, or XAER_PROTO.

 <P>If the resource manager did not commit the transaction and the
  parameter onePhase is set to true, the resource manager may throw
  one of the XA_RB* exceptions. Upon return, the resource manager has
  rolled back the branch's work and has released all held resources.</dd>
</dl>
</li>
</ul>
<a name="forget-javax.transaction.xa.Xid-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forget</h4>
<pre>public&nbsp;void&nbsp;forget(javax.transaction.xa.Xid&nbsp;xid)
            throws javax.transaction.xa.XAException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>javax.resource.spi.XATerminator</code></span></div>
<div class="block">Tells the resource manager to forget about a heuristically
 completed transaction branch.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>forget</code>&nbsp;in interface&nbsp;<code>javax.resource.spi.XATerminator</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>xid</code> - A global transaction identifier.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.transaction.xa.XAException</code> - An error has occurred. Possible exception
 values are XAER_RMERR, XAER_RMFAIL, XAER_NOTA, XAER_INVAL, or
 XAER_PROTO.</dd>
</dl>
</li>
</ul>
<a name="prepare-javax.transaction.xa.Xid-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepare</h4>
<pre>public&nbsp;int&nbsp;prepare(javax.transaction.xa.Xid&nbsp;xid)
            throws javax.transaction.xa.XAException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>javax.resource.spi.XATerminator</code></span></div>
<div class="block">Ask the resource manager to prepare for a transaction commit
 of the transaction specified in xid.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>prepare</code>&nbsp;in interface&nbsp;<code>javax.resource.spi.XATerminator</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>xid</code> - A global transaction identifier.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A value indicating the resource manager's vote on the
 outcome of the transaction. The possible values are: XA_RDONLY
 or XA_OK. These constants are defined in 
 <code> javax.transaction.xa.XAResource</code> interface. 
 If the resource manager wants to roll back the
 transaction, it should do so by raising an appropriate XAException
 in the prepare method.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.transaction.xa.XAException</code> - An error has occurred. Possible exception
 values are: XA_RB*, XAER_RMERR, XAER_RMFAIL, XAER_NOTA, XAER_INVAL,
 or XAER_PROTO.</dd>
</dl>
</li>
</ul>
<a name="recover-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recover</h4>
<pre>public&nbsp;javax.transaction.xa.Xid[]&nbsp;recover(int&nbsp;flag)
                                   throws javax.transaction.xa.XAException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>javax.resource.spi.XATerminator</code></span></div>
<div class="block">Obtains a list of prepared transaction branches from a resource
 manager. The transaction manager calls this method during recovery
 to obtain the list of transaction branches that are currently in
 prepared or heuristically completed states.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>recover</code>&nbsp;in interface&nbsp;<code>javax.resource.spi.XATerminator</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>flag</code> - One of TMSTARTRSCAN, TMENDRSCAN, TMNOFLAGS. TMNOFLAGS
 must be used when no other flags are set in the parameter. These
 constants are defined in <code>javax.transaction.xa.XAResource</code> 
 interface.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The resource manager returns zero or more XIDs of the
 transaction branches that are currently in a prepared or
 heuristically completed state. If an error occurs during the
 operation, the resource manager should throw the appropriate
 XAException.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.transaction.xa.XAException</code> - An error has occurred. Possible values are
 XAER_RMERR, XAER_RMFAIL, XAER_INVAL, and XAER_PROTO.</dd>
</dl>
</li>
</ul>
<a name="rollback-javax.transaction.xa.Xid-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollback</h4>
<pre>public&nbsp;void&nbsp;rollback(javax.transaction.xa.Xid&nbsp;xid)
              throws javax.transaction.xa.XAException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>javax.resource.spi.XATerminator</code></span></div>
<div class="block">Informs the resource manager to roll back work done on behalf
 of a transaction branch.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>rollback</code>&nbsp;in interface&nbsp;<code>javax.resource.spi.XATerminator</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>xid</code> - A global transaction identifier.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.transaction.xa.XAException</code> - An error has occurred. Possible XAExceptions are
 XA_HEURHAZ, XA_HEURCOM, XA_HEURRB, XA_HEURMIX, XAER_RMERR, XAER_RMFAIL,
 XAER_NOTA, XAER_INVAL, or XAER_PROTO.

 <p>If the transaction branch is already marked rollback-only the
 resource manager may throw one of the XA_RB* exceptions. Upon return,
 the resource manager has rolled back the branch's work and has released
 all held resources.</dd>
</dl>
</li>
</ul>
<a name="beforeCompletion-javax.transaction.xa.Xid-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beforeCompletion</h4>
<pre>public&nbsp;boolean&nbsp;beforeCompletion(javax.transaction.xa.Xid&nbsp;xid)
                         throws javax.transaction.SystemException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../../com/arjuna/ats/internal/jta/resources/spi/XATerminatorExtensions.html#beforeCompletion-javax.transaction.xa.Xid-">XATerminatorExtensions</a></code></span></div>
<div class="block">Call beforeCompletion on the registered instance. Exceptions will cause the transaction
 to be set rollback only.

 Note: this will run beforeCompletion even on setRollbackOnly transactions.
 Users may wish to avoid calling this method in such cases, or prior to calling rollback.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../../com/arjuna/ats/internal/jta/resources/spi/XATerminatorExtensions.html#beforeCompletion-javax.transaction.xa.Xid-">beforeCompletion</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../com/arjuna/ats/internal/jta/resources/spi/XATerminatorExtensions.html" title="interface in com.arjuna.ats.internal.jta.resources.spi">XATerminatorExtensions</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>xid</code> - the transaction instance.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>success (or not).</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.transaction.SystemException</code></dd>
</dl>
</li>
</ul>
<a name="getTransaction-javax.transaction.xa.Xid-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransaction</h4>
<pre>public&nbsp;javax.transaction.Transaction&nbsp;getTransaction(javax.transaction.xa.Xid&nbsp;xid)
                                             throws javax.transaction.xa.XAException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>org.jboss.tm.ExtendedJBossXATerminator</code></span></div>
<div class="block">Convert an imported Xid into a Transaction object.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getTransaction</code>&nbsp;in interface&nbsp;<code>org.jboss.tm.ExtendedJBossXATerminator</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>xid</code> - the global Xid of the target transaction to lookup</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A transaction object corresponding to the Xid or null if there is no such transaction</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.transaction.xa.XAException</code> - with code XA_RBROLLBACK if the transaction has already aborted</dd>
</dl>
</li>
</ul>
<a name="importTransaction-javax.transaction.xa.Xid-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>importTransaction</h4>
<pre>public&nbsp;org.jboss.tm.TransactionImportResult&nbsp;importTransaction(javax.transaction.xa.Xid&nbsp;xid,
                                                              int&nbsp;timeoutIfNew)
                                                       throws javax.transaction.xa.XAException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>org.jboss.tm.ExtendedJBossXATerminator</code></span></div>
<div class="block">A thread safe method to convert an imported Xid into a Transaction object. If the transaction does not exist
 then a subordinate transaction for the xid will be created and associated with the global transaction.

 In the case where a new subordinate is created then the timeout parameter will be used. If timeout is non zero
 then the inflowed transaction will survive for that period before being
 eligible to be aborted. If timeout is zero then no timeout will be associated with the subordinate transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>importTransaction</code>&nbsp;in interface&nbsp;<code>org.jboss.tm.ExtendedJBossXATerminator</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>xid</code> - The global Xid of the target transaction to lookup</dd>
<dd><code>timeoutIfNew</code> - The timeout associated with the global transaction if one was created.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A wrapper containing the transaction object corresponding to the Xid or null if there is no such transaction</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.transaction.xa.XAException</code> - with code XA_RBROLLBACK if the transaction has already aborted</dd>
</dl>
</li>
</ul>
<a name="getImportedTransaction-javax.transaction.xa.Xid-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getImportedTransaction</h4>
<pre>public&nbsp;<a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/arjunacore/jca/SubordinateTransaction.html" title="interface in com.arjuna.ats.internal.jta.transaction.arjunacore.jca">SubordinateTransaction</a>&nbsp;getImportedTransaction(javax.transaction.xa.Xid&nbsp;xid)
                                              throws javax.transaction.xa.XAException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>org.jboss.tm.ExtendedJBossXATerminator</code></span></div>
<div class="block">Lookup an imported transaction by its Xid</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getImportedTransaction</code>&nbsp;in interface&nbsp;<code>org.jboss.tm.ExtendedJBossXATerminator</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>xid</code> - the Xid of the transaction to lookup</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the corresponding imported transaction object or null</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.transaction.xa.XAException</code> - if the transaction is known to have rolled back</dd>
</dl>
</li>
</ul>
<a name="getTransactionById-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransactionById</h4>
<pre>public&nbsp;javax.transaction.Transaction&nbsp;getTransactionById(java.lang.Object&nbsp;id)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>org.jboss.tm.ExtendedJBossXATerminator</code></span></div>
<div class="block">Look up a transaction by its id</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getTransactionById</code>&nbsp;in interface&nbsp;<code>org.jboss.tm.ExtendedJBossXATerminator</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - an id that uniquelly identifies a transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="getCurrentTransactionId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentTransactionId</h4>
<pre>public&nbsp;java.lang.Object&nbsp;getCurrentTransactionId()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>org.jboss.tm.ExtendedJBossXATerminator</code></span></div>
<div class="block">Obtain the unique id of the currently associated transaction</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getCurrentTransactionId</code>&nbsp;in interface&nbsp;<code>org.jboss.tm.ExtendedJBossXATerminator</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the id or null if no transaction is associated with the calling thread</dd>
</dl>
</li>
</ul>
<a name="removeImportedTransaction-javax.transaction.xa.Xid-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeImportedTransaction</h4>
<pre>public&nbsp;void&nbsp;removeImportedTransaction(javax.transaction.xa.Xid&nbsp;xid)
                               throws javax.transaction.xa.XAException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>org.jboss.tm.ExtendedJBossXATerminator</code></span></div>
<div class="block">forget about this imported transaction.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>removeImportedTransaction</code>&nbsp;in interface&nbsp;<code>org.jboss.tm.ExtendedJBossXATerminator</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>xid</code> - the global Xid of the transaction.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.transaction.xa.XAException</code> - thrown if there are any errors.</dd>
</dl>
</li>
</ul>
<a name="getXidsToRecoverForParentNode-boolean-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getXidsToRecoverForParentNode</h4>
<pre>public&nbsp;javax.transaction.xa.Xid[]&nbsp;getXidsToRecoverForParentNode(boolean&nbsp;recoverInFlight,
                                                                java.lang.String&nbsp;parentNodeName,
                                                                int&nbsp;recoveryFlags)
                                                         throws javax.transaction.xa.XAException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>org.jboss.tm.ExtendedJBossXATerminator</code></span></div>
<div class="block">Get a list of Xids that are potentially recoverable.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getXidsToRecoverForParentNode</code>&nbsp;in interface&nbsp;<code>org.jboss.tm.ExtendedJBossXATerminator</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recoverInFlight</code> - indicates whether or not to include transactions that have not begun 2PC</dd>
<dd><code>parentNodeName</code> - If not null then only recover transactions for this node</dd>
<dd><code>recoveryFlags</code> - One of TMSTARTRSCAN, TMENDRSCAN, TMNOFLAGS. TMNOFLAGS must be used when no other flags are
                      set in the parameter. These constants are defined in javax.transaction.xa.XAResource interface</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an array of Xids to recover</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.transaction.xa.XAException</code> - An error has occurred. Possible values are XAER_RMERR, XAER_RMFAIL, XAER_INVAL, and XAER_PROTO.</dd>
</dl>
</li>
</ul>
<a name="doRecover-javax.transaction.xa.Xid-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doRecover</h4>
<pre>public&nbsp;javax.transaction.xa.Xid[]&nbsp;doRecover(javax.transaction.xa.Xid&nbsp;xid,
                                            java.lang.String&nbsp;parentNodeName)
                                     throws javax.transaction.xa.XAException,
                                            javax.transaction.NotSupportedException</pre>
<div class="block"><p>
 Recovering /JCA section of object store.
 The filtering functionality on xid or parentNodeName is not permitted and throws <code>NotSupportedException</code>.<br>
 Expected to be called only with null parameters <code>doRecover(null, null)</code></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>doRecover</code>&nbsp;in interface&nbsp;<code>org.jboss.tm.ExtendedJBossXATerminator</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>xid</code> - has to be null</dd>
<dd><code>parentNodeName</code> - has to be null</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>array of subordinate recovered xids</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.transaction.xa.XAException</code> - if recovery operation fails for the XA protocol reason</dd>
<dd><code>javax.transaction.NotSupportedException</code> - if not null params are passes as method parameters</dd>
</dl>
</li>
</ul>
<a name="isRecoveryByNodeOrXidSupported--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isRecoveryByNodeOrXidSupported</h4>
<pre>public&nbsp;boolean&nbsp;isRecoveryByNodeOrXidSupported()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>org.jboss.tm.ExtendedJBossXATerminator</code></span></div>
<div class="block">Test whether or not the <code>ExtendedJBossXATerminator.doRecover(Xid, String)</code> call will throw NotSupportedException</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>isRecoveryByNodeOrXidSupported</code>&nbsp;in interface&nbsp;<code>org.jboss.tm.ExtendedJBossXATerminator</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/XATerminatorImple.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Narayana: narayana-full 5.11.2.Final</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../com/arjuna/ats/internal/jta/transaction/jts/jca/WorkSynchronization.html" title="class in com.arjuna.ats.internal.jta.transaction.jts.jca"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?com/arjuna/ats/internal/jta/transaction/jts/jca/XATerminatorImple.html" target="_top">Frames</a></li>
<li><a href="XATerminatorImple.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2021 <a href="http://www.jboss.org">JBoss by Red Hat</a>. All rights reserved.</small></p>
</body>
</html>
