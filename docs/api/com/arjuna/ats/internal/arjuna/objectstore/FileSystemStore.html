<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.17) on Thu Feb 16 12:15:06 GMT 2023 -->
<title>FileSystemStore (Narayana: narayana-full 6.0.0.Final API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-02-16">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../../jquery/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FileSystemStore (Narayana: narayana-full 6.0.0.Final API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":6,"i13":10,"i14":10,"i15":6,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":6,"i27":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FileSystemStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Narayana: narayana-full 6.0.0.Final</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.arjuna.ats.internal.arjuna.objectstore</a></div>
<h2 title="Class FileSystemStore" class="title">Class FileSystemStore</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../arjuna/objectstore/ObjectStore.html" title="class in com.arjuna.ats.arjuna.objectstore">com.arjuna.ats.arjuna.objectstore.ObjectStore</a></li>
<li>
<ul class="inheritance">
<li>com.arjuna.ats.internal.arjuna.objectstore.FileSystemStore</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../../arjuna/objectstore/BaseStore.html" title="interface in com.arjuna.ats.arjuna.objectstore">BaseStore</a></code>, <code><a href="../../../arjuna/objectstore/ObjectStoreAPI.html" title="interface in com.arjuna.ats.arjuna.objectstore">ObjectStoreAPI</a></code>, <code><a href="../../../arjuna/objectstore/ParticipantStore.html" title="interface in com.arjuna.ats.arjuna.objectstore">ParticipantStore</a></code>, <code><a href="../../../arjuna/objectstore/RecoveryStore.html" title="interface in com.arjuna.ats.arjuna.objectstore">RecoveryStore</a></code>, <code><a href="../../../arjuna/objectstore/TxLog.html" title="interface in com.arjuna.ats.arjuna.objectstore">TxLog</a></code></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="FileLockingStore.html" title="class in com.arjuna.ats.internal.arjuna.objectstore">FileLockingStore</a></code>, <code><a href="LogStore.html" title="class in com.arjuna.ats.internal.arjuna.objectstore">LogStore</a></code>, <code><a href="ShadowingStore.html" title="class in com.arjuna.ats.internal.arjuna.objectstore">ShadowingStore</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">FileSystemStore</span>
extends <a href="../../../arjuna/objectstore/ObjectStore.html" title="class in com.arjuna.ats.arjuna.objectstore">ObjectStore</a></pre>
<div class="block">The basic class for file system object stores. This is not actually
 an object store implementation, since other classes must provide
 implementations of the abstract methods. It does provide implementations
 of common methods though.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>JTS 1.0.</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>$Id: FileSystemStore.java 2342 2006-03-30 13:06:17Z  $</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Mark Little (mark@arjuna.com)</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doSync">doSync</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#scanZeroLengthFiles">scanZeroLengthFiles</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#syncWrites">syncWrites</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.com.arjuna.ats.arjuna.objectstore.ObjectStore">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.arjuna.ats.arjuna.objectstore.<a href="../../../arjuna/objectstore/ObjectStore.html" title="class in com.arjuna.ats.arjuna.objectstore">ObjectStore</a></h3>
<code><a href="../../../arjuna/objectstore/ObjectStore.html#_objectStoreRoot">_objectStoreRoot</a>, <a href="../../../arjuna/objectstore/ObjectStore.html#shareStatus">shareStatus</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(com.arjuna.ats.arjuna.common.ObjectStoreEnvironmentBean)">FileSystemStore</a></span>&#8203;(<a href="../../../arjuna/common/ObjectStoreEnvironmentBean.html" title="class in com.arjuna.ats.arjuna.common">ObjectStoreEnvironmentBean</a>&nbsp;objectStoreEnvironmentBean)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addToCache(java.lang.String)">addToCache</a></span>&#8203;(java.lang.String&nbsp;fname)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#allObjUids(java.lang.String,com.arjuna.ats.arjuna.state.InputObjectState,int)">allObjUids</a></span>&#8203;(java.lang.String&nbsp;tName,
          <a href="../../../arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;state,
          int&nbsp;match)</code></th>
<td class="colLast">
<div class="block">Given a type name initialise the <code>state</code> to contains all of
 the Uids of objects of that type</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#allTypes(com.arjuna.ats.arjuna.state.InputObjectState)">allTypes</a></span>&#8203;(<a href="../../../arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;foundTypes)</code></th>
<td class="colLast">
<div class="block">Obtain all types of objects stored in the object store.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#allTypes(com.arjuna.ats.arjuna.state.OutputObjectState,java.lang.String)">allTypes</a></span>&#8203;(<a href="../../../arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;foundTypes,
        java.lang.String&nbsp;root)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#closeAndUnlock(java.io.File,java.io.FileInputStream,java.io.FileOutputStream)">closeAndUnlock</a></span>&#8203;(java.io.File&nbsp;fd,
              java.io.FileInputStream&nbsp;ifile,
              java.io.FileOutputStream&nbsp;ofile)</code></th>
<td class="colLast">
<div class="block">Unlock and close the file.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createHierarchy(java.lang.String)">createHierarchy</a></span>&#8203;(java.lang.String&nbsp;path)</code></th>
<td class="colLast">
<div class="block">Attempt to build up the object store in the file system dynamically.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#exists(java.lang.String)">exists</a></span>&#8203;(java.lang.String&nbsp;path)</code></th>
<td class="colLast">
<div class="block">If this object store implementation is exclusively working on a set of
 object states, then this method will check a file cache first.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#genPathName(com.arjuna.ats.arjuna.common.Uid,java.lang.String,int)">genPathName</a></span>&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
           java.lang.String&nbsp;tName,
           int&nbsp;ostype)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getStoreName()">getStoreName</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lock(java.io.File,int,boolean)">lock</a></span>&#8203;(java.io.File&nbsp;fd,
    int&nbsp;lmode,
    boolean&nbsp;create)</code></th>
<td class="colLast">
<div class="block">Lock the file in the object store.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected java.io.File</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#openAndLock(java.lang.String,int,boolean)">openAndLock</a></span>&#8203;(java.lang.String&nbsp;fname,
           int&nbsp;lmode,
           boolean&nbsp;create)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#read_committed(com.arjuna.ats.arjuna.common.Uid,java.lang.String)">read_committed</a></span>&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;storeUid,
              java.lang.String&nbsp;tName)</code></th>
<td class="colLast">
<div class="block">Read the object's committed state.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected abstract <a href="../../../arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#read_state(com.arjuna.ats.arjuna.common.Uid,java.lang.String,int)">read_state</a></span>&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;u,
          java.lang.String&nbsp;tn,
          int&nbsp;s)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#read_uncommitted(com.arjuna.ats.arjuna.common.Uid,java.lang.String)">read_uncommitted</a></span>&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;storeUid,
                java.lang.String&nbsp;tName)</code></th>
<td class="colLast">
<div class="block">Read the object's shadowed state.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#remove_committed(com.arjuna.ats.arjuna.common.Uid,java.lang.String)">remove_committed</a></span>&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;storeUid,
                java.lang.String&nbsp;tName)</code></th>
<td class="colLast">
<div class="block">Remove the object's committed state.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected abstract boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#remove_state(com.arjuna.ats.arjuna.common.Uid,java.lang.String,int)">remove_state</a></span>&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;u,
            java.lang.String&nbsp;tn,
            int&nbsp;s)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#remove_uncommitted(com.arjuna.ats.arjuna.common.Uid,java.lang.String)">remove_uncommitted</a></span>&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;storeUid,
                  java.lang.String&nbsp;tName)</code></th>
<td class="colLast">
<div class="block">Remove the object's uncommitted state.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeFromCache(java.lang.String)">removeFromCache</a></span>&#8203;(java.lang.String&nbsp;fname)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeFromCache(java.lang.String,boolean)">removeFromCache</a></span>&#8203;(java.lang.String&nbsp;fname,
               boolean&nbsp;warn)</code></th>
<td class="colLast">
<div class="block">Print a warning if the file to be removed is not in the cache.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#renameFromTo(java.io.File,java.io.File)">renameFromTo</a></span>&#8203;(java.io.File&nbsp;from,
            java.io.File&nbsp;to)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#renameFromToInternal(java.io.File,java.io.File)">renameFromToInternal</a></span>&#8203;(java.io.File&nbsp;from,
                    java.io.File&nbsp;to)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#supressEntry(java.lang.String)">supressEntry</a></span>&#8203;(java.lang.String&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Suppress directories of the specified type from
 allTypes etc?</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#synchronousWrites()">synchronousWrites</a></span>()</code></th>
<td class="colLast">
<div class="block">Are synchronous write enabled?</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#truncate(java.lang.String)">truncate</a></span>&#8203;(java.lang.String&nbsp;value)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unlock(java.io.File)">unlock</a></span>&#8203;(java.io.File&nbsp;fd)</code></th>
<td class="colLast">
<div class="block">Unlock the file in the object store.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#write_committed(com.arjuna.ats.arjuna.common.Uid,java.lang.String,com.arjuna.ats.arjuna.state.OutputObjectState)">write_committed</a></span>&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;storeUid,
               java.lang.String&nbsp;tName,
               <a href="../../../arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;state)</code></th>
<td class="colLast">
<div class="block">Write a new copy of the object's committed state.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>protected abstract boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#write_state(com.arjuna.ats.arjuna.common.Uid,java.lang.String,com.arjuna.ats.arjuna.state.OutputObjectState,int)">write_state</a></span>&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;u,
           java.lang.String&nbsp;tn,
           <a href="../../../arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;buff,
           int&nbsp;s)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#write_uncommitted(com.arjuna.ats.arjuna.common.Uid,java.lang.String,com.arjuna.ats.arjuna.state.OutputObjectState)">write_uncommitted</a></span>&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;storeUid,
                 java.lang.String&nbsp;tName,
                 <a href="../../../arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;state)</code></th>
<td class="colLast">
<div class="block">Write a copy of the object's uncommitted state.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.arjuna.ats.arjuna.objectstore.ObjectStore">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.arjuna.ats.arjuna.objectstore.<a href="../../../arjuna/objectstore/ObjectStore.html" title="class in com.arjuna.ats.arjuna.objectstore">ObjectStore</a></h3>
<code><a href="../../../arjuna/objectstore/ObjectStore.html#allObjUids(java.lang.String,com.arjuna.ats.arjuna.state.InputObjectState)">allObjUids</a>, <a href="../../../arjuna/objectstore/ObjectStore.html#fullCommitNeeded()">fullCommitNeeded</a>, <a href="../../../arjuna/objectstore/ObjectStore.html#initialise(com.arjuna.ats.arjuna.common.Uid,java.lang.String)">initialise</a>, <a href="../../../arjuna/objectstore/ObjectStore.html#isType(com.arjuna.ats.arjuna.common.Uid,java.lang.String,int)">isType</a>, <a href="../../../arjuna/objectstore/ObjectStore.html#locateStore(java.lang.String)">locateStore</a>, <a href="../../../arjuna/objectstore/ObjectStore.html#revealedId(java.lang.String)">revealedId</a>, <a href="../../../arjuna/objectstore/ObjectStore.html#shareState()">shareState</a>, <a href="../../../arjuna/objectstore/ObjectStore.html#start()">start</a>, <a href="../../../arjuna/objectstore/ObjectStore.html#stop()">stop</a>, <a href="../../../arjuna/objectstore/ObjectStore.html#storeDir()">storeDir</a>, <a href="../../../arjuna/objectstore/ObjectStore.html#storeRoot()">storeRoot</a>, <a href="../../../arjuna/objectstore/ObjectStore.html#sync()">sync</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.arjuna.ats.arjuna.objectstore.ParticipantStore">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.arjuna.ats.arjuna.objectstore.<a href="../../../arjuna/objectstore/ParticipantStore.html" title="interface in com.arjuna.ats.arjuna.objectstore">ParticipantStore</a></h3>
<code><a href="../../../arjuna/objectstore/ParticipantStore.html#commit_state(com.arjuna.ats.arjuna.common.Uid,java.lang.String)">commit_state</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.arjuna.ats.arjuna.objectstore.RecoveryStore">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.arjuna.ats.arjuna.objectstore.<a href="../../../arjuna/objectstore/RecoveryStore.html" title="interface in com.arjuna.ats.arjuna.objectstore">RecoveryStore</a></h3>
<code><a href="../../../arjuna/objectstore/RecoveryStore.html#currentState(com.arjuna.ats.arjuna.common.Uid,java.lang.String)">currentState</a>, <a href="../../../arjuna/objectstore/RecoveryStore.html#hide_state(com.arjuna.ats.arjuna.common.Uid,java.lang.String)">hide_state</a>, <a href="../../../arjuna/objectstore/RecoveryStore.html#reveal_state(com.arjuna.ats.arjuna.common.Uid,java.lang.String)">reveal_state</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="syncWrites">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>syncWrites</h4>
<pre>protected&nbsp;boolean syncWrites</pre>
</li>
</ul>
<a id="doSync">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doSync</h4>
<pre>protected volatile&nbsp;boolean doSync</pre>
</li>
</ul>
<a id="scanZeroLengthFiles">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>scanZeroLengthFiles</h4>
<pre>protected&nbsp;boolean scanZeroLengthFiles</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(com.arjuna.ats.arjuna.common.ObjectStoreEnvironmentBean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FileSystemStore</h4>
<pre>public&nbsp;FileSystemStore&#8203;(<a href="../../../arjuna/common/ObjectStoreEnvironmentBean.html" title="class in com.arjuna.ats.arjuna.common">ObjectStoreEnvironmentBean</a>&nbsp;objectStoreEnvironmentBean)
                throws <a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getStoreName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStoreName</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getStoreName()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the "name" of the object store. Where in the hierarchy it appears, e.g., /ObjectStore/MyName/...</dd>
</dl>
</li>
</ul>
<a id="read_committed(com.arjuna.ats.arjuna.common.Uid,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read_committed</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;read_committed&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;storeUid,
                                       java.lang.String&nbsp;tName)
                                throws <a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../arjuna/objectstore/ParticipantStore.html#read_committed(com.arjuna.ats.arjuna.common.Uid,java.lang.String)">ParticipantStore</a></code></span></div>
<div class="block">Read the object's committed state.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storeUid</code> - The object to work on.</dd>
<dd><code>tName</code> - The type of the object to work on.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the state of the object.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a id="read_uncommitted(com.arjuna.ats.arjuna.common.Uid,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read_uncommitted</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;read_uncommitted&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;storeUid,
                                         java.lang.String&nbsp;tName)
                                  throws <a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../arjuna/objectstore/ParticipantStore.html#read_uncommitted(com.arjuna.ats.arjuna.common.Uid,java.lang.String)">ParticipantStore</a></code></span></div>
<div class="block">Read the object's shadowed state.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storeUid</code> - The object to work on.</dd>
<dd><code>tName</code> - The type of the object to work on.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the state of the object.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a id="remove_committed(com.arjuna.ats.arjuna.common.Uid,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove_committed</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;remove_committed&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;storeUid,
                                java.lang.String&nbsp;tName)
                         throws <a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../arjuna/objectstore/TxLog.html#remove_committed(com.arjuna.ats.arjuna.common.Uid,java.lang.String)">TxLog</a></code></span></div>
<div class="block">Remove the object's committed state.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storeUid</code> - The object to work on.</dd>
<dd><code>tName</code> - The type of the object to work on.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if no errors occurred, <code>false</code>
 otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a id="remove_uncommitted(com.arjuna.ats.arjuna.common.Uid,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove_uncommitted</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;remove_uncommitted&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;storeUid,
                                  java.lang.String&nbsp;tName)
                           throws <a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../arjuna/objectstore/ParticipantStore.html#remove_uncommitted(com.arjuna.ats.arjuna.common.Uid,java.lang.String)">ParticipantStore</a></code></span></div>
<div class="block">Remove the object's uncommitted state.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storeUid</code> - The object to work on.</dd>
<dd><code>tName</code> - The type of the object to work on.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if no errors occurred, <code>false</code>
 otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a id="write_committed(com.arjuna.ats.arjuna.common.Uid,java.lang.String,com.arjuna.ats.arjuna.state.OutputObjectState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write_committed</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;write_committed&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;storeUid,
                               java.lang.String&nbsp;tName,
                               <a href="../../../arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;state)
                        throws <a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../arjuna/objectstore/TxLog.html#write_committed(com.arjuna.ats.arjuna.common.Uid,java.lang.String,com.arjuna.ats.arjuna.state.OutputObjectState)">TxLog</a></code></span></div>
<div class="block">Write a new copy of the object's committed state.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storeUid</code> - The object to work on.</dd>
<dd><code>tName</code> - The type of the object to work on.</dd>
<dd><code>state</code> - The state to write.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if no errors occurred, <code>false</code>
 otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a id="write_uncommitted(com.arjuna.ats.arjuna.common.Uid,java.lang.String,com.arjuna.ats.arjuna.state.OutputObjectState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write_uncommitted</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;write_uncommitted&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;storeUid,
                                 java.lang.String&nbsp;tName,
                                 <a href="../../../arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;state)
                          throws <a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../arjuna/objectstore/ParticipantStore.html#write_uncommitted(com.arjuna.ats.arjuna.common.Uid,java.lang.String,com.arjuna.ats.arjuna.state.OutputObjectState)">ParticipantStore</a></code></span></div>
<div class="block">Write a copy of the object's uncommitted state.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>storeUid</code> - The object to work on.</dd>
<dd><code>tName</code> - The type of the object to work on.</dd>
<dd><code>state</code> - The state to write.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if no errors occurred, <code>false</code>
 otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a id="allObjUids(java.lang.String,com.arjuna.ats.arjuna.state.InputObjectState,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allObjUids</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;allObjUids&#8203;(java.lang.String&nbsp;tName,
                          <a href="../../../arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;state,
                          int&nbsp;match)
                   throws <a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<div class="block">Given a type name initialise the <code>state</code> to contains all of
 the Uids of objects of that type</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tName</code> - The type to scan for.</dd>
<dd><code>state</code> - The object state in which to store the Uids</dd>
<dd><code>match</code> - The file type to look for (e.g., committed, shadowed). [StateStatus] Note: m=OS_UNKNOWN matches any state.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if no errors occurred, <code>false</code>
 otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a id="allTypes(com.arjuna.ats.arjuna.state.InputObjectState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allTypes</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;allTypes&#8203;(<a href="../../../arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;foundTypes)
                 throws <a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../arjuna/objectstore/RecoveryStore.html#allTypes(com.arjuna.ats.arjuna.state.InputObjectState)">RecoveryStore</a></code></span></div>
<div class="block">Obtain all types of objects stored in the object store.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>foundTypes</code> - The state in which to store the types.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if no errors occurred, <code>false</code>
 otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a id="read_state(com.arjuna.ats.arjuna.common.Uid,java.lang.String,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read_state</h4>
<pre class="methodSignature">protected abstract&nbsp;<a href="../../../arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;read_state&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;u,
                                               java.lang.String&nbsp;tn,
                                               int&nbsp;s)
                                        throws <a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a id="remove_state(com.arjuna.ats.arjuna.common.Uid,java.lang.String,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove_state</h4>
<pre class="methodSignature">protected abstract&nbsp;boolean&nbsp;remove_state&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;u,
                                        java.lang.String&nbsp;tn,
                                        int&nbsp;s)
                                 throws <a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a id="write_state(com.arjuna.ats.arjuna.common.Uid,java.lang.String,com.arjuna.ats.arjuna.state.OutputObjectState,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write_state</h4>
<pre class="methodSignature">protected abstract&nbsp;boolean&nbsp;write_state&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;u,
                                       java.lang.String&nbsp;tn,
                                       <a href="../../../arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;buff,
                                       int&nbsp;s)
                                throws <a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a id="synchronousWrites()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>synchronousWrites</h4>
<pre class="methodSignature">protected final&nbsp;boolean&nbsp;synchronousWrites()</pre>
<div class="block">Are synchronous write enabled?</div>
</li>
</ul>
<a id="lock(java.io.File,int,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;lock&#8203;(java.io.File&nbsp;fd,
                       int&nbsp;lmode,
                       boolean&nbsp;create)</pre>
<div class="block">Lock the file in the object store.</div>
</li>
</ul>
<a id="unlock(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;unlock&#8203;(java.io.File&nbsp;fd)</pre>
<div class="block">Unlock the file in the object store.</div>
</li>
</ul>
<a id="closeAndUnlock(java.io.File,java.io.FileInputStream,java.io.FileOutputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeAndUnlock</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;closeAndUnlock&#8203;(java.io.File&nbsp;fd,
                                 java.io.FileInputStream&nbsp;ifile,
                                 java.io.FileOutputStream&nbsp;ofile)</pre>
<div class="block">Unlock and close the file. Note that if the unlock fails we set
 the return value to false to indicate an error but rely on the
 close to really do the unlock.</div>
</li>
</ul>
<a id="openAndLock(java.lang.String,int,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openAndLock</h4>
<pre class="methodSignature">protected&nbsp;java.io.File&nbsp;openAndLock&#8203;(java.lang.String&nbsp;fname,
                                   int&nbsp;lmode,
                                   boolean&nbsp;create)
                            throws <a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a id="renameFromTo(java.io.File,java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>renameFromTo</h4>
<pre class="methodSignature">protected final&nbsp;boolean&nbsp;renameFromTo&#8203;(java.io.File&nbsp;from,
                                     java.io.File&nbsp;to)</pre>
</li>
</ul>
<a id="renameFromToInternal(java.io.File,java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>renameFromToInternal</h4>
<pre class="methodSignature">protected final&nbsp;boolean&nbsp;renameFromToInternal&#8203;(java.io.File&nbsp;from,
                                             java.io.File&nbsp;to)</pre>
</li>
</ul>
<a id="allTypes(com.arjuna.ats.arjuna.state.OutputObjectState,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allTypes</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;allTypes&#8203;(<a href="../../../arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;foundTypes,
                           java.lang.String&nbsp;root)
                    throws <a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a id="genPathName(com.arjuna.ats.arjuna.common.Uid,java.lang.String,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>genPathName</h4>
<pre class="methodSignature">protected&nbsp;java.lang.String&nbsp;genPathName&#8203;(<a href="../../../arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
                                       java.lang.String&nbsp;tName,
                                       int&nbsp;ostype)
                                throws <a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the file name for the state of the object
 identified by the Uid and TypeName. If the StateType argument
 is OS_SHADOW then the Uid part of the name includes # characters.
 The magic number SLOP below is the number of extra characters needed
 to make up the entire path.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a id="supressEntry(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>supressEntry</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;supressEntry&#8203;(java.lang.String&nbsp;name)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../arjuna/objectstore/ObjectStore.html#supressEntry(java.lang.String)">ObjectStore</a></code></span></div>
<div class="block">Suppress directories of the specified type from
 allTypes etc?</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../arjuna/objectstore/ObjectStore.html#supressEntry(java.lang.String)">supressEntry</a></code>&nbsp;in class&nbsp;<code><a href="../../../arjuna/objectstore/ObjectStore.html" title="class in com.arjuna.ats.arjuna.objectstore">ObjectStore</a></code></dd>
</dl>
</li>
</ul>
<a id="truncate(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>truncate</h4>
<pre class="methodSignature">protected&nbsp;java.lang.String&nbsp;truncate&#8203;(java.lang.String&nbsp;value)</pre>
</li>
</ul>
<a id="createHierarchy(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createHierarchy</h4>
<pre class="methodSignature">protected final&nbsp;boolean&nbsp;createHierarchy&#8203;(java.lang.String&nbsp;path)
                                 throws <a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<div class="block">Attempt to build up the object store in the file system dynamically.
 This creates directories as required as new types are added to the
 store. Note that we made sure the root object store was created and
 writable at construction time.

 WARNING: on a multi-processor box it is possible that multiple threads may
 try to create the same hierarchy at the same time. What will tend to happen
 is that one thread will succeed and the other(s) will fail. However, if a failed
 thread just assumes that the directory is being created by another thread, then
 we're in trouble, because although this may be the case, the directory structure
 may not have actually been created - it may still be in the process of being
 created. So, we have to err on the side of caution and try to create the directory
 a few times. (This can happen across processes too.)</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a id="exists(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exists</h4>
<pre class="methodSignature">protected final&nbsp;boolean&nbsp;exists&#8203;(java.lang.String&nbsp;path)</pre>
<div class="block">If this object store implementation is exclusively working on a set of
 object states, then this method will check a file cache first.
 Otherwise, we must go back to the file system each time to check the
 status of the file.

 If we add a FileDescriptor cache a la the C++ version then we would
 be able to get rid of the state cache and simply check to see if we
 had a fd for it.</div>
</li>
</ul>
<a id="addToCache(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addToCache</h4>
<pre class="methodSignature">protected final&nbsp;void&nbsp;addToCache&#8203;(java.lang.String&nbsp;fname)</pre>
</li>
</ul>
<a id="removeFromCache(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFromCache</h4>
<pre class="methodSignature">protected final&nbsp;void&nbsp;removeFromCache&#8203;(java.lang.String&nbsp;fname)</pre>
</li>
</ul>
<a id="removeFromCache(java.lang.String,boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>removeFromCache</h4>
<pre class="methodSignature">protected final&nbsp;void&nbsp;removeFromCache&#8203;(java.lang.String&nbsp;fname,
                                     boolean&nbsp;warn)</pre>
<div class="block">Print a warning if the file to be removed is not in the cache.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.1.1.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FileSystemStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Narayana: narayana-full 6.0.0.Final</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2023 <a href="http://www.jboss.org">JBoss by Red Hat</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
