<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_275) on Thu May 06 10:52:08 CEST 2021 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ShadowingStore (Narayana: narayana-full 5.11.2.Final API)</title>
<meta name="date" content="2021-05-06">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ShadowingStore (Narayana: narayana-full 5.11.2.Final API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ShadowingStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Narayana: narayana-full 5.11.2.Final</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/NullActionStore.html" title="class in com.arjuna.ats.internal.arjuna.objectstore"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/ShadowNoFileLockStore.html" title="class in com.arjuna.ats.internal.arjuna.objectstore"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/arjuna/ats/internal/arjuna/objectstore/ShadowingStore.html" target="_top">Frames</a></li>
<li><a href="ShadowingStore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.arjuna.ats.internal.arjuna.objectstore</div>
<h2 title="Class ShadowingStore" class="title">Class ShadowingStore</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html" title="class in com.arjuna.ats.arjuna.objectstore">com.arjuna.ats.arjuna.objectstore.ObjectStore</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html" title="class in com.arjuna.ats.internal.arjuna.objectstore">com.arjuna.ats.internal.arjuna.objectstore.FileSystemStore</a></li>
<li>
<ul class="inheritance">
<li>com.arjuna.ats.internal.arjuna.objectstore.ShadowingStore</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../com/arjuna/ats/arjuna/objectstore/BaseStore.html" title="interface in com.arjuna.ats.arjuna.objectstore">BaseStore</a>, <a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStoreAPI.html" title="interface in com.arjuna.ats.arjuna.objectstore">ObjectStoreAPI</a>, <a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ParticipantStore.html" title="interface in com.arjuna.ats.arjuna.objectstore">ParticipantStore</a>, <a href="../../../../../../com/arjuna/ats/arjuna/objectstore/RecoveryStore.html" title="interface in com.arjuna.ats.arjuna.objectstore">RecoveryStore</a>, <a href="../../../../../../com/arjuna/ats/arjuna/objectstore/TxLog.html" title="interface in com.arjuna.ats.arjuna.objectstore">TxLog</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/ShadowNoFileLockStore.html" title="class in com.arjuna.ats.internal.arjuna.objectstore">ShadowNoFileLockStore</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">ShadowingStore</span>
extends <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html" title="class in com.arjuna.ats.internal.arjuna.objectstore">FileSystemStore</a></pre>
<div class="block">A shadowing file store implementation. Each version of the object's state is
 maintained in a separate file. So, the original is stored in one file, and
 the shadow (the updated state) is stored in another. When the transaction
 commits, the shadow is made the original. If the transaction rolls back then
 the shadow is simply removed from the object store.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>$Id: ShadowingStore.java 2342 2006-03-30 13:06:17Z $</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Mark Little (mark@arjuna.com)</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static char</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/ShadowingStore.html#HIDDINGCHAR">HIDDINGCHAR</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static char</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/ShadowingStore.html#SHADOWCHAR">SHADOWCHAR</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.com.arjuna.ats.internal.arjuna.objectstore.FileSystemStore">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.arjuna.ats.internal.arjuna.objectstore.<a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html" title="class in com.arjuna.ats.internal.arjuna.objectstore">FileSystemStore</a></h3>
<code><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#doSync">doSync</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#scanZeroLengthFiles">scanZeroLengthFiles</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#syncWrites">syncWrites</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.com.arjuna.ats.arjuna.objectstore.ObjectStore">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.arjuna.ats.arjuna.objectstore.<a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html" title="class in com.arjuna.ats.arjuna.objectstore">ObjectStore</a></h3>
<code><a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html#Z:Z_objectStoreRoot">_objectStoreRoot</a>, <a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html#shareStatus">shareStatus</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/ShadowingStore.html#ShadowingStore-com.arjuna.ats.arjuna.common.ObjectStoreEnvironmentBean-">ShadowingStore</a></span>(<a href="../../../../../../com/arjuna/ats/arjuna/common/ObjectStoreEnvironmentBean.html" title="class in com.arjuna.ats.arjuna.common">ObjectStoreEnvironmentBean</a>&nbsp;objectStoreEnvironmentBean)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/ShadowingStore.html#commit_state-com.arjuna.ats.arjuna.common.Uid-java.lang.String-">commit_state</a></span>(<a href="../../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
            java.lang.String&nbsp;tName)</code>
<div class="block">Commit a previous write_state operation which was made with the SHADOW
 StateType argument.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/ShadowingStore.html#currentState-com.arjuna.ats.arjuna.common.Uid-java.lang.String-">currentState</a></span>(<a href="../../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
            java.lang.String&nbsp;tName)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/ShadowingStore.html#genPathName-com.arjuna.ats.arjuna.common.Uid-java.lang.String-int-">genPathName</a></span>(<a href="../../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
           java.lang.String&nbsp;tName,
           int&nbsp;ft)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/ShadowingStore.html#hide_state-com.arjuna.ats.arjuna.common.Uid-java.lang.String-">hide_state</a></span>(<a href="../../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
          java.lang.String&nbsp;tName)</code>
<div class="block">Hide/reveal an object regardless of state.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../com/arjuna/ats/arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/ShadowingStore.html#read_state-com.arjuna.ats.arjuna.common.Uid-java.lang.String-int-">read_state</a></span>(<a href="../../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
          java.lang.String&nbsp;tName,
          int&nbsp;ft)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/ShadowingStore.html#remove_state-com.arjuna.ats.arjuna.common.Uid-java.lang.String-int-">remove_state</a></span>(<a href="../../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
            java.lang.String&nbsp;name,
            int&nbsp;ft)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/ShadowingStore.html#reveal_state-com.arjuna.ats.arjuna.common.Uid-java.lang.String-">reveal_state</a></span>(<a href="../../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
            java.lang.String&nbsp;tName)</code>
<div class="block">Reveal a hidden object's state.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/ShadowingStore.html#revealedId-java.lang.String-">revealedId</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">Given a type id which is possibly hidden (e.g., has a ! at the
 end), make it a valid Uid so we can return it.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/ShadowingStore.html#write_state-com.arjuna.ats.arjuna.common.Uid-java.lang.String-com.arjuna.ats.arjuna.state.OutputObjectState-int-">write_state</a></span>(<a href="../../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
           java.lang.String&nbsp;tName,
           <a href="../../../../../../com/arjuna/ats/arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;state,
           int&nbsp;ft)</code>
<div class="block">write_state saves the ObjectState in a file named by the type and Uid of
 the ObjectState.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.arjuna.ats.internal.arjuna.objectstore.FileSystemStore">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.arjuna.ats.internal.arjuna.objectstore.<a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html" title="class in com.arjuna.ats.internal.arjuna.objectstore">FileSystemStore</a></h3>
<code><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#addToCache-java.lang.String-">addToCache</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#allObjUids-java.lang.String-com.arjuna.ats.arjuna.state.InputObjectState-int-">allObjUids</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#allTypes-com.arjuna.ats.arjuna.state.InputObjectState-">allTypes</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#allTypes-com.arjuna.ats.arjuna.state.OutputObjectState-java.lang.String-">allTypes</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#closeAndUnlock-java.io.File-java.io.FileInputStream-java.io.FileOutputStream-">closeAndUnlock</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#createHierarchy-java.lang.String-">createHierarchy</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#exists-java.lang.String-">exists</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#getStoreName--">getStoreName</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#lock-java.io.File-int-boolean-">lock</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#openAndLock-java.lang.String-int-boolean-">openAndLock</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#read_committed-com.arjuna.ats.arjuna.common.Uid-java.lang.String-">read_committed</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#read_uncommitted-com.arjuna.ats.arjuna.common.Uid-java.lang.String-">read_uncommitted</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#remove_committed-com.arjuna.ats.arjuna.common.Uid-java.lang.String-">remove_committed</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#remove_uncommitted-com.arjuna.ats.arjuna.common.Uid-java.lang.String-">remove_uncommitted</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#removeFromCache-java.lang.String-">removeFromCache</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#removeFromCache-java.lang.String-boolean-">removeFromCache</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#renameFromTo-java.io.File-java.io.File-">renameFromTo</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#renameFromToInternal-java.io.File-java.io.File-">renameFromToInternal</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#supressEntry-java.lang.String-">supressEntry</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#synchronousWrites--">synchronousWrites</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#truncate-java.lang.String-">truncate</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#unlock-java.io.File-">unlock</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#write_committed-com.arjuna.ats.arjuna.common.Uid-java.lang.String-com.arjuna.ats.arjuna.state.OutputObjectState-">write_committed</a>, <a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#write_uncommitted-com.arjuna.ats.arjuna.common.Uid-java.lang.String-com.arjuna.ats.arjuna.state.OutputObjectState-">write_uncommitted</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.arjuna.ats.arjuna.objectstore.ObjectStore">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.arjuna.ats.arjuna.objectstore.<a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html" title="class in com.arjuna.ats.arjuna.objectstore">ObjectStore</a></h3>
<code><a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html#allObjUids-java.lang.String-com.arjuna.ats.arjuna.state.InputObjectState-">allObjUids</a>, <a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html#fullCommitNeeded--">fullCommitNeeded</a>, <a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html#initialise-com.arjuna.ats.arjuna.common.Uid-java.lang.String-">initialise</a>, <a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html#isType-com.arjuna.ats.arjuna.common.Uid-java.lang.String-int-">isType</a>, <a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html#locateStore-java.lang.String-">locateStore</a>, <a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html#shareState--">shareState</a>, <a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html#start--">start</a>, <a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html#stop--">stop</a>, <a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html#storeDir--">storeDir</a>, <a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html#storeRoot--">storeRoot</a>, <a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html#sync--">sync</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="HIDDINGCHAR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HIDDINGCHAR</h4>
<pre>public static final&nbsp;char HIDDINGCHAR</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#com.arjuna.ats.internal.arjuna.objectstore.ShadowingStore.HIDDINGCHAR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SHADOWCHAR">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SHADOWCHAR</h4>
<pre>public static final&nbsp;char SHADOWCHAR</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#com.arjuna.ats.internal.arjuna.objectstore.ShadowingStore.SHADOWCHAR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ShadowingStore-com.arjuna.ats.arjuna.common.ObjectStoreEnvironmentBean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ShadowingStore</h4>
<pre>public&nbsp;ShadowingStore(<a href="../../../../../../com/arjuna/ats/arjuna/common/ObjectStoreEnvironmentBean.html" title="class in com.arjuna.ats.arjuna.common">ObjectStoreEnvironmentBean</a>&nbsp;objectStoreEnvironmentBean)
               throws <a href="../../../../../../com/arjuna/ats/arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/arjuna/ats/arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="currentState-com.arjuna.ats.arjuna.common.Uid-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentState</h4>
<pre>public&nbsp;int&nbsp;currentState(<a href="../../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
                        java.lang.String&nbsp;tName)
                 throws <a href="../../../../../../com/arjuna/ats/arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>objUid</code> - The object to query.</dd>
<dd><code>tName</code> - The type of the object to query.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>current state of object. Assumes that genPathName allocates
         enough extra space to allow extra chars to be added. State search
         is ordered OS_SHADOW, OS_UNCOMMITTED_HIDDEN, OS_ORIGINAL,
         OS_COMMITTED_HIDDEN.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/arjuna/ats/arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a name="commit_state-com.arjuna.ats.arjuna.common.Uid-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit_state</h4>
<pre>public&nbsp;boolean&nbsp;commit_state(<a href="../../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
                            java.lang.String&nbsp;tName)
                     throws <a href="../../../../../../com/arjuna/ats/arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<div class="block">Commit a previous write_state operation which was made with the SHADOW
 StateType argument. This is achieved by renaming the shadow and removing
 the hidden version.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>objUid</code> - The object to work on.</dd>
<dd><code>tName</code> - The type of the object to work on.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if no errors occurred, <code>false</code>
 otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/arjuna/ats/arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a name="hide_state-com.arjuna.ats.arjuna.common.Uid-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hide_state</h4>
<pre>public&nbsp;boolean&nbsp;hide_state(<a href="../../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
                          java.lang.String&nbsp;tName)
                   throws <a href="../../../../../../com/arjuna/ats/arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<div class="block">Hide/reveal an object regardless of state. Hidden objects cannot be read
 but they can be written (Crash recovery needs this).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>objUid</code> - The object to work on.</dd>
<dd><code>tName</code> - The type of the object to work on.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if no errors occurred, <code>false</code>
 otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/arjuna/ats/arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a name="reveal_state-com.arjuna.ats.arjuna.common.Uid-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reveal_state</h4>
<pre>public&nbsp;boolean&nbsp;reveal_state(<a href="../../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
                            java.lang.String&nbsp;tName)
                     throws <a href="../../../../../../com/arjuna/ats/arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../com/arjuna/ats/arjuna/objectstore/RecoveryStore.html#reveal_state-com.arjuna.ats.arjuna.common.Uid-java.lang.String-">RecoveryStore</a></code></span></div>
<div class="block">Reveal a hidden object's state.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>objUid</code> - The object to work on.</dd>
<dd><code>tName</code> - The type of the object to work on.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if no errors occurred, <code>false</code>
 otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/arjuna/ats/arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a name="genPathName-com.arjuna.ats.arjuna.common.Uid-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>genPathName</h4>
<pre>protected&nbsp;java.lang.String&nbsp;genPathName(<a href="../../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
                                       java.lang.String&nbsp;tName,
                                       int&nbsp;ft)
                                throws <a href="../../../../../../com/arjuna/ats/arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#genPathName-com.arjuna.ats.arjuna.common.Uid-java.lang.String-int-">genPathName</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html" title="class in com.arjuna.ats.internal.arjuna.objectstore">FileSystemStore</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the file name for the state of the object identified by the Uid
         and TypeName. If the StateType argument is OS_SHADOW then the Uid
         part of the name includes # characters. Builds on lower level
         genPathName which allocates enough slop to accomodate the extra
         chars.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/arjuna/ats/arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a name="revealedId-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>revealedId</h4>
<pre>protected&nbsp;java.lang.String&nbsp;revealedId(java.lang.String&nbsp;name)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html#revealedId-java.lang.String-">ObjectStore</a></code></span></div>
<div class="block">Given a type id which is possibly hidden (e.g., has a ! at the
 end), make it a valid Uid so we can return it.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html#revealedId-java.lang.String-">revealedId</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../com/arjuna/ats/arjuna/objectstore/ObjectStore.html" title="class in com.arjuna.ats.arjuna.objectstore">ObjectStore</a></code></dd>
</dl>
</li>
</ul>
<a name="read_state-com.arjuna.ats.arjuna.common.Uid-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read_state</h4>
<pre>protected&nbsp;<a href="../../../../../../com/arjuna/ats/arjuna/state/InputObjectState.html" title="class in com.arjuna.ats.arjuna.state">InputObjectState</a>&nbsp;read_state(<a href="../../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
                                      java.lang.String&nbsp;tName,
                                      int&nbsp;ft)
                               throws <a href="../../../../../../com/arjuna/ats/arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#read_state-com.arjuna.ats.arjuna.common.Uid-java.lang.String-int-">read_state</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html" title="class in com.arjuna.ats.internal.arjuna.objectstore">FileSystemStore</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/arjuna/ats/arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a name="remove_state-com.arjuna.ats.arjuna.common.Uid-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove_state</h4>
<pre>protected&nbsp;boolean&nbsp;remove_state(<a href="../../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
                               java.lang.String&nbsp;name,
                               int&nbsp;ft)
                        throws <a href="../../../../../../com/arjuna/ats/arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#remove_state-com.arjuna.ats.arjuna.common.Uid-java.lang.String-int-">remove_state</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html" title="class in com.arjuna.ats.internal.arjuna.objectstore">FileSystemStore</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/arjuna/ats/arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
<a name="write_state-com.arjuna.ats.arjuna.common.Uid-java.lang.String-com.arjuna.ats.arjuna.state.OutputObjectState-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>write_state</h4>
<pre>protected&nbsp;boolean&nbsp;write_state(<a href="../../../../../../com/arjuna/ats/arjuna/common/Uid.html" title="class in com.arjuna.ats.arjuna.common">Uid</a>&nbsp;objUid,
                              java.lang.String&nbsp;tName,
                              <a href="../../../../../../com/arjuna/ats/arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;state,
                              int&nbsp;ft)
                       throws <a href="../../../../../../com/arjuna/ats/arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></pre>
<div class="block">write_state saves the ObjectState in a file named by the type and Uid of
 the ObjectState. If the second argument is SHADOW, then the file name is
 different so that a subsequent commit_state invocation will rename the
 file.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html#write_state-com.arjuna.ats.arjuna.common.Uid-java.lang.String-com.arjuna.ats.arjuna.state.OutputObjectState-int-">write_state</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/FileSystemStore.html" title="class in com.arjuna.ats.internal.arjuna.objectstore">FileSystemStore</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../com/arjuna/ats/arjuna/exceptions/ObjectStoreException.html" title="class in com.arjuna.ats.arjuna.exceptions">ObjectStoreException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ShadowingStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Narayana: narayana-full 5.11.2.Final</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/NullActionStore.html" title="class in com.arjuna.ats.internal.arjuna.objectstore"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../com/arjuna/ats/internal/arjuna/objectstore/ShadowNoFileLockStore.html" title="class in com.arjuna.ats.internal.arjuna.objectstore"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/arjuna/ats/internal/arjuna/objectstore/ShadowingStore.html" target="_top">Frames</a></li>
<li><a href="ShadowingStore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2021 <a href="http://www.jboss.org">JBoss by Red Hat</a>. All rights reserved.</small></p>
</body>
</html>
