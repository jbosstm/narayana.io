<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.17) on Thu Feb 16 12:15:06 GMT 2023 -->
<title>CadaverRecord (Narayana: narayana-full 6.0.0.Final API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-02-16">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../../jquery/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CadaverRecord (Narayana: narayana-full 6.0.0.Final API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CadaverRecord.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Narayana: narayana-full 6.0.0.Final</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.arjuna.ats.internal.arjuna.abstractrecords</a></div>
<h2 title="Class CadaverRecord" class="title">Class CadaverRecord</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">com.arjuna.ats.arjuna.StateManager</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">com.arjuna.ats.arjuna.coordinator.AbstractRecord</a></li>
<li>
<ul class="inheritance">
<li><a href="RecoveryRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">com.arjuna.ats.internal.arjuna.abstractrecords.RecoveryRecord</a></li>
<li>
<ul class="inheritance">
<li><a href="PersistenceRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">com.arjuna.ats.internal.arjuna.abstractrecords.PersistenceRecord</a></li>
<li>
<ul class="inheritance">
<li>com.arjuna.ats.internal.arjuna.abstractrecords.CadaverRecord</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="DisposeRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">DisposeRecord</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">CadaverRecord</span>
extends <a href="PersistenceRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">PersistenceRecord</a></pre>
<div class="block">Cadaver records are created whenever a persistent object is deleted while
 still in the scope of an atomic action. This ensures that if the
 action commits the state of the persistent objects gets properly
 reflected back in the object participantStore. For objects that are only
 recoverable such work is unnecessary. Cadaver records replace
 PersistenceRecords in the record list of an atomic action so they must
 be merged with such records to enable both commits and aborts to occur.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>JTS 1.0.</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>$Id: CadaverRecord.java 2342 2006-03-30 13:06:17Z  $</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Mark Little (mark@arjuna.com)</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.com.arjuna.ats.internal.arjuna.abstractrecords.PersistenceRecord">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.arjuna.ats.internal.arjuna.abstractrecords.<a href="PersistenceRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">PersistenceRecord</a></h3>
<code><a href="PersistenceRecord.html#classicPrepare">classicPrepare</a>, <a href="PersistenceRecord.html#MAX_OBJECT_SIZE">MAX_OBJECT_SIZE</a>, <a href="PersistenceRecord.html#shadowMade">shadowMade</a>, <a href="PersistenceRecord.html#targetParticipantStore">targetParticipantStore</a>, <a href="PersistenceRecord.html#topLevelState">topLevelState</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.com.arjuna.ats.internal.arjuna.abstractrecords.RecoveryRecord">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.arjuna.ats.internal.arjuna.abstractrecords.<a href="RecoveryRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">RecoveryRecord</a></h3>
<code><a href="RecoveryRecord.html#objectAddr">objectAddr</a>, <a href="RecoveryRecord.html#state">state</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.com.arjuna.ats.arjuna.StateManager">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.arjuna.ats.arjuna.<a href="../../../arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></h3>
<code><a href="../../../arjuna/StateManager.html#modifyingActions">modifyingActions</a>, <a href="../../../arjuna/StateManager.html#objectModel">objectModel</a>, <a href="../../../arjuna/StateManager.html#objectUid">objectUid</a>, <a href="../../../arjuna/StateManager.html#usingActions">usingActions</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">CadaverRecord</a></span>()</code></th>
<td class="colLast">
<div class="block">Create a new instance using default values.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(com.arjuna.ats.arjuna.state.OutputObjectState,com.arjuna.ats.arjuna.objectstore.ParticipantStore,com.arjuna.ats.arjuna.StateManager)">CadaverRecord</a></span>&#8203;(<a href="../../../arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;os,
             <a href="../../../arjuna/objectstore/ParticipantStore.html" title="interface in com.arjuna.ats.arjuna.objectstore">ParticipantStore</a>&nbsp;participantStore,
             <a href="../../../arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a>&nbsp;sm)</code></th>
<td class="colLast">
<div class="block">Create a new instance, passing in the object that is being managed.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doSave()">doSave</a></span>()</code></th>
<td class="colLast">
<div class="block">Override the AbstractRecord.doSave.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#merge(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">merge</a></span>&#8203;(<a href="../../../arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;mergewith)</code></th>
<td class="colLast">
<div class="block">merge takes the information from the incoming PersistenceRecord and
 uses it to initialise the oldState information.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#nestedAbort()">nestedAbort</a></span>()</code></th>
<td class="colLast">
<div class="block">The nested transaction has aborted.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#nestedPrepare()">nestedPrepare</a></span>()</code></th>
<td class="colLast">
<div class="block">The nested transaction is preparing.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#print(java.io.PrintWriter)">print</a></span>&#8203;(java.io.PrintWriter&nbsp;strm)</code></th>
<td class="colLast">
<div class="block">Override AbstractRecord.print to write specific information to
 the specified stream.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#propagateOnAbort()">propagateOnAbort</a></span>()</code></th>
<td class="colLast">
<div class="block">Override default AbstractRecord method.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#shouldMerge(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">shouldMerge</a></span>&#8203;(<a href="../../../arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;ar)</code></th>
<td class="colLast">
<div class="block">Overrides AbstractRecord.shouldMerge</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#shouldReplace(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">shouldReplace</a></span>&#8203;(<a href="../../../arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;ar)</code></th>
<td class="colLast">
<div class="block">Overrides AbstractRecord.shouldReplace</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#topLevelAbort()">topLevelAbort</a></span>()</code></th>
<td class="colLast">
<div class="block">The nested transaction has aborted.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#topLevelCommit()">topLevelCommit</a></span>()</code></th>
<td class="colLast">
<div class="block">At topLevelCommit we commit the uncommitted version already saved
 into object participantStore.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#topLevelPrepare()">topLevelPrepare</a></span>()</code></th>
<td class="colLast">
<div class="block">At topLevelPrepare write uncommitted version into object participantStore.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#type()">type</a></span>()</code></th>
<td class="colLast">
<div class="block">The type of the class - may be used to save information in an
 hierarchical manner in the object participantStore.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#typeIs()">typeIs</a></span>()</code></th>
<td class="colLast">
<div class="block">The type of the record.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.arjuna.ats.internal.arjuna.abstractrecords.PersistenceRecord">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.arjuna.ats.internal.arjuna.abstractrecords.<a href="PersistenceRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">PersistenceRecord</a></h3>
<code><a href="PersistenceRecord.html#restore_state(com.arjuna.ats.arjuna.state.InputObjectState,int)">restore_state</a>, <a href="PersistenceRecord.html#save_state(com.arjuna.ats.arjuna.state.OutputObjectState,int)">save_state</a>, <a href="PersistenceRecord.html#shadowForced()">shadowForced</a>, <a href="PersistenceRecord.html#topLevelCleanup()">topLevelCleanup</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.arjuna.ats.internal.arjuna.abstractrecords.RecoveryRecord">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.arjuna.ats.internal.arjuna.abstractrecords.<a href="RecoveryRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">RecoveryRecord</a></h3>
<code><a href="RecoveryRecord.html#alter(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">alter</a>, <a href="RecoveryRecord.html#forgetAction(boolean)">forgetAction</a>, <a href="RecoveryRecord.html#nestedCommit()">nestedCommit</a>, <a href="RecoveryRecord.html#setValue(java.lang.Object)">setValue</a>, <a href="RecoveryRecord.html#shouldAdd(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">shouldAdd</a>, <a href="RecoveryRecord.html#shouldAlter(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">shouldAlter</a>, <a href="RecoveryRecord.html#value()">value</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.arjuna.ats.arjuna.coordinator.AbstractRecord">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.arjuna.ats.arjuna.coordinator.<a href="../../../arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a></h3>
<code><a href="../../../arjuna/coordinator/AbstractRecord.html#clearHeuristicDecision()">clearHeuristicDecision</a>, <a href="../../../arjuna/coordinator/AbstractRecord.html#create(int)">create</a>, <a href="../../../arjuna/coordinator/AbstractRecord.html#equals(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">equals</a>, <a href="../../../arjuna/coordinator/AbstractRecord.html#forgetHeuristic()">forgetHeuristic</a>, <a href="../../../arjuna/coordinator/AbstractRecord.html#getNext()">getNext</a>, <a href="../../../arjuna/coordinator/AbstractRecord.html#getPrevious()">getPrevious</a>, <a href="../../../arjuna/coordinator/AbstractRecord.html#getTypeOfObject()">getTypeOfObject</a>, <a href="../../../arjuna/coordinator/AbstractRecord.html#greaterThan(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">greaterThan</a>, <a href="../../../arjuna/coordinator/AbstractRecord.html#isPermittedTopLevelOnePhaseCommit()">isPermittedTopLevelOnePhaseCommit</a>, <a href="../../../arjuna/coordinator/AbstractRecord.html#lessThan(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">lessThan</a>, <a href="../../../arjuna/coordinator/AbstractRecord.html#nestedCleanup()">nestedCleanup</a>, <a href="../../../arjuna/coordinator/AbstractRecord.html#nestedOnePhaseCommit()">nestedOnePhaseCommit</a>, <a href="../../../arjuna/coordinator/AbstractRecord.html#order()">order</a>, <a href="../../../arjuna/coordinator/AbstractRecord.html#propagateOnCommit()">propagateOnCommit</a>, <a href="../../../arjuna/coordinator/AbstractRecord.html#replace(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">replace</a>, <a href="../../../arjuna/coordinator/AbstractRecord.html#setNext(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">setNext</a>, <a href="../../../arjuna/coordinator/AbstractRecord.html#setPrevious(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">setPrevious</a>, <a href="../../../arjuna/coordinator/AbstractRecord.html#topLevelOnePhaseCommit()">topLevelOnePhaseCommit</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.arjuna.ats.arjuna.StateManager">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.arjuna.ats.arjuna.<a href="../../../arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a></h3>
<code><a href="../../../arjuna/StateManager.html#activate()">activate</a>, <a href="../../../arjuna/StateManager.html#activate(java.lang.String)">activate</a>, <a href="../../../arjuna/StateManager.html#cleanup(boolean)">cleanup</a>, <a href="../../../arjuna/StateManager.html#createLists()">createLists</a>, <a href="../../../arjuna/StateManager.html#deactivate()">deactivate</a>, <a href="../../../arjuna/StateManager.html#deactivate(java.lang.String)">deactivate</a>, <a href="../../../arjuna/StateManager.html#deactivate(java.lang.String,boolean)">deactivate</a>, <a href="../../../arjuna/StateManager.html#destroy()">destroy</a>, <a href="../../../arjuna/StateManager.html#disable()">disable</a>, <a href="../../../arjuna/StateManager.html#forgetAction(com.arjuna.ats.arjuna.coordinator.BasicAction,boolean,int)">forgetAction</a>, <a href="../../../arjuna/StateManager.html#get_uid()">get_uid</a>, <a href="../../../arjuna/StateManager.html#getMutex()">getMutex</a>, <a href="../../../arjuna/StateManager.html#getObjectModel()">getObjectModel</a>, <a href="../../../arjuna/StateManager.html#getStore()">getStore</a>, <a href="../../../arjuna/StateManager.html#getStoreRoot()">getStoreRoot</a>, <a href="../../../arjuna/StateManager.html#loadObjectState()">loadObjectState</a>, <a href="../../../arjuna/StateManager.html#lockMutex()">lockMutex</a>, <a href="../../../arjuna/StateManager.html#modified()">modified</a>, <a href="../../../arjuna/StateManager.html#objectType()">objectType</a>, <a href="../../../arjuna/StateManager.html#packHeader(com.arjuna.ats.arjuna.state.OutputObjectState,com.arjuna.ats.internal.arjuna.Header)">packHeader</a>, <a href="../../../arjuna/StateManager.html#persist()">persist</a>, <a href="../../../arjuna/StateManager.html#rememberAction(com.arjuna.ats.arjuna.coordinator.BasicAction,int,int)">rememberAction</a>, <a href="../../../arjuna/StateManager.html#setStatus(int)">setStatus</a>, <a href="../../../arjuna/StateManager.html#setupStore()">setupStore</a>, <a href="../../../arjuna/StateManager.html#setupStore(java.lang.String)">setupStore</a>, <a href="../../../arjuna/StateManager.html#setupStore(java.lang.String,java.lang.String)">setupStore</a>, <a href="../../../arjuna/StateManager.html#status()">status</a>, <a href="../../../arjuna/StateManager.html#terminate()">terminate</a>, <a href="../../../arjuna/StateManager.html#tryLockMutex()">tryLockMutex</a>, <a href="../../../arjuna/StateManager.html#unlockMutex()">unlockMutex</a>, <a href="../../../arjuna/StateManager.html#unpackHeader(com.arjuna.ats.arjuna.state.InputObjectState,com.arjuna.ats.internal.arjuna.Header)">unpackHeader</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(com.arjuna.ats.arjuna.state.OutputObjectState,com.arjuna.ats.arjuna.objectstore.ParticipantStore,com.arjuna.ats.arjuna.StateManager)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CadaverRecord</h4>
<pre>public&nbsp;CadaverRecord&#8203;(<a href="../../../arjuna/state/OutputObjectState.html" title="class in com.arjuna.ats.arjuna.state">OutputObjectState</a>&nbsp;os,
                     <a href="../../../arjuna/objectstore/ParticipantStore.html" title="interface in com.arjuna.ats.arjuna.objectstore">ParticipantStore</a>&nbsp;participantStore,
                     <a href="../../../arjuna/StateManager.html" title="class in com.arjuna.ats.arjuna">StateManager</a>&nbsp;sm)</pre>
<div class="block">Create a new instance, passing in the object that is being managed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>os</code> - the state of the object that is being
 removed.</dd>
<dd><code>participantStore</code> - the object participantStore instance used to manipulate the
 persistent state.</dd>
<dd><code>sm</code> - the object being removed.</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CadaverRecord</h4>
<pre>public&nbsp;CadaverRecord()</pre>
<div class="block">Create a new instance using default values. Typically used during
 failure recovery.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="propagateOnAbort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>propagateOnAbort</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;propagateOnAbort()</pre>
<div class="block">Override default AbstractRecord method. CadaverRecords are propagated
 regardless of the termination condition.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../arjuna/coordinator/AbstractRecord.html#propagateOnAbort()">propagateOnAbort</a></code>&nbsp;in class&nbsp;<code><a href="../../../arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code></dd>
</dl>
</li>
</ul>
<a id="typeIs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>typeIs</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;typeIs()</pre>
<div class="block">The type of the record.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="PersistenceRecord.html#typeIs()">typeIs</a></code>&nbsp;in class&nbsp;<code><a href="PersistenceRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">PersistenceRecord</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>RecordType.PERSISTENT</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../arjuna/coordinator/RecordType.html" title="class in com.arjuna.ats.arjuna.coordinator"><code>RecordType</code></a></dd>
</dl>
</li>
</ul>
<a id="nestedAbort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nestedAbort</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;nestedAbort()</pre>
<div class="block">The nested transaction has aborted. The record will invalidate any
 new state.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="RecoveryRecord.html#nestedAbort()">nestedAbort</a></code>&nbsp;in class&nbsp;<code><a href="RecoveryRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">RecoveryRecord</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>TwoPhaseOutcome</code> to indicate success/failure.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../arjuna/coordinator/TwoPhaseOutcome.html" title="class in com.arjuna.ats.arjuna.coordinator"><code>TwoPhaseOutcome</code></a></dd>
</dl>
</li>
</ul>
<a id="nestedPrepare()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nestedPrepare</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;nestedPrepare()</pre>
<div class="block">The nested transaction is preparing. If there is any new state for
 the object being removed, and that state is valid, then this record
 will call nestedPrepare on the object being removed.

 If we have no new state then we cannot commit and must force an
 abort. Do this by failing the prepare phase.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="RecoveryRecord.html#nestedPrepare()">nestedPrepare</a></code>&nbsp;in class&nbsp;<code><a href="RecoveryRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">RecoveryRecord</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>TwoPhaseOutcome</code> to indicate success/failure.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../arjuna/coordinator/TwoPhaseOutcome.html" title="class in com.arjuna.ats.arjuna.coordinator"><code>TwoPhaseOutcome</code></a></dd>
</dl>
</li>
</ul>
<a id="topLevelAbort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>topLevelAbort</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;topLevelAbort()</pre>
<div class="block">The nested transaction has aborted. Invalidate any new state.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="PersistenceRecord.html#topLevelAbort()">topLevelAbort</a></code>&nbsp;in class&nbsp;<code><a href="PersistenceRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">PersistenceRecord</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>TwoPhaseOutcome</code> to indicate success/failure.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../arjuna/coordinator/TwoPhaseOutcome.html" title="class in com.arjuna.ats.arjuna.coordinator"><code>TwoPhaseOutcome</code></a></dd>
</dl>
</li>
</ul>
<a id="topLevelCommit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>topLevelCommit</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;topLevelCommit()</pre>
<div class="block">At topLevelCommit we commit the uncommitted version already saved
 into object participantStore.
 Cannot use inherited version since that assumes object is alive
 instead talk directly to the object participantStore itself.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="PersistenceRecord.html#topLevelCommit()">topLevelCommit</a></code>&nbsp;in class&nbsp;<code><a href="PersistenceRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">PersistenceRecord</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>TwoPhaseOutcome</code> to indicate success/failure.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../arjuna/coordinator/TwoPhaseOutcome.html" title="class in com.arjuna.ats.arjuna.coordinator"><code>TwoPhaseOutcome</code></a></dd>
</dl>
</li>
</ul>
<a id="topLevelPrepare()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>topLevelPrepare</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;topLevelPrepare()</pre>
<div class="block">At topLevelPrepare write uncommitted version into object participantStore.
 Cannot use inherited version since that assumes object is alive
 instead talk directly to the object participantStore itself.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="PersistenceRecord.html#topLevelPrepare()">topLevelPrepare</a></code>&nbsp;in class&nbsp;<code><a href="PersistenceRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">PersistenceRecord</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>TwoPhaseOutcome</code> to indicate success/failure.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../arjuna/coordinator/TwoPhaseOutcome.html" title="class in com.arjuna.ats.arjuna.coordinator"><code>TwoPhaseOutcome</code></a></dd>
</dl>
</li>
</ul>
<a id="print(java.io.PrintWriter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>print</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;print&#8203;(java.io.PrintWriter&nbsp;strm)</pre>
<div class="block">Override AbstractRecord.print to write specific information to
 the specified stream.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="PersistenceRecord.html#print(java.io.PrintWriter)">print</a></code>&nbsp;in class&nbsp;<code><a href="PersistenceRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">PersistenceRecord</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>strm</code> - the stream to use.</dd>
</dl>
</li>
</ul>
<a id="type()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>type</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;type()</pre>
<div class="block">The type of the class - may be used to save information in an
 hierarchical manner in the object participantStore.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="PersistenceRecord.html#type()">type</a></code>&nbsp;in class&nbsp;<code><a href="PersistenceRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">PersistenceRecord</a></code></dd>
</dl>
</li>
</ul>
<a id="doSave()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doSave</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;doSave()</pre>
<div class="block">Override the AbstractRecord.doSave.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="PersistenceRecord.html#doSave()">doSave</a></code>&nbsp;in class&nbsp;<code><a href="PersistenceRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">PersistenceRecord</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the object being removed is a persistent
 object (RecordType.PERSISTENT). <code>false</code> otherwise.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../arjuna/coordinator/RecordType.html" title="class in com.arjuna.ats.arjuna.coordinator"><code>RecordType</code></a></dd>
</dl>
</li>
</ul>
<a id="merge(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>merge</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;merge&#8203;(<a href="../../../arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;mergewith)</pre>
<div class="block">merge takes the information from the incoming PersistenceRecord and
 uses it to initialise the oldState information. This is required
 for processing of action aborts since CadaverRecords maintain the
 final state of an object normally - which is required if the action
 commits.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="RecoveryRecord.html#merge(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">merge</a></code>&nbsp;in class&nbsp;<code><a href="RecoveryRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">RecoveryRecord</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mergewith</code> - The record to merge with.</dd>
</dl>
</li>
</ul>
<a id="shouldMerge(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shouldMerge</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;shouldMerge&#8203;(<a href="../../../arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;ar)</pre>
<div class="block">Overrides AbstractRecord.shouldMerge</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="RecoveryRecord.html#shouldMerge(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">shouldMerge</a></code>&nbsp;in class&nbsp;<code><a href="RecoveryRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">RecoveryRecord</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ar</code> - the record to potentially merge with.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this instance and the parameter have the
 same id (order()) and the parameter is either persistent or recoverable.
 <code>false</code> otherwise.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../arjuna/coordinator/RecordType.html" title="class in com.arjuna.ats.arjuna.coordinator"><code>RecordType</code></a></dd>
</dl>
</li>
</ul>
<a id="shouldReplace(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>shouldReplace</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;shouldReplace&#8203;(<a href="../../../arjuna/coordinator/AbstractRecord.html" title="class in com.arjuna.ats.arjuna.coordinator">AbstractRecord</a>&nbsp;ar)</pre>
<div class="block">Overrides AbstractRecord.shouldReplace</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="RecoveryRecord.html#shouldReplace(com.arjuna.ats.arjuna.coordinator.AbstractRecord)">shouldReplace</a></code>&nbsp;in class&nbsp;<code><a href="RecoveryRecord.html" title="class in com.arjuna.ats.internal.arjuna.abstractrecords">RecoveryRecord</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ar</code> - the record to potentially replace this
 instance.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this instance and the parameter have the
 same id (order()) and the parameter is either persistent or recoverable.
 <code>false</code> otherwise.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../arjuna/coordinator/RecordType.html" title="class in com.arjuna.ats.arjuna.coordinator"><code>RecordType</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CadaverRecord.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Narayana: narayana-full 6.0.0.Final</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2023 <a href="http://www.jboss.org">JBoss by Red Hat</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
