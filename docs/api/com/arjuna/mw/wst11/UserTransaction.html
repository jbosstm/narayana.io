<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html" charset="UTF-8"> <title>UserTransaction (Narayana: narayana-full 5.0.4.Final-SNAPSHOT API)</title> <meta name="date" content="2014-11-19"> <link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style"> </head> <body> <script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="UserTransaction (Narayana: narayana-full 5.0.4.Final-SNAPSHOT API)";
    }
//-->
</script> <noscript> <div>JavaScript is disabled on your browser.</div> </noscript> <div class="topNav"><a name="navbar_top"> </a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow"> </a> <ul class="navList" title="Navigation"> <li><a href="../../../../overview-summary.html">Overview</a></li> <li><a href="package-summary.html">Package</a></li> <li class="navBarCell1Rev">Class</li> <li><a href="class-use/UserTransaction.html">Use</a></li> <li><a href="package-tree.html">Tree</a></li> <li><a href="../../../../deprecated-list.html">Deprecated</a></li> <li><a href="../../../../index-all.html">Index</a></li> <li><a href="../../../../help-doc.html">Help</a></li> </ul> <div class="aboutLanguage"><em><b>Narayana: narayana-full 5.0.4.Final-SNAPSHOT</b></em></div> </div> <div class="subNav"> <ul class="navList"> <li><a href="../../../../com/arjuna/mw/wst11/UserBusinessActivityFactory.html" title="class in com.arjuna.mw.wst11"><span class="strong">Prev Class</span></a></li> <li><a href="../../../../com/arjuna/mw/wst11/UserTransactionFactory.html" title="class in com.arjuna.mw.wst11"><span class="strong">Next Class</span></a></li> </ul> <ul class="navList"> <li><a href="../../../../index.html?com/arjuna/mw/wst11/UserTransaction.html" target="_top">Frames</a></li> <li><a href="UserTransaction.html" target="_top">No Frames</a></li> </ul> <ul class="navList" id="allclasses_navbar_top"> <li><a href="../../../../allclasses-noframe.html">All Classes</a></li> </ul> <div> <script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script> </div> <div> <ul class="subNavList"> <li>Summary:&nbsp;</li> <li>Nested&nbsp;|&nbsp;</li> <li>Field&nbsp;|&nbsp;</li> <li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method_summary">Method</a></li> </ul> <ul class="subNavList"> <li>Detail:&nbsp;</li> <li>Field&nbsp;|&nbsp;</li> <li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method_detail">Method</a></li> </ul> </div> <a name="skip-navbar_top"> </a></div> <div class="header"> <div class="subTitle">com.arjuna.mw.wst11</div> <h2 title="Class UserTransaction" class="title">Class UserTransaction</h2> </div> <div class="contentContainer"> <ul class="inheritance"> <li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li> <li> <ul class="inheritance"> <li>com.arjuna.mw.wst11.UserTransaction</li> </ul> </li> </ul> <div class="description"> <ul class="blockList"> <li class="blockList"> <hr> <br> <pre>public abstract class <span class="strong">UserTransaction</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre> <div class="block">This is the interface that allows transactions to be started and terminated. The messaging layer converts the Commit, Rollback and Notify messages into calls on this. Importantly, a UserTransaction does not represent a specific transaction, but rather is responsible for providing access to an implicit per-thread transaction context; it is similar to the UserTransaction in the JTA specification. Therefore, all of the UserTransaction methods implicitly act on the current thread of control.</div> <dl><dt><span class="strong">Since:</span></dt> <dd>XTS 1.0.</dd> <dt><span class="strong">Version:</span></dt> <dd>$Id: UserTransaction.java,v 1.8.4.1 2005/11/22 10:36:05 kconner Exp $</dd> <dt><span class="strong">Author:</span></dt> <dd>Mark Little (mark.little@arjuna.com)</dd></dl> </li> </ul> </div> <div class="summary"> <ul class="blockList"> <li class="blockList"> <ul class="blockList"> <li class="blockList"><a name="constructor_summary"> </a> <h3>Constructor Summary</h3> <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation"> <caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption> <tr> <th class="colOne" scope="col">Constructor and Description</th> </tr> <tr class="altColor"> <td class="colOne"><code><strong><a href="../../../../com/arjuna/mw/wst11/UserTransaction.html#UserTransaction()">UserTransaction</a></strong>()</code>&nbsp;</td> </tr> </table> </li> </ul> <ul class="blockList"> <li class="blockList"><a name="method_summary"> </a> <h3>Method Summary</h3> <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation"> <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption> <tr> <th class="colFirst" scope="col">Modifier and Type</th> <th class="colLast" scope="col">Method and Description</th> </tr> <tr class="altColor"> <td class="colFirst"><code>abstract void</code></td> <td class="colLast"><code><strong><a href="../../../../com/arjuna/mw/wst11/UserTransaction.html#begin()">begin</a></strong>()</code> <div class="block">Start a new transaction.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>abstract void</code></td> <td class="colLast"><code><strong><a href="../../../../com/arjuna/mw/wst11/UserTransaction.html#begin(int)">begin</a></strong>(int&nbsp;timeout)</code> <div class="block">Start a new transaction with the specified timeout as its lifetime.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>abstract void</code></td> <td class="colLast"><code><strong><a href="../../../../com/arjuna/mw/wst11/UserTransaction.html#commit()">commit</a></strong>()</code> <div class="block">The transaction is committed by the commit method.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>abstract <a href="../../../../com/arjuna/mw/wst11/UserTransaction.html" title="class in com.arjuna.mw.wst11">UserTransaction</a></code></td> <td class="colLast"><code><strong><a href="../../../../com/arjuna/mw/wst11/UserTransaction.html#getUserSubordinateTransaction()">getUserSubordinateTransaction</a></strong>()</code> <div class="block">get the user subordinate transaction this is a UserTransaction whose begin method will create an interposed AT transaction</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>static <a href="../../../../com/arjuna/mw/wst11/UserTransaction.html" title="class in com.arjuna.mw.wst11">UserTransaction</a></code></td> <td class="colLast"><code><strong><a href="../../../../com/arjuna/mw/wst11/UserTransaction.html#getUserTransaction()">getUserTransaction</a></strong>()</code> <div class="block">Get the user transaction.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>abstract void</code></td> <td class="colLast"><code><strong><a href="../../../../com/arjuna/mw/wst11/UserTransaction.html#rollback()">rollback</a></strong>()</code> <div class="block">The rollback operation will terminate the transaction and return normally if it succeeded, while throwing an appropriate exception if it didn't.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>static void</code></td> <td class="colLast"><code><strong><a href="../../../../com/arjuna/mw/wst11/UserTransaction.html#setUserTransaction(com.arjuna.mw.wst11.UserTransaction)">setUserTransaction</a></strong>(<a href="../../../../com/arjuna/mw/wst11/UserTransaction.html" title="class in com.arjuna.mw.wst11">UserTransaction</a>&nbsp;userTransaction)</code> <div class="block">Set the user transaction.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>abstract <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td> <td class="colLast"><code><strong><a href="../../../../com/arjuna/mw/wst11/UserTransaction.html#transactionIdentifier()">transactionIdentifier</a></strong>()</code>&nbsp;</td> </tr> </table> <ul class="blockList"> <li class="blockList"><a name="methods_inherited_from_class_java.lang.Object"> </a> <h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3> <code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li> </ul> </li> </ul> </li> </ul> </div> <div class="details"> <ul class="blockList"> <li class="blockList"> <ul class="blockList"> <li class="blockList"><a name="constructor_detail"> </a> <h3>Constructor Detail</h3> <a name="UserTransaction()"> </a> <ul class="blockListLast"> <li class="blockList"> <h4>UserTransaction</h4> <pre>public&nbsp;UserTransaction()</pre> </li> </ul> </li> </ul> <ul class="blockList"> <li class="blockList"><a name="method_detail"> </a> <h3>Method Detail</h3> <a name="getUserTransaction()"> </a> <ul class="blockList"> <li class="blockList"> <h4>getUserTransaction</h4> <pre>public static&nbsp;<a href="../../../../com/arjuna/mw/wst11/UserTransaction.html" title="class in com.arjuna.mw.wst11">UserTransaction</a>&nbsp;getUserTransaction()</pre> <div class="block">Get the user transaction.</div> <dl><dt><span class="strong">Returns:</span></dt><dd>the user transaction.</dd></dl> </li> </ul> <a name="setUserTransaction(com.arjuna.mw.wst11.UserTransaction)"> </a> <ul class="blockList"> <li class="blockList"> <h4>setUserTransaction</h4> <pre>public static&nbsp;void&nbsp;setUserTransaction(<a href="../../../../com/arjuna/mw/wst11/UserTransaction.html" title="class in com.arjuna.mw.wst11">UserTransaction</a>&nbsp;userTransaction)</pre> <div class="block">Set the user transaction.</div> <dl><dt><span class="strong">Parameters:</span></dt><dd><code>userTransaction</code> - The user transaction.</dd></dl> </li> </ul> <a name="getUserSubordinateTransaction()"> </a> <ul class="blockList"> <li class="blockList"> <h4>getUserSubordinateTransaction</h4> <pre>public abstract&nbsp;<a href="../../../../com/arjuna/mw/wst11/UserTransaction.html" title="class in com.arjuna.mw.wst11">UserTransaction</a>&nbsp;getUserSubordinateTransaction()</pre> <div class="block">get the user subordinate transaction this is a UserTransaction whose begin method will create an interposed AT transaction</div> </li> </ul> <a name="begin()"> </a> <ul class="blockList"> <li class="blockList"> <h4>begin</h4> <pre>public abstract&nbsp;void&nbsp;begin()
                    throws <a href="../../../../com/arjuna/wst/WrongStateException.html" title="class in com.arjuna.wst">WrongStateException</a>,
                           <a href="../../../../com/arjuna/wst/SystemException.html" title="class in com.arjuna.wst">SystemException</a></pre> <div class="block">Start a new transaction. If one is already associated with this thread then the WrongStateException will be thrown. Upon success, this operation associates the newly created transaction with the current thread.</div> <dl><dt><span class="strong">Throws:</span></dt> <dd><code><a href="../../../../com/arjuna/wst/WrongStateException.html" title="class in com.arjuna.wst">WrongStateException</a></code></dd> <dd><code><a href="../../../../com/arjuna/wst/SystemException.html" title="class in com.arjuna.wst">SystemException</a></code></dd></dl> </li> </ul> <a name="begin(int)"> </a> <ul class="blockList"> <li class="blockList"> <h4>begin</h4> <pre>public abstract&nbsp;void&nbsp;begin(int&nbsp;timeout)
                    throws <a href="../../../../com/arjuna/wst/WrongStateException.html" title="class in com.arjuna.wst">WrongStateException</a>,
                           <a href="../../../../com/arjuna/wst/SystemException.html" title="class in com.arjuna.wst">SystemException</a></pre> <div class="block">Start a new transaction with the specified timeout as its lifetime. If one is already associated with this thread then the WrongStateException will be thrown.</div> <dl><dt><span class="strong">Throws:</span></dt> <dd><code><a href="../../../../com/arjuna/wst/WrongStateException.html" title="class in com.arjuna.wst">WrongStateException</a></code></dd> <dd><code><a href="../../../../com/arjuna/wst/SystemException.html" title="class in com.arjuna.wst">SystemException</a></code></dd></dl> </li> </ul> <a name="commit()"> </a> <ul class="blockList"> <li class="blockList"> <h4>commit</h4> <pre>public abstract&nbsp;void&nbsp;commit()
                     throws <a href="../../../../com/arjuna/wst/TransactionRolledBackException.html" title="class in com.arjuna.wst">TransactionRolledBackException</a>,
                            <a href="../../../../com/arjuna/wst/UnknownTransactionException.html" title="class in com.arjuna.wst">UnknownTransactionException</a>,
                            <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/SecurityException.html?is-external=true" title="class or interface in java.lang">SecurityException</a>,
                            <a href="../../../../com/arjuna/wst/SystemException.html" title="class in com.arjuna.wst">SystemException</a>,
                            <a href="../../../../com/arjuna/wst/WrongStateException.html" title="class in com.arjuna.wst">WrongStateException</a></pre> <div class="block">The transaction is committed by the commit method. This will execute the PhaseZero, 2PC and OutcomeNotification protocols prior to returning. If there is no transaction associated with the invoking thread then WrongStateException is thrown. If the coordinator is not aware of the current transaction UnknownTransactionException is thrown. If the transaction ultimately rolls back then the TransactionRolledBackException is thrown. If any other error occurs a SystemException is thrown. When complete, this operation disassociates the transaction from the current thread such that it becomes associated with no transaction.</div> <dl><dt><span class="strong">Throws:</span></dt> <dd><code><a href="../../../../com/arjuna/wst/TransactionRolledBackException.html" title="class in com.arjuna.wst">TransactionRolledBackException</a></code></dd> <dd><code><a href="../../../../com/arjuna/wst/UnknownTransactionException.html" title="class in com.arjuna.wst">UnknownTransactionException</a></code></dd> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/SecurityException.html?is-external=true" title="class or interface in java.lang">SecurityException</a></code></dd> <dd><code><a href="../../../../com/arjuna/wst/SystemException.html" title="class in com.arjuna.wst">SystemException</a></code></dd> <dd><code><a href="../../../../com/arjuna/wst/WrongStateException.html" title="class in com.arjuna.wst">WrongStateException</a></code></dd></dl> </li> </ul> <a name="rollback()"> </a> <ul class="blockList"> <li class="blockList"> <h4>rollback</h4> <pre>public abstract&nbsp;void&nbsp;rollback()
                       throws <a href="../../../../com/arjuna/wst/UnknownTransactionException.html" title="class in com.arjuna.wst">UnknownTransactionException</a>,
                              <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/SecurityException.html?is-external=true" title="class or interface in java.lang">SecurityException</a>,
                              <a href="../../../../com/arjuna/wst/SystemException.html" title="class in com.arjuna.wst">SystemException</a>,
                              <a href="../../../../com/arjuna/wst/WrongStateException.html" title="class in com.arjuna.wst">WrongStateException</a></pre> <div class="block">The rollback operation will terminate the transaction and return normally if it succeeded, while throwing an appropriate exception if it didn't. If there is no transaction associated with the invoking thread then WrongStateException is thrown. If the coordinator is not aware of the current transaction UnknownTransactionException is thrown. If any other error occurs a SystemException is thrown. When complete, this operation disassociates the transaction from the current thread such that it becomes associated with no transaction.</div> <dl><dt><span class="strong">Throws:</span></dt> <dd><code><a href="../../../../com/arjuna/wst/UnknownTransactionException.html" title="class in com.arjuna.wst">UnknownTransactionException</a></code></dd> <dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/SecurityException.html?is-external=true" title="class or interface in java.lang">SecurityException</a></code></dd> <dd><code><a href="../../../../com/arjuna/wst/SystemException.html" title="class in com.arjuna.wst">SystemException</a></code></dd> <dd><code><a href="../../../../com/arjuna/wst/WrongStateException.html" title="class in com.arjuna.wst">WrongStateException</a></code></dd></dl> </li> </ul> <a name="transactionIdentifier()"> </a> <ul class="blockListLast"> <li class="blockList"> <h4>transactionIdentifier</h4> <pre>public abstract&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;transactionIdentifier()</pre> </li> </ul> </li> </ul> </li> </ul> </div> </div> <div class="bottomNav"><a name="navbar_bottom"> </a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow"> </a> <ul class="navList" title="Navigation"> <li><a href="../../../../overview-summary.html">Overview</a></li> <li><a href="package-summary.html">Package</a></li> <li class="navBarCell1Rev">Class</li> <li><a href="class-use/UserTransaction.html">Use</a></li> <li><a href="package-tree.html">Tree</a></li> <li><a href="../../../../deprecated-list.html">Deprecated</a></li> <li><a href="../../../../index-all.html">Index</a></li> <li><a href="../../../../help-doc.html">Help</a></li> </ul> <div class="aboutLanguage"><em><b>Narayana: narayana-full 5.0.4.Final-SNAPSHOT</b></em></div> </div> <div class="subNav"> <ul class="navList"> <li><a href="../../../../com/arjuna/mw/wst11/UserBusinessActivityFactory.html" title="class in com.arjuna.mw.wst11"><span class="strong">Prev Class</span></a></li> <li><a href="../../../../com/arjuna/mw/wst11/UserTransactionFactory.html" title="class in com.arjuna.mw.wst11"><span class="strong">Next Class</span></a></li> </ul> <ul class="navList"> <li><a href="../../../../index.html?com/arjuna/mw/wst11/UserTransaction.html" target="_top">Frames</a></li> <li><a href="UserTransaction.html" target="_top">No Frames</a></li> </ul> <ul class="navList" id="allclasses_navbar_bottom"> <li><a href="../../../../allclasses-noframe.html">All Classes</a></li> </ul> <div> <script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script> </div> <div> <ul class="subNavList"> <li>Summary:&nbsp;</li> <li>Nested&nbsp;|&nbsp;</li> <li>Field&nbsp;|&nbsp;</li> <li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method_summary">Method</a></li> </ul> <ul class="subNavList"> <li>Detail:&nbsp;</li> <li>Field&nbsp;|&nbsp;</li> <li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method_detail">Method</a></li> </ul> </div> <a name="skip-navbar_bottom"> </a></div> <p class="legalCopy"><small>Copyright &#169; 2014 <a href="http://www.jboss.org">JBoss by Red Hat</a>. All Rights Reserved.</small></p> </body> </html>